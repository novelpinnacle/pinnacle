(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{Ta9C:function(c,t,e){"use strict";e.r(t),e.d(t,"OfflineExamModule",(function(){return $t}));var i=e("ofXK"),n=e("tyNb"),o=e("n+G7"),s=e("mrSG"),a=e("SP9e"),r=e("byUP"),l=e("fXoL"),d=e("4KEQ"),u=e("QeEr"),m=e("FnMX"),h=e("aCk2"),b=e("G0I0"),g=e("3Pt+"),f=e("bTqV"),p=e("NFeN"),j=e("ZMsq"),x=e("V/o5"),v=e("kmnG"),M=e("qFsG"),P=e("QibW"),k=e("z17N"),I=e("d3UM"),C=e("FKr1");function w(c,t){if(1&c&&(l.jc(0,"mat-option",9),l.Wc(1),l.ic()),2&c){const c=t.$implicit;l.Bc("value",c.courseId),l.Pb(1),l.Yc("",c.course," ")}}function B(c,t){if(1&c&&(l.jc(0,"mat-option",9),l.Wc(1),l.ic()),2&c){const c=t.$implicit;l.Bc("value",c.batchId),l.Pb(1),l.Yc("",c.batch," ")}}function W(c,t){if(1&c){const c=l.kc();l.jc(0,"button",26),l.rc("click",(function(t){l.Mc(c);const e=l.vc().index,i=l.vc();return t.preventDefault(),i.removeItem(e)})),l.jc(1,"mat-icon"),l.Wc(2,"remove"),l.ic(),l.ic()}}function F(c,t){if(1&c){const c=l.kc();l.hc(0),l.jc(1,"div",19),l.jc(2,"mat-form-field"),l.jc(3,"mat-label"),l.Wc(4,"Select Course"),l.ic(),l.jc(5,"mat-select",20),l.rc("ngModelChange",(function(e){return l.Mc(c),t.$implicit.courseId=e}))("selectionChange",(function(){l.Mc(c);const e=t.$implicit,i=t.index;return l.vc().setBatches(e.courseId,i)})),l.Vc(6,w,2,2,"mat-option",21),l.ic(),l.ic(),l.ic(),l.jc(7,"div",19),l.jc(8,"mat-form-field"),l.jc(9,"mat-label"),l.Wc(10,"Select Batch"),l.ic(),l.jc(11,"mat-select",22),l.rc("ngModelChange",(function(e){return l.Mc(c),t.$implicit.batchId=e})),l.Vc(12,B,2,2,"mat-option",21),l.ic(),l.ic(),l.ic(),l.jc(13,"div",23),l.jc(14,"button",24),l.rc("click",(function(e){l.Mc(c);const i=t.index,n=l.vc();return e.preventDefault(),n.addMore(i)})),l.jc(15,"mat-icon"),l.Wc(16,"add"),l.ic(),l.ic(),l.Vc(17,W,3,0,"button",25),l.ic(),l.gc()}if(2&c){const c=t.$implicit,e=t.index;l.Pb(5),l.Bc("ngModel",c.courseId)("name","courseId"+e),l.Pb(1),l.Bc("ngForOf",c.courses),l.Pb(5),l.Bc("ngModel",c.batchId)("name","batchId"+e),l.Pb(1),l.Bc("ngForOf",c.batches),l.Pb(5),l.Bc("ngIf",e>0)}}let S=(()=>{class c{constructor(c,t){this.coreService=c,this.dialog=t,this.examForm={examName:null,examCode:null,category:null,examDate:null},this.coursesBatches=[{courses:[],courseId:null,batches:[],batchId:null}]}ngOnInit(){this.getCourses()}getCourses(){this.coreService.getRequest(a.a.API_URL+"courses").subscribe(c=>{this.courses=c,this.coursesBatches[0].courses=c})}setBatches(c,t){let e=this.courses.find(t=>t.courseId==c);e&&(this.coursesBatches[t].batches=e.batches,this.coursesBatches[t].batchId=null)}setSelectedFile(c){this.selectedFile=c.target.files[0]}addMore(c){let t=this.courses.filter(t=>t.courseId==this.coursesBatches[c].courseId);this.coursesBatches.push({courses:t,courseId:null,batchId:null,batches:[]})}removeItem(c){this.coursesBatches.splice(c,1)}saveExam(){this.loading=!0;let c={batchIds:[],courseId:this.coursesBatches[0].courseId};this.coursesBatches.forEach(t=>c.batchIds.push(t.batchId)),Object.assign(c,this.examForm),c.examDate=new Date(this.examForm.examDate+" UTC").toISOString().slice(0,19).replace("T"," ");let t=new FormData;t.append("courseId",this.coursesBatches[0].courseId),t.append("batchIds",c.batchIds+""),t.append("examName",this.examForm.examName),t.append("examCode",this.examForm.examCode),t.append("category",this.examForm.category),t.append("examDate",c.examDate),t.append("pdf",this.selectedFile),this.coreService.uploadRequest(a.a.API_URL+"offline-exams",t).subscribe(c=>{this.loading=!1,this.callBack(),this.modal.showAddModal=!1,this.dialog.showDialog({content:c.message})})}}return c.\u0275fac=function(t){return new(t||c)(l.dc(d.a),l.dc(u.a))},c.\u0275cmp=l.Xb({type:c,selectors:[["add-offline-exam"]],inputs:{callBack:"callBack",modal:"modal"},decls:35,vars:12,consts:[[3,"ngSubmit"],["examFrm","ngForm"],[1,"row"],[1,"col-sm-6"],["matInput","","name","examName","required","",3,"ngModel","ngModelChange"],["matInput","","name","examCode","required","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"label"],["name","category","required","",3,"ngModel","ngModelChange"],[3,"value"],["id","date-field"],["name","examDate","matInput","","placeholder","Exam Date","required","",3,"ngModel","owlDateTime","owlDateTimeTrigger","ngModelChange"],["matSuffix","",1,"material-icons"],[3,"pickerType"],["dt1",""],["type","file","name","pdf","ngModel","",3,"change"],[1,"col-sm-12","row","justify-content-end"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[3,"show"],[1,"col-sm-5"],[3,"ngModel","name","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","name","ngModelChange"],[1,"col-sm-2","justify-content-between","row"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","warn",3,"click",4,"ngIf"],["mat-mini-fab","","color","warn",3,"click"]],template:function(c,t){if(1&c&&(l.jc(0,"form",0,1),l.rc("ngSubmit",(function(){return t.saveExam()})),l.jc(2,"div",2),l.jc(3,"div",3),l.jc(4,"mat-form-field"),l.jc(5,"mat-label"),l.Wc(6,"Exam Name"),l.ic(),l.jc(7,"input",4),l.rc("ngModelChange",(function(c){return t.examForm.examName=c})),l.ic(),l.ic(),l.ic(),l.jc(8,"div",3),l.jc(9,"mat-form-field"),l.jc(10,"mat-label"),l.Wc(11,"Exam Code"),l.ic(),l.jc(12,"input",5),l.rc("ngModelChange",(function(c){return t.examForm.examCode=c})),l.ic(),l.ic(),l.ic(),l.Vc(13,F,18,7,"ng-container",6),l.jc(14,"div",3),l.jc(15,"label",7),l.Wc(16,"Category"),l.ic(),l.jc(17,"mat-radio-group",8),l.rc("ngModelChange",(function(c){return t.examForm.category=c})),l.jc(18,"mat-radio-button",9),l.Wc(19,"Subjective"),l.ic(),l.jc(20,"mat-radio-button",9),l.Wc(21,"Objective"),l.ic(),l.ic(),l.ic(),l.jc(22,"div",3),l.jc(23,"mat-form-field",10),l.jc(24,"input",11),l.rc("ngModelChange",(function(c){return t.examForm.examDate=c})),l.ic(),l.jc(25,"span",12),l.Wc(26,"calendar_today"),l.ic(),l.ec(27,"owl-date-time",13,14),l.ic(),l.ic(),l.jc(29,"div",3),l.jc(30,"input",15),l.rc("change",(function(c){return t.setSelectedFile(c)})),l.ic(),l.ic(),l.jc(31,"div",16),l.jc(32,"button",17),l.Wc(33,"Submit"),l.ic(),l.ic(),l.ic(),l.ic(),l.ec(34,"loading",18)),2&c){const c=l.Ic(1),e=l.Ic(28);l.Pb(7),l.Bc("ngModel",t.examForm.examName),l.Pb(5),l.Bc("ngModel",t.examForm.examCode),l.Pb(1),l.Bc("ngForOf",t.coursesBatches),l.Pb(4),l.Bc("ngModel",t.examForm.category),l.Pb(1),l.Bc("value","S"),l.Pb(2),l.Bc("value","O"),l.Pb(4),l.Bc("ngModel",t.examForm.examDate)("owlDateTime",e)("owlDateTimeTrigger",e),l.Pb(3),l.Bc("pickerType","calendar"),l.Pb(5),l.Bc("disabled",c.invalid),l.Pb(2),l.Bc("show",t.loading)}},directives:[g.v,g.l,g.m,v.b,v.e,M.a,g.b,g.r,g.k,g.n,i.j,P.b,P.a,k.b,k.d,v.f,k.a,f.b,x.a,I.a,p.a,i.k,C.h],styles:["[class*=col-][_ngcontent-%COMP%]{padding:0 10px}mat-radio-group[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}mat-radio-button[_ngcontent-%COMP%]{color:#666;font-weight:400}#date-field[_ngcontent-%COMP%]{margin-top:7px}"]}),c})();var O=e("Sz29");function y(c,t){if(1&c&&(l.jc(0,"mat-option",9),l.Wc(1),l.ic()),2&c){const c=t.$implicit;l.Bc("value",c.courseId),l.Pb(1),l.Yc("",c.course," ")}}function D(c,t){if(1&c&&(l.jc(0,"mat-option",9),l.Wc(1),l.ic()),2&c){const c=t.$implicit;l.Bc("value",c.batchId),l.Pb(1),l.Yc("",c.batch," ")}}function E(c,t){if(1&c){const c=l.kc();l.hc(0),l.jc(1,"div",18),l.jc(2,"mat-form-field"),l.jc(3,"mat-label"),l.Wc(4,"Select Course"),l.ic(),l.jc(5,"mat-select",19),l.rc("ngModelChange",(function(e){return l.Mc(c),t.$implicit.courseId=e}))("selectionChange",(function(){l.Mc(c);const e=t.$implicit,i=t.index;return l.vc().setBatches(e.courseId,i)})),l.Vc(6,y,2,2,"mat-option",20),l.ic(),l.ic(),l.ic(),l.jc(7,"div",18),l.jc(8,"mat-form-field"),l.jc(9,"mat-label"),l.Wc(10,"Select Batch"),l.ic(),l.jc(11,"mat-select",21),l.rc("ngModelChange",(function(e){return l.Mc(c),t.$implicit.batchId=e})),l.Vc(12,D,2,2,"mat-option",20),l.ic(),l.ic(),l.ic(),l.jc(13,"div",22),l.jc(14,"button",23),l.rc("click",(function(e){l.Mc(c);const i=t.index,n=l.vc();return e.preventDefault(),n.addMore(i)})),l.jc(15,"mat-icon"),l.Wc(16,"add"),l.ic(),l.ic(),l.jc(17,"button",24),l.rc("click",(function(e){l.Mc(c);const i=t.index,n=l.vc();return e.preventDefault(),n.removeItem(i)})),l.jc(18,"mat-icon"),l.Wc(19,"remove"),l.ic(),l.ic(),l.ic(),l.gc()}if(2&c){const c=t.$implicit,e=t.index;l.Pb(5),l.Bc("ngModel",c.courseId)("name","courseId"+e),l.Pb(1),l.Bc("ngForOf",c.courses),l.Pb(5),l.Bc("ngModel",c.batchId)("name","batchId"+e),l.Pb(1),l.Bc("ngForOf",c.batches)}}let _=(()=>{class c{constructor(c,t,e){this.coreService=c,this.dialog=t,this.dateTimeService=e,this.loading=!0,this.coursesBatches=[]}ngOnInit(){this.getCourses(),this.examDate=new Date(this.exam.examDate)}getCourses(){this.coreService.getRequest(a.a.API_URL+"courses").subscribe(c=>{this.loading=!1,this.courses=c,this.exam.batchId||this.coursesBatches.push({courseId:null,courses:this.courses,batchId:null,batches:[]});let t=this.exam.batchId?this.exam.batchId.split(","):[],e=0;t.forEach(c=>{this.coursesBatches.push({courses:this.courses,courseId:this.exam.courseId,batchId:+c,batches:[]}),this.setBatches(this.exam.courseId,e+0),e++})})}setBatches(c,t){let e=this.courses.find(t=>t.courseId==c);e&&(this.coursesBatches[t].batches=e.batches)}addMore(c){let t=this.courses.filter(t=>t.courseId==this.coursesBatches[c].courseId);this.coursesBatches.push({courses:t,courseId:null,batchId:null,batches:[]})}removeItem(c){this.coursesBatches.splice(c,1)}updateExam(){let c={batchIds:[],courseId:this.coursesBatches.length>0?this.coursesBatches[0].courseId:null,examName:this.exam.examName,examCode:this.exam.examCode,examId:this.exam.examId,category:this.exam.category,examDate:new Date(this.examDate+" UTC").toISOString().slice(0,19).replace("T"," ")};this.coursesBatches.forEach(t=>c.batchIds.push(t.batchId)),this.loading=!0,this.coreService.putRequest(a.a.API_URL+"offline-exams/",c).subscribe(t=>{this.loading=!1,this.dialog.showDialog({content:t.message}),this.exam.examDate=this.dateTimeService.getFormattedDate(c.examDate),this.modals.showEditModal=!1})}}return c.\u0275fac=function(t){return new(t||c)(l.dc(d.a),l.dc(u.a),l.dc(O.a))},c.\u0275cmp=l.Xb({type:c,selectors:[["edit-offline-exam"]],inputs:{exam:"exam",modals:"modals"},decls:33,vars:12,consts:[[3,"ngSubmit"],["examFrm","ngForm"],[1,"row"],[1,"col-sm-6"],["matInput","","name","examName","required","",3,"ngModel","ngModelChange"],["matInput","","name","examCode","required","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"label"],["name","category","required","",3,"ngModel","ngModelChange"],[3,"value"],["id","date-field"],["name","examDate","matInput","","placeholder","Exam Date","required","",3,"ngModel","owlDateTime","owlDateTimeTrigger","ngModelChange"],["matSuffix","",1,"material-icons"],[3,"pickerType"],["dt1",""],[1,"col-sm-12","row","justify-content-end"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[3,"show"],[1,"col-sm-5"],["required","",3,"ngModel","name","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["required","",3,"ngModel","name","ngModelChange"],[1,"col-sm-2","justify-content-between","row"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","warn",3,"click"]],template:function(c,t){if(1&c&&(l.jc(0,"form",0,1),l.rc("ngSubmit",(function(){return t.updateExam()})),l.jc(2,"div",2),l.jc(3,"div",3),l.jc(4,"mat-form-field"),l.jc(5,"mat-label"),l.Wc(6,"Exam Name"),l.ic(),l.jc(7,"input",4),l.rc("ngModelChange",(function(c){return t.exam.examName=c})),l.ic(),l.ic(),l.ic(),l.jc(8,"div",3),l.jc(9,"mat-form-field"),l.jc(10,"mat-label"),l.Wc(11,"Exam Code"),l.ic(),l.jc(12,"input",5),l.rc("ngModelChange",(function(c){return t.exam.examCode=c})),l.ic(),l.ic(),l.ic(),l.Vc(13,E,20,6,"ng-container",6),l.jc(14,"div",3),l.jc(15,"label",7),l.Wc(16,"Category"),l.ic(),l.jc(17,"mat-radio-group",8),l.rc("ngModelChange",(function(c){return t.exam.category=c})),l.jc(18,"mat-radio-button",9),l.Wc(19,"Subjective"),l.ic(),l.jc(20,"mat-radio-button",9),l.Wc(21,"Objective"),l.ic(),l.ic(),l.ic(),l.jc(22,"div",3),l.jc(23,"mat-form-field",10),l.jc(24,"input",11),l.rc("ngModelChange",(function(c){return t.examDate=c})),l.ic(),l.jc(25,"span",12),l.Wc(26,"calendar_today"),l.ic(),l.ec(27,"owl-date-time",13,14),l.ic(),l.ic(),l.jc(29,"div",15),l.jc(30,"button",16),l.Wc(31,"Submit"),l.ic(),l.ic(),l.ic(),l.ic(),l.ec(32,"loading",17)),2&c){const c=l.Ic(1),e=l.Ic(28);l.Pb(7),l.Bc("ngModel",t.exam.examName),l.Pb(5),l.Bc("ngModel",t.exam.examCode),l.Pb(1),l.Bc("ngForOf",t.coursesBatches),l.Pb(4),l.Bc("ngModel",t.exam.category),l.Pb(1),l.Bc("value","S"),l.Pb(2),l.Bc("value","O"),l.Pb(4),l.Bc("ngModel",t.examDate)("owlDateTime",e)("owlDateTimeTrigger",e),l.Pb(3),l.Bc("pickerType","calendar"),l.Pb(3),l.Bc("disabled",c.invalid),l.Pb(2),l.Bc("show",t.loading)}},directives:[g.v,g.l,g.m,v.b,v.e,M.a,g.b,g.r,g.k,g.n,i.j,P.b,P.a,k.b,k.d,v.f,k.a,f.b,x.a,I.a,p.a,C.h],styles:["[class*=col-][_ngcontent-%COMP%]{padding:0 10px}mat-radio-group[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}mat-radio-button[_ngcontent-%COMP%]{color:#666;font-weight:400}#date-field[_ngcontent-%COMP%]{margin-top:7px}"]}),c})();const $=["subjectsForm"];function V(c,t){if(1&c&&(l.jc(0,"mat-option",14),l.Wc(1),l.ic()),2&c){const c=t.$implicit,e=l.vc(2);l.Bc("value",c.subjectId)("disabled",e.choosedSubjectIds.includes(c.subjectId)),l.Pb(1),l.Xc(c.subject)}}function R(c,t){if(1&c){const c=l.kc();l.jc(0,"button",15),l.rc("click",(function(t){l.Mc(c);const e=l.vc().index,i=l.vc();return t.preventDefault(),i.removeItem(e)})),l.jc(1,"mat-icon"),l.Wc(2,"delete"),l.ic(),l.ic()}}function A(c,t){if(1&c){const c=l.kc();l.jc(0,"div",4),l.jc(1,"div",5),l.jc(2,"mat-form-field"),l.jc(3,"mat-label"),l.Wc(4,"Select Subject"),l.ic(),l.jc(5,"mat-select",6),l.rc("ngModelChange",(function(e){return l.Mc(c),t.$implicit.subjectId=e}))("selectionChange",(function(){return l.Mc(c),l.vc().setChoosedSubject()})),l.Vc(6,V,2,3,"mat-option",7),l.ic(),l.ic(),l.ic(),l.jc(7,"div",8),l.jc(8,"mat-form-field"),l.jc(9,"mat-label"),l.Wc(10,"Pass Marks"),l.ic(),l.jc(11,"input",9),l.rc("ngModelChange",(function(e){return l.Mc(c),t.$implicit.passMarks=e})),l.ic(),l.ic(),l.ic(),l.jc(12,"div",8),l.jc(13,"mat-form-field"),l.jc(14,"mat-label"),l.Wc(15,"Total Marks"),l.ic(),l.jc(16,"input",10),l.rc("ngModelChange",(function(e){return l.Mc(c),t.$implicit.totalMarks=e})),l.ic(),l.ic(),l.ic(),l.jc(17,"div",11),l.jc(18,"button",12),l.rc("click",(function(t){l.Mc(c);const e=l.vc();return t.preventDefault(),e.addMore()})),l.jc(19,"mat-icon"),l.Wc(20,"add"),l.ic(),l.ic(),l.Vc(21,R,3,0,"button",13),l.ic(),l.ic()}if(2&c){const c=t.$implicit,e=t.index,i=l.vc();l.Pb(5),l.Bc("ngModel",c.subjectId)("name","subjectId"+e),l.Pb(1),l.Bc("ngForOf",i.subjects),l.Pb(5),l.Bc("name","passMarks"+e)("ngModel",c.passMarks),l.Pb(5),l.Bc("name","totalMarks"+e)("ngModel",c.totalMarks),l.Pb(5),l.Bc("ngIf",e>0)}}let N=(()=>{class c{constructor(c,t){this.coreService=c,this.dialog=t,this.loading=!0,this.subjectsData=[{subjectId:null,passMarks:null,totalMarks:null}],this.choosedSubjectIds=[]}ngOnInit(){this.getSubjectsForExam(),this.exam.subjectDetails.forEach(c=>this.choosedSubjectIds.push(c.subjectId))}getSubjectsForExam(){this.coreService.getRequest(a.a.API_URL+"offline-exams/"+this.exam.examId+"/subjects").subscribe(c=>{this.subjects=c,this.loading=!1})}addMore(){this.subjectsData.push({subjectId:null,passMarks:null,totalMarks:null})}removeItem(c){this.subjectsData.splice(c,1)}setChoosedSubject(){let c=[];this.subjectsData.forEach(t=>c.push(t.subjectId)),this.choosedSubjectIds=c}addSubjects(){this.loading=!0,this.coreService.postRequest(a.a.API_URL+"offline-exams/"+this.exam.examId+"/subjects",this.subjectsData).subscribe(c=>{this.loading=!1,this.dialog.showDialog({content:c.message}),this.insertNewlyAddedSubjectsInArray(),this.form.resetForm(),this.modals.showSubjectsModal=!1})}insertNewlyAddedSubjectsInArray(){this.subjectsData.forEach(c=>{c.passMarks||(c.passMarks=Math.ceil(33*c.totalMarks/100)),this.exam.subjectDetails.push({examId:this.exam.examId,passMarks:c.passMarks,totalMarks:c.totalMarks,subjectId:c.subjectId,subject:this.subjects.find(t=>t.subjectId==c.subjectId).subject})})}}return c.\u0275fac=function(t){return new(t||c)(l.dc(d.a),l.dc(u.a))},c.\u0275cmp=l.Xb({type:c,selectors:[["add-exam-subjects"]],viewQuery:function(c,t){var e;1&c&&l.cd($,!0),2&c&&l.Hc(e=l.sc())&&(t.form=e.first)},inputs:{exam:"exam",modals:"modals"},decls:6,vars:3,consts:[["subjectsForm","ngForm"],["class","row align-items-center",4,"ngFor","ngForOf"],["type","submit","mat-raised-button","","color","primary",3,"disabled","click"],[3,"show"],[1,"row","align-items-center"],[1,"col-sm-4"],["required","",3,"ngModel","name","ngModelChange","selectionChange"],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"col-sm-3"],["matInput","",3,"name","ngModel","ngModelChange"],["matInput","","required","",3,"name","ngModel","ngModelChange"],[1,"col-sm-2","btns-col"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","warn",3,"click",4,"ngIf"],[3,"value","disabled"],["mat-mini-fab","","color","warn",3,"click"]],template:function(c,t){if(1&c&&(l.jc(0,"form",null,0),l.Vc(2,A,22,8,"div",1),l.jc(3,"button",2),l.rc("click",(function(){return t.addSubjects()})),l.Wc(4,"Submit"),l.ic(),l.ic(),l.ec(5,"loading",3)),2&c){const c=l.Ic(1);l.Pb(2),l.Bc("ngForOf",t.subjectsData),l.Pb(1),l.Bc("disabled",c.invalid),l.Pb(2),l.Bc("show",t.loading)}},directives:[g.v,g.l,g.m,i.j,f.b,x.a,v.b,v.e,I.a,g.r,g.k,g.n,M.a,g.b,p.a,i.k,C.h],styles:["[class*=col-][_ngcontent-%COMP%]{padding:0 5px}.btns-col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}"]}),c})();function U(c,t){if(1&c&&(l.jc(0,"mat-option",12),l.Wc(1),l.ic()),2&c){const c=t.$implicit,e=l.vc(2);l.Bc("value",c.subjectId)("disabled",e.choosedSubjectIds.includes(c.subjectId)),l.Pb(1),l.Xc(c.subject)}}function q(c,t){if(1&c){const c=l.kc();l.jc(0,"div",3),l.jc(1,"div",4),l.jc(2,"mat-form-field"),l.jc(3,"mat-label"),l.Wc(4,"Select Subject"),l.ic(),l.jc(5,"mat-select",5),l.rc("ngModelChange",(function(e){return l.Mc(c),t.$implicit.subjectId=e}))("selectionChange",(function(){return l.Mc(c),l.vc().setChoosedSubject()})),l.Vc(6,U,2,3,"mat-option",6),l.ic(),l.ic(),l.ic(),l.jc(7,"div",7),l.jc(8,"mat-form-field"),l.jc(9,"mat-label"),l.Wc(10,"Pass Marks"),l.ic(),l.jc(11,"input",8),l.rc("ngModelChange",(function(e){return l.Mc(c),t.$implicit.passMarks=e})),l.ic(),l.ic(),l.ic(),l.jc(12,"div",7),l.jc(13,"mat-form-field"),l.jc(14,"mat-label"),l.Wc(15,"Total Marks"),l.ic(),l.jc(16,"input",8),l.rc("ngModelChange",(function(e){return l.Mc(c),t.$implicit.totalMarks=e})),l.ic(),l.ic(),l.ic(),l.jc(17,"div",9),l.jc(18,"button",10),l.rc("click",(function(){l.Mc(c);const e=t.$implicit;return l.vc().updateSubjects(e)})),l.jc(19,"mat-icon"),l.Wc(20,"save"),l.ic(),l.ic(),l.jc(21,"button",11),l.rc("click",(function(){l.Mc(c);const e=t.$implicit;return l.vc().deleteExamSubject(e)})),l.jc(22,"mat-icon"),l.Wc(23,"delete"),l.ic(),l.ic(),l.ic(),l.ic()}if(2&c){const c=t.$implicit,e=t.index,i=l.vc();l.Pb(5),l.Bc("ngModel",c.subjectId)("name","subjectId"+e)("disabled",!0),l.Pb(1),l.Bc("ngForOf",i.subjects),l.Pb(5),l.Bc("name","passMarks"+e)("ngModel",c.passMarks),l.Pb(5),l.Bc("name","totalMarks"+e)("ngModel",c.totalMarks)}}let T=(()=>{class c{constructor(c,t){this.coreService=c,this.dialog=t,this.subjectsData=[],this.choosedSubjectIds=[]}ngOnInit(){this.getSubjectsForExam(),this.exam.subjectDetails.forEach(c=>{this.choosedSubjectIds.push(c.subjectId)})}getSubjectsForExam(){this.coreService.getRequest(a.a.API_URL+"offline-exams/"+this.exam.examId+"/subjects").subscribe(c=>{this.subjects=c,this.loading=!1})}setChoosedSubject(){let c=[];this.subjectsData.forEach(t=>c.push(t.subjectId)),this.choosedSubjectIds=c}updateSubjects(c){this.loading=!0,this.coreService.putRequest(a.a.API_URL+"offline-exams/"+this.exam.examId+"/subject",c).subscribe(c=>{this.loading=!1,this.modals.showEditSubjectsModal=!1,this.dialog.showDialog({content:c.message})})}deleteExamSubject(c){this.dialog.showDialog({title:"Confirm Deletion",content:"Are you sure to delete this subject? ",callBack:()=>{this.coreService.deleteRequest(a.a.API_URL+"offline-exams/"+this.exam.examId+"/subject/"+c.subjectId).subscribe(t=>{t.success&&this.exam.subjectDetails.splice(this.exam.subjectDetails.indexOf(c),1)})}})}}return c.\u0275fac=function(t){return new(t||c)(l.dc(d.a),l.dc(u.a))},c.\u0275cmp=l.Xb({type:c,selectors:[["edit-exam-subjects"]],inputs:{exam:"exam",modals:"modals"},decls:4,vars:2,consts:[["subjectsForm","ngForm"],["class","row align-items-center",4,"ngFor","ngForOf"],[3,"show"],[1,"row","align-items-center"],[1,"col-sm-4"],["required","",3,"ngModel","name","disabled","ngModelChange","selectionChange"],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"col-sm-3"],["matInput","","required","",3,"name","ngModel","ngModelChange"],[1,"col-sm-2","btns-col"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","warn",3,"click"],[3,"value","disabled"]],template:function(c,t){1&c&&(l.jc(0,"form",null,0),l.Vc(2,q,24,8,"div",1),l.ic(),l.ec(3,"loading",2)),2&c&&(l.Pb(2),l.Bc("ngForOf",t.exam.subjectDetails),l.Pb(1),l.Bc("show",t.loading))},directives:[g.v,g.l,g.m,i.j,x.a,v.b,v.e,I.a,g.r,g.k,g.n,M.a,g.b,f.b,p.a,C.h],styles:["[class*=col-][_ngcontent-%COMP%]{padding:0 5px}.btns-col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}"]}),c})();var X=e("bSwM");function L(c,t){if(1&c){const c=l.kc();l.jc(0,"th"),l.jc(1,"mat-checkbox",6),l.rc("change",(function(e){l.Mc(c);const i=t.index;return l.vc().toggleAbsent(i,e)})),l.ic(),l.Wc(2),l.ic()}if(2&c){const c=t.$implicit;l.Pb(2),l.Yc(" ",c.subject," ")}}const Y=function(c){return{absent:c}};function z(c,t){if(1&c){const c=l.kc();l.hc(0),l.jc(1,"input",10),l.rc("keyup",(function(){l.Mc(c);const t=l.vc().$implicit;return t.marks=4*(t.correct-0)-(t.wrong-0)}))("ngModelChange",(function(t){return l.Mc(c),l.vc().$implicit.correct=t})),l.ic(),l.jc(2,"input",11),l.rc("keyup",(function(){l.Mc(c);const t=l.vc().$implicit;return t.marks=4*(t.correct-0)-(t.wrong-0)}))("ngModelChange",(function(t){return l.Mc(c),l.vc().$implicit.wrong=t})),l.ic(),l.gc()}if(2&c){const c=l.vc(),t=c.index,e=c.$implicit,i=l.vc().index,n=l.vc().index;l.Pb(1),l.Bc("name","correct-"+n+i+t)("required",!e.absent)("readOnly",e.absent)("ngClass",l.Dc(10,Y,e.absent))("ngModel",e.correct),l.Pb(1),l.Bc("name","wrong-"+n+i+t)("required",!e.absent)("readOnly",e.absent)("ngClass",l.Dc(12,Y,e.absent))("ngModel",e.wrong)}}function Q(c,t){if(1&c){const c=l.kc();l.jc(0,"td"),l.jc(1,"mat-checkbox",7),l.rc("change",(function(){const c=t.$implicit;return c.absent?c.marks=null:null}))("ngModelChange",(function(e){return l.Mc(c),t.$implicit.absent=e})),l.ic(),l.Wc(2,"\xa0 "),l.jc(3,"input",8),l.rc("ngModelChange",(function(e){return l.Mc(c),t.$implicit.marks=e})),l.ic(),l.Vc(4,z,3,14,"ng-container",9),l.ic()}if(2&c){const c=t.$implicit,e=t.index,i=l.vc().index,n=l.vc().index,o=l.vc();l.Pb(1),l.Bc("name","absent"+i+e)("ngModel",c.absent),l.Pb(2),l.Bc("name","marks-"+n+i+e)("required",!c.absent)("readOnly",c.absent)("ngClass",l.Dc(8,Y,c.absent))("ngModel",c.marks),l.Pb(1),l.Bc("ngIf","O"==o.exam.category)}}function G(c,t){if(1&c&&(l.jc(0,"tr"),l.jc(1,"td"),l.Wc(2),l.ic(),l.jc(3,"td"),l.Wc(4),l.ic(),l.jc(5,"td"),l.Wc(6),l.ic(),l.Vc(7,Q,5,10,"td",2),l.ic()),2&c){const c=t.$implicit;l.Pb(2),l.Xc(c.name),l.Pb(2),l.Xc(c.rollno),l.Pb(2),l.Xc(c.batch),l.Pb(1),l.Bc("ngForOf",c.subjects)}}function H(c,t){if(1&c&&(l.hc(0),l.jc(1,"tr"),l.jc(2,"th"),l.Wc(3),l.ic(),l.ic(),l.Vc(4,G,8,4,"tr",2),l.gc()),2&c){const c=t.$implicit,e=l.vc();l.Pb(2),l.Qb("colSpan",4+e.subjects.length),l.Pb(1),l.Xc(c),l.Pb(1),l.Bc("ngForOf",e.batchesStudents[c])}}let K=(()=>{class c{constructor(c,t){this.coreService=c,this.dialog=t,this.batchesStudents={},this.batches=[]}ngOnInit(){this.getInsertData()}getInsertData(){this.loading=!0,this.coreService.getRequest(a.a.API_URL+"offline-exams/"+this.exam.examId+"/insert-marks").subscribe(c=>{this.subjects=c.subjects,this.batches=Object.keys(c.batches),this.batchesStudents=c.batches,this.loading=!1})}toggleAbsent(c,t){this.batches.forEach(e=>{this.batchesStudents[e].forEach(e=>{e.subjects[c].absent=t.checked})})}insertMarks(){let c=[];this.batches.forEach(t=>{c=c.concat(this.batchesStudents[t])}),this.loading=!0,this.disableButton=!0,this.coreService.postRequest(a.a.API_URL+"offline-exams/"+this.exam.examId+"/insert-marks",c).subscribe(c=>{this.loading=!1,this.disableButton=!1,this.dialog.showDialog({content:c.message}),this.modals.showInsertModal=!1,this.exam.isMarksInserted=!0})}}return c.\u0275fac=function(t){return new(t||c)(l.dc(d.a),l.dc(u.a))},c.\u0275cmp=l.Xb({type:c,selectors:[["insert-marks"]],inputs:{exam:"exam",modals:"modals"},decls:16,vars:4,consts:[["insertForm","ngForm"],[1,"pinnacle-table"],[4,"ngFor","ngForOf"],[1,"row","btn-row"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"show"],[3,"change"],[3,"name","ngModel","change","ngModelChange"],["pattern","-?[0-9]+(\\.[0-9][0-9]?)?","placeholder","M",1,"input-field",3,"name","required","readOnly","ngClass","ngModel","ngModelChange"],[4,"ngIf"],["pattern","-?[0-9]+(\\.[0-9][0-9]?)?","placeholder","C",1,"input-field",3,"name","required","readOnly","ngClass","ngModel","keyup","ngModelChange"],["pattern","-?[0-9]+(\\.[0-9][0-9]?)?","placeholder","W",1,"input-field",3,"name","required","readOnly","ngClass","ngModel","keyup","ngModelChange"]],template:function(c,t){if(1&c&&(l.jc(0,"form",null,0),l.jc(2,"table",1),l.jc(3,"tr"),l.jc(4,"th"),l.Wc(5,"Name"),l.ic(),l.jc(6,"th"),l.Wc(7,"Roll No."),l.ic(),l.jc(8,"th"),l.Wc(9,"Batch"),l.ic(),l.Vc(10,L,3,1,"th",2),l.ic(),l.Vc(11,H,5,3,"ng-container",2),l.ic(),l.jc(12,"div",3),l.jc(13,"button",4),l.rc("click",(function(){return t.insertMarks()})),l.Wc(14,"Submit"),l.ic(),l.ic(),l.ic(),l.ec(15,"loading",5)),2&c){const c=l.Ic(1);l.Pb(10),l.Bc("ngForOf",t.subjects),l.Pb(1),l.Bc("ngForOf",t.batches),l.Pb(2),l.Bc("disabled",c.invalid||t.disableButton),l.Pb(2),l.Bc("show",t.loading)}},directives:[g.v,g.l,g.m,i.j,f.b,x.a,X.a,g.k,g.n,g.b,g.q,g.r,i.i,i.k],styles:[".input-field[_ngcontent-%COMP%]{width:50px;height:25px;margin-right:5px;display:inline-block}.pinnacle-table[_ngcontent-%COMP%]{box-shadow:0 0 3px -1px rgba(0,0,0,.25)}.absent[_ngcontent-%COMP%]{border-left:2px solid var(--text-danger);opacity:.4}.btn-row[_ngcontent-%COMP%]{padding-top:10px;justify-content:flex-end}th[colspan][_ngcontent-%COMP%]{font-size:1rem;text-align:center;padding:15px;border-top:1px solid #f7f7f7}"]}),c})();function J(c,t){if(1&c&&(l.jc(0,"th"),l.Wc(1),l.ic()),2&c){const c=l.vc().$implicit;l.Pb(1),l.Yc("",c.subject," Correct")}}function Z(c,t){if(1&c&&(l.jc(0,"th"),l.Wc(1),l.ic()),2&c){const c=l.vc().$implicit;l.Pb(1),l.Yc("",c.subject," Wrong")}}function cc(c,t){if(1&c){const c=l.kc();l.hc(0),l.jc(1,"th"),l.jc(2,"mat-checkbox",6),l.rc("change",(function(e){l.Mc(c);const i=t.index;return l.vc().toggleAbsent(i,e)})),l.ic(),l.Wc(3),l.ic(),l.Vc(4,J,2,1,"th",7),l.Vc(5,Z,2,1,"th",7),l.gc()}if(2&c){const c=t.$implicit,e=t.index,i=l.vc();l.Pb(2),l.Bc("checked",i.isAllAbsent(e)),l.Pb(1),l.Yc(" ",c.subject," Marks "),l.Pb(1),l.Bc("ngIf","O"==i.exam.category),l.Pb(1),l.Bc("ngIf","O"==i.exam.category)}}const tc=function(c){return{absent:c}};function ec(c,t){if(1&c){const c=l.kc();l.jc(0,"td"),l.jc(1,"input",10),l.rc("ngModelChange",(function(t){return l.Mc(c),l.vc().$implicit.correct=t}))("keyup",(function(){l.Mc(c);const t=l.vc().$implicit;return t.marks=4*(t.correct-0)-(t.wrong-0)})),l.ic(),l.ic()}if(2&c){const c=l.vc(),t=c.$implicit,e=c.index,i=l.vc().index,n=l.vc().index;l.Pb(1),l.Bc("ngClass",l.Dc(4,tc,t.attendance))("name","correct-"+n+i+e)("ngModel",t.correct)("required",!t.attendance)}}function ic(c,t){if(1&c){const c=l.kc();l.jc(0,"td"),l.jc(1,"input",10),l.rc("ngModelChange",(function(t){return l.Mc(c),l.vc().$implicit.wrong=t}))("keyup",(function(){l.Mc(c);const t=l.vc().$implicit;return t.marks=4*(t.correct-0)-(t.wrong-0)})),l.ic(),l.ic()}if(2&c){const c=l.vc(),t=c.$implicit,e=c.index,i=l.vc().index,n=l.vc().index;l.Pb(1),l.Bc("ngClass",l.Dc(4,tc,t.attendance))("name","wrong-"+n+i+e)("ngModel",t.wrong)("required",!t.attendance)}}function nc(c,t){if(1&c){const c=l.kc();l.hc(0),l.jc(1,"td"),l.jc(2,"mat-checkbox",8),l.rc("change",(function(){l.Mc(c);const e=t.$implicit;return l.vc(3).emptyMarks(e)}))("ngModelChange",(function(e){return l.Mc(c),t.$implicit.attendance=e})),l.ic(),l.Wc(3,"\xa0 "),l.jc(4,"input",9),l.rc("ngModelChange",(function(e){return l.Mc(c),t.$implicit.marks=e})),l.ic(),l.ic(),l.Vc(5,ec,2,6,"td",7),l.Vc(6,ic,2,6,"td",7),l.gc()}if(2&c){const c=t.$implicit,e=t.index,i=l.vc().index,n=l.vc().index,o=l.vc();l.Pb(2),l.Bc("name","absent"+i+e)("ngModel",c.attendance),l.Pb(2),l.Bc("ngClass",l.Dc(10,tc,c.attendance))("name","marks-"+n+i+e)("readOnly",c.attendance)("ngModel",c.marks)("pattern",o.marksPattern)("required",!c.attendance),l.Pb(1),l.Bc("ngIf","O"==o.exam.category),l.Pb(1),l.Bc("ngIf","O"==o.exam.category)}}function oc(c,t){if(1&c&&(l.jc(0,"tr"),l.jc(1,"td"),l.Wc(2),l.ic(),l.jc(3,"td"),l.Wc(4),l.ic(),l.jc(5,"td"),l.Wc(6),l.ic(),l.Vc(7,nc,7,12,"ng-container",2),l.ic()),2&c){const c=t.$implicit;l.Pb(2),l.Xc(c.name),l.Pb(2),l.Xc(c.batch),l.Pb(2),l.Xc(c.rollno),l.Pb(1),l.Bc("ngForOf",c.marks)}}function sc(c,t){if(1&c&&(l.hc(0),l.jc(1,"tr"),l.jc(2,"th"),l.Wc(3),l.ic(),l.ic(),l.Vc(4,oc,8,4,"tr",2),l.gc()),2&c){const c=t.$implicit,e=l.vc();l.Pb(2),l.Qb("colSpan",4+3*e.batchesStudents[c][0].marks.length),l.Pb(1),l.Xc(c),l.Pb(1),l.Bc("ngForOf",e.batchesStudents[c])}}const ac=function(){return[]};let rc=(()=>{class c{constructor(c,t){this.coreService=c,this.dialog=t,this.batches=[],this.batchesStudents={},this.loading=!0,this.marksPattern="-?[0-9]+(.[0-9][0-9]?)?"}ngOnInit(){this.getExamMarks()}getExamMarks(){this.coreService.getRequest(a.a.API_URL+"offline-exams/"+this.exam.examId+"/marks").subscribe(c=>{this.batchesStudents=c,this.batches=Object.keys(c),this.loading=!1})}toggleAbsent(c,t){this.batches.forEach(e=>{this.batchesStudents[e].forEach(e=>{e.marks[c].attendance=t.checked})})}isAllAbsent(c){let t=!0;return this.batches.forEach(e=>{this.batchesStudents[e].forEach(e=>{e.marks[c]&&(e.marks[c].attendance||(t=!1))})}),t}updateMarks(){let c=[];this.batches.forEach(t=>{c=c.concat(this.batchesStudents[t])});const t=[];c.forEach(c=>{c.marks.forEach(c=>t.push(c))}),this.loading=!0,this.coreService.putRequest(a.a.API_URL+"offline-exams/marks",t).subscribe(c=>{this.dialog.showDialog({content:c.message}),this.loading=!1})}emptyMarks(c){c.attendance&&(c.marks=null),c.attendance&&(c.correct=null),c.attendance&&(c.wrong=null)}}return c.\u0275fac=function(t){return new(t||c)(l.dc(d.a),l.dc(u.a))},c.\u0275cmp=l.Xb({type:c,selectors:[["edit-marks"]],inputs:{exam:"exam"},decls:16,vars:5,consts:[["form","ngForm"],[1,"pinnacle-table"],[4,"ngFor","ngForOf"],[1,"row","btn-row"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"show"],[3,"checked","change"],[4,"ngIf"],[3,"name","ngModel","change","ngModelChange"],[1,"input-field",3,"ngClass","name","readOnly","ngModel","pattern","required","ngModelChange"],["pattern","-?[0-9]+(\\.[0-9][0-9]?)?",1,"input-field",3,"ngClass","name","ngModel","required","ngModelChange","keyup"]],template:function(c,t){if(1&c&&(l.jc(0,"form",null,0),l.jc(2,"table",1),l.jc(3,"tr"),l.jc(4,"th"),l.Wc(5,"Name"),l.ic(),l.jc(6,"th"),l.Wc(7,"Batch"),l.ic(),l.jc(8,"th"),l.Wc(9,"Roll No."),l.ic(),l.Vc(10,cc,6,4,"ng-container",2),l.ic(),l.Vc(11,sc,5,3,"ng-container",2),l.ic(),l.jc(12,"div",3),l.jc(13,"button",4),l.rc("click",(function(){return t.updateMarks()})),l.Wc(14,"Submit"),l.ic(),l.ic(),l.ic(),l.ec(15,"loading",5)),2&c){const c=l.Ic(1);l.Pb(10),l.Bc("ngForOf",t.batches.length?t.batchesStudents[t.batches[0]][0].marks:l.Cc(4,ac)),l.Pb(1),l.Bc("ngForOf",t.batches),l.Pb(2),l.Bc("disabled",c.invalid),l.Pb(2),l.Bc("show",t.loading)}},directives:[g.v,g.l,g.m,i.j,f.b,x.a,X.a,i.k,g.k,g.n,g.b,i.i,g.q,g.r],styles:[".input-field[_ngcontent-%COMP%]{width:50px;height:25px;margin-right:5px;display:inline-block}.pinnacle-table[_ngcontent-%COMP%]{box-shadow:0 0 3px -1px rgba(0,0,0,.25)}.absent[_ngcontent-%COMP%]{border-left:2px solid var(--text-danger);opacity:.4}.btn-row[_ngcontent-%COMP%]{padding-top:10px;justify-content:flex-end}th[colspan][_ngcontent-%COMP%]{font-size:1rem;text-align:center;padding:15px;border-top:1px solid #f7f7f7}"]}),c})();var lc=e("i680"),dc=e("DaQG"),uc=e.n(dc),mc=e("EUZL");function hc(c,t){1&c&&(l.jc(0,"th"),l.Wc(1,"Total Marks"),l.ic())}function bc(c,t){1&c&&(l.jc(0,"th"),l.Wc(1,"Total Correct"),l.ic())}function gc(c,t){1&c&&(l.jc(0,"th"),l.Wc(1,"Total Wrong"),l.ic())}function fc(c,t){if(1&c&&(l.jc(0,"th"),l.Wc(1),l.ic()),2&c){const c=l.vc().$implicit;l.Pb(1),l.Yc("",c," Marks")}}function pc(c,t){if(1&c&&(l.jc(0,"th"),l.Wc(1),l.ic()),2&c){const c=l.vc().$implicit;l.Pb(1),l.Yc("",c," Correct")}}function jc(c,t){if(1&c&&(l.jc(0,"th"),l.Wc(1),l.ic()),2&c){const c=l.vc().$implicit;l.Pb(1),l.Yc("",c," Wrong")}}function xc(c,t){if(1&c&&(l.hc(0),l.Vc(1,fc,2,1,"th",4),l.Vc(2,pc,2,1,"th",4),l.Vc(3,jc,2,1,"th",4),l.gc()),2&c){const c=t.$implicit,e=l.vc();l.Pb(1),l.Bc("ngIf",e.choosedColumns[c+"-marks"]),l.Pb(1),l.Bc("ngIf","O"==e.exam.category&&e.choosedColumns[c+"-correct"]),l.Pb(1),l.Bc("ngIf","O"==e.exam.category&&e.choosedColumns[c+"-wrong"])}}function vc(c,t){if(1&c&&(l.jc(0,"td"),l.Wc(1),l.ic()),2&c){const c=l.vc().$implicit;l.Pb(1),l.Xc(c.totalMarks)}}function Mc(c,t){if(1&c&&(l.jc(0,"td"),l.Wc(1),l.ic()),2&c){const c=l.vc().$implicit;l.Pb(1),l.Xc(c.totalCorrect)}}function Pc(c,t){if(1&c&&(l.jc(0,"td"),l.Wc(1),l.ic()),2&c){const c=l.vc().$implicit;l.Pb(1),l.Xc(c.totalWrong)}}function kc(c,t){if(1&c&&(l.jc(0,"td"),l.Wc(1),l.ic()),2&c){const c=l.vc().$implicit;l.Pb(1),l.Xc(c.absent?"N/A":c.marks)}}function Ic(c,t){if(1&c&&(l.jc(0,"td"),l.Wc(1),l.ic()),2&c){const c=l.vc().$implicit;l.Pb(1),l.Yc("",c.absent?"N/A":c.correct," ")}}function Cc(c,t){if(1&c&&(l.jc(0,"td"),l.Wc(1),l.ic()),2&c){const c=l.vc().$implicit;l.Pb(1),l.Xc(c.absent?"N/A":c.wrong)}}function wc(c,t){if(1&c&&(l.hc(0),l.Vc(1,kc,2,1,"td",4),l.Vc(2,Ic,2,1,"td",4),l.Vc(3,Cc,2,1,"td",4),l.gc()),2&c){const c=t.$implicit,e=l.vc(3);l.Pb(1),l.Bc("ngIf",e.choosedColumns[c.subject+"-marks"]),l.Pb(1),l.Bc("ngIf","O"==e.exam.category&&e.choosedColumns[c.subject+"-correct"]),l.Pb(1),l.Bc("ngIf","O"==e.exam.category&&e.choosedColumns[c.subject+"-wrong"])}}const Bc=function(c){return{absent:c}};function Wc(c,t){if(1&c&&(l.jc(0,"tr",19),l.jc(1,"td"),l.Wc(2),l.ic(),l.Vc(3,vc,2,1,"td",4),l.Vc(4,Mc,2,1,"td",4),l.Vc(5,Pc,2,1,"td",4),l.Vc(6,wc,4,3,"ng-container",5),l.jc(7,"td"),l.Wc(8),l.ic(),l.ic()),2&c){const c=t.$implicit,e=t.index,i=l.vc(2);l.Bc("ngClass",l.Dc(7,Bc,c.absent)),l.Pb(2),l.Yc("",c.name," "),l.Pb(1),l.Bc("ngIf",i.choosedColumns.totalMarks),l.Pb(1),l.Bc("ngIf","O"==i.exam.category&&i.choosedColumns.totalCorrect),l.Pb(1),l.Bc("ngIf","O"==i.exam.category&&i.choosedColumns.totalWrong),l.Pb(1),l.Bc("ngForOf",c.subjects),l.Pb(2),l.Xc(c.absent?"N/A":e+1)}}function Fc(c,t){if(1&c&&(l.hc(0),l.jc(1,"tr"),l.jc(2,"th"),l.Wc(3),l.ic(),l.ic(),l.Vc(4,Wc,9,9,"tr",18),l.gc()),2&c){const c=t.$implicit,e=l.vc();l.Pb(2),l.Qb("colSpan",5+3*e.subjects.length),l.Pb(1),l.Xc(c),l.Pb(1),l.Bc("ngForOf",e.reports[c])}}function Sc(c,t){if(1&c){const c=l.kc();l.jc(0,"div",12),l.jc(1,"mat-checkbox",13),l.rc("ngModelChange",(function(t){return l.Mc(c),l.vc().choosedColumns.totalWrong=t})),l.Wc(2,"Total Correct"),l.ic(),l.ic()}if(2&c){const c=l.vc();l.Pb(1),l.Bc("ngModel",c.choosedColumns.totalWrong)}}function Oc(c,t){if(1&c){const c=l.kc();l.jc(0,"div",12),l.jc(1,"mat-checkbox",13),l.rc("ngModelChange",(function(t){return l.Mc(c),l.vc().choosedColumns.totalCorrect=t})),l.Wc(2,"Total Wrong"),l.ic(),l.ic()}if(2&c){const c=l.vc();l.Pb(1),l.Bc("ngModel",c.choosedColumns.totalCorrect)}}function yc(c,t){if(1&c){const c=l.kc();l.jc(0,"div",12),l.jc(1,"mat-checkbox",13),l.rc("ngModelChange",(function(e){l.Mc(c);const i=t.$implicit;return l.vc().choosedColumns[i+"-marks"]=e})),l.Wc(2),l.ic(),l.ic()}if(2&c){const c=t.$implicit,e=l.vc();l.Pb(1),l.Bc("ngModel",e.choosedColumns[c+"-marks"]),l.Pb(1),l.Yc("",c," Marks")}}function Dc(c,t){if(1&c){const c=l.kc();l.jc(0,"div",12),l.jc(1,"mat-checkbox",13),l.rc("ngModelChange",(function(e){l.Mc(c);const i=t.$implicit;return l.vc().choosedColumns[i+"-correct"]=e})),l.Wc(2),l.ic(),l.ic()}if(2&c){const c=t.$implicit,e=l.vc();l.Pb(1),l.Bc("ngModel",e.choosedColumns[c+"-correct"]),l.Pb(1),l.Yc("",c," Correct")}}function Ec(c,t){if(1&c){const c=l.kc();l.jc(0,"div",12),l.jc(1,"mat-checkbox",13),l.rc("ngModelChange",(function(e){l.Mc(c);const i=t.$implicit;return l.vc().choosedColumns[i+"-wrong"]=e})),l.Wc(2),l.ic(),l.ic()}if(2&c){const c=t.$implicit,e=l.vc();l.Pb(1),l.Bc("ngModel",e.choosedColumns[c+"-wrong"]),l.Pb(1),l.Yc("",c," Wrong")}}const _c=function(){return{width:"80%"}};let $c=(()=>{class c{constructor(){this.choosedColumns={name:1,totalMarks:1,totalCorrect:1,totalWrong:1},this.subjects=[],this.batches=[]}ngOnInit(){this.batches=Object.keys(this.reports);for(let c in this.reports)this.reports[c].forEach(c=>{c.subjects&&c.subjects.forEach(c=>{this.subjects.includes(c.subject)||this.subjects.push(c.subject)})});this.subjects.forEach(c=>{this.choosedColumns[c+"-marks"]=1,this.choosedColumns[c+"-correct"]=1,this.choosedColumns[c+"-wrong"]=1})}getTotalMarksMessage(){let c="Maximum Marks :- ";return this.subjectDetails.forEach(t=>{c+=`${t.subject}[${t.totalMarks}],`}),c=c.slice(0,c.length-1),c}savePDF(){this.showExportModal=!1;const c=new lc.default("landscape","mm","a3");c.text("Report of "+this.exam.examName,15,10),c.text(this.getTotalMarksMessage(),160,10),uc()(c,{html:"#excel-table"}),c.save(this.exam.examName+".pdf"),this.resetColumns()}exportexcel(){this.showExportModal=!1;let c=document.getElementById("excel-table");const t=mc.utils.table_to_sheet(c),e=mc.utils.book_new();mc.utils.book_append_sheet(e,t,"Sheet1"),mc.writeFile(e,this.exam.examName+".xlsx"),this.resetColumns()}resetColumns(){Object.keys(this.choosedColumns).forEach(c=>{this.choosedColumns[c]=1})}}return c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=l.Xb({type:c,selectors:[["offline-exam-report"]],inputs:{reports:"reports",exam:"exam",subjectDetails:"subjectDetails"},decls:39,vars:16,consts:[[1,"row","exports"],["id","export"],["mat-raised-button","",3,"click"],["id","excel-table",1,"pinnacle-table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["modal","",1,"modal",3,"show","options"],[1,"dialog"],[1,"modal-header"],[1,"close",3,"click"],["id","question-edit-body",1,"modal-body"],[1,"row"],[1,"col-sm-2"],[3,"ngModel","ngModelChange"],["class","col-sm-2",4,"ngIf"],["class","col-sm-2",4,"ngFor","ngForOf"],[1,"row","justify-content-center",2,"margin-top","15px"],["mat-raised-button","","color","primary",3,"click"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(c,t){1&c&&(l.jc(0,"div",0),l.jc(1,"div",1),l.jc(2,"button",2),l.rc("click",(function(){return t.exportType="PDF",t.showExportModal=!0})),l.Wc(3," PDF "),l.ic(),l.jc(4,"button",2),l.rc("click",(function(){return t.exportType="Excel",t.showExportModal=!0})),l.Wc(5,"Excel"),l.ic(),l.ic(),l.ic(),l.jc(6,"table",3),l.jc(7,"tr"),l.jc(8,"th"),l.Wc(9,"Name"),l.ic(),l.Vc(10,hc,2,0,"th",4),l.Vc(11,bc,2,0,"th",4),l.Vc(12,gc,2,0,"th",4),l.Vc(13,xc,4,3,"ng-container",5),l.jc(14,"th"),l.Wc(15,"Rank"),l.ic(),l.ic(),l.Vc(16,Fc,5,3,"ng-container",5),l.ic(),l.jc(17,"div",6),l.jc(18,"div",7),l.jc(19,"div",8),l.Wc(20,"Choose Columns For Export"),l.ic(),l.jc(21,"div",9),l.rc("click",(function(){return t.showExportModal=!1})),l.Wc(22,"\xd7"),l.ic(),l.jc(23,"div",10),l.jc(24,"div",11),l.jc(25,"div",12),l.jc(26,"mat-checkbox",13),l.rc("ngModelChange",(function(c){return t.choosedColumns.name=c})),l.Wc(27,"Name"),l.ic(),l.ic(),l.jc(28,"div",12),l.jc(29,"mat-checkbox",13),l.rc("ngModelChange",(function(c){return t.choosedColumns.totalMarks=c})),l.Wc(30,"Total Marks"),l.ic(),l.ic(),l.Vc(31,Sc,3,1,"div",14),l.Vc(32,Oc,3,1,"div",14),l.Vc(33,yc,3,2,"div",15),l.Vc(34,Dc,3,2,"div",15),l.Vc(35,Ec,3,2,"div",15),l.ic(),l.jc(36,"div",16),l.jc(37,"button",17),l.rc("click",(function(){return"PDF"==t.exportType?t.savePDF():t.exportexcel()})),l.Wc(38),l.ic(),l.ic(),l.ic(),l.ic(),l.ic()),2&c&&(l.Pb(10),l.Bc("ngIf",t.choosedColumns.totalMarks),l.Pb(1),l.Bc("ngIf","O"==t.exam.category&&t.choosedColumns.totalCorrect),l.Pb(1),l.Bc("ngIf","O"==t.exam.category&&t.choosedColumns.totalWrong),l.Pb(1),l.Bc("ngForOf",t.subjects),l.Pb(3),l.Bc("ngForOf",t.batches),l.Pb(1),l.Bc("show",t.showExportModal)("options",l.Cc(15,_c)),l.Pb(9),l.Bc("ngModel",t.choosedColumns.name),l.Pb(3),l.Bc("ngModel",t.choosedColumns.totalMarks),l.Pb(2),l.Bc("ngIf","O"==t.exam.category),l.Pb(1),l.Bc("ngIf","O"==t.exam.category),l.Pb(1),l.Bc("ngForOf",t.subjects),l.Pb(1),l.Bc("ngForOf",t.subjects),l.Pb(1),l.Bc("ngForOf",t.subjects),l.Pb(3),l.Yc("Export ",t.exportType,""))},directives:[f.b,i.k,i.j,j.a,X.a,g.k,g.n,i.i],styles:[".pinnacle-table[_ngcontent-%COMP%]{box-shadow:0 0 3px -1px rgba(0,0,0,.25)}.absent[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{opacity:.4}.absent[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:2px solid var(--text-danger)}.exports[_ngcontent-%COMP%]{justify-content:flex-end;padding-bottom:10px}#export[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{line-height:30px;margin-left:10px}th[colspan][_ngcontent-%COMP%]{font-size:1rem;text-align:center;padding:15px;border-top:1px solid #f7f7f7}"]}),c})();var Vc=e("CGWC");function Rc(c,t){if(1&c){const c=l.kc();l.jc(0,"div",13),l.jc(1,"button",2),l.rc("click",(function(){return l.Mc(c),l.vc().modals.showRollNoModal=!1})),l.Wc(2,"Close"),l.ic(),l.ic()}}const Ac=function(){return{width:"60%"}};let Nc=(()=>{class c{constructor(c,t){this.coreService=c,this.dialog=t}ngOnInit(){}setSelectedFile(c){this.selectedFile=c.target.files[0]}uploadExcel(c=!1){let t=new FormData;t.append("marksFile",this.selectedFile),t.append("examId",this.exam.examId.toString()),t.append("markAbsent",c+""),this.loading=!0,this.coreService.uploadRequest(a.a.API_URL+"offline-exams/"+this.exam.examId+"/upload-excel",t).subscribe(c=>{if(this.loading=!1,c.success)this.exam.isMarksInserted=!0,this.modals.showUploadModal=!1,this.dialog.showDialog({content:c.message});else if(c.rollsNotUploaded){let t="<div class=row>";c.rollsNotUploaded.forEach(c=>{t+=`<div class='col-sm-4'>${c}</div>`}),t+="</div>",this.rollNoNotUploadedError=t,this.modals.showRollNoModal=!0}else c.wrongRollsUploaded?this.showWrongRollsErrorDialog(c.wrongRollsUploaded):c.subjectsNotUploaded?this.showSubjectsErrorDialog(c.subjectsNotUploaded,"Following subjects are not in Excel File"):c.wrongSubjectsUploaded?this.showSubjectsErrorDialog(c.wrongSubjectsUploaded,"Following subjects are not in Exam"):this.dialog.showDialog({content:c.message})})}showWrongRollsErrorDialog(c){let t='<h2 class="text-danger">Following roll numbers are not in Database</h2>';t+="<div class=row>",c.forEach(c=>{t+=`<div class='col-sm-4'>${c}</div>`}),t+="</div>",this.dialog.showDialog({title:"Validation Error",content:t,width:"600px"})}showSubjectsErrorDialog(c,t){let e=`<h2 class="text-danger">${t}</h2>`;e+="<div class=row>",c.forEach(c=>{e+=`<div class='col-sm-4'>${c}</div>`}),e+="</div>",this.dialog.showDialog({title:"Validation Error",content:e,width:"600px"})}}return c.\u0275fac=function(t){return new(t||c)(l.dc(d.a),l.dc(u.a))},c.\u0275cmp=l.Xb({type:c,selectors:[["upload-marks-excel"]],inputs:{exam:"exam",modals:"modals"},decls:30,vars:9,consts:[["type","file","accept",".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel","name","marksFile",2,"position","absolute","left","-2000px",3,"change"],["marksFile",""],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],["modal","",1,"modal",3,"show","options"],[1,"dialog"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],[1,"text-danger"],[3,"innerHTML"],["class","modal-footer",4,"ngIf"],[3,"show"],[1,"modal-footer"]],template:function(c,t){if(1&c){const c=l.kc();l.jc(0,"p"),l.jc(1,"b"),l.Wc(2,"Note:"),l.ic(),l.Wc(3," Please assure that all the subjects included in Excel File"),l.ic(),l.jc(4,"input",0,1),l.rc("change",(function(c){return t.setSelectedFile(c)})),l.ic(),l.jc(6,"button",2),l.rc("click",(function(){return l.Mc(c),l.Ic(5).click()})),l.Wc(7,"Choose Excel File"),l.ic(),l.Wc(8," \xa0\xa0\n"),l.jc(9,"button",3),l.rc("click",(function(){return t.uploadExcel()})),l.Wc(10," Upload File"),l.ic(),l.jc(11,"div",4),l.jc(12,"div",5),l.jc(13,"div",6),l.Wc(14,"Validation Error"),l.ic(),l.jc(15,"div",7),l.rc("click",(function(){return t.modals.showRollNoModal=!1})),l.Wc(16,"\xd7"),l.ic(),l.jc(17,"div",8),l.jc(18,"h2",9),l.Wc(19,"Following roll numbers are not in Excel File.Do you want to mark them absent?"),l.ic(),l.ec(20,"div",10),l.wc(21,"safe"),l.ec(22,"br"),l.jc(23,"button",2),l.rc("click",(function(){return t.uploadExcel(!0)})),l.Wc(24,"Yes"),l.ic(),l.Wc(25," \xa0"),l.jc(26,"button",2),l.rc("click",(function(){return t.modals.showRollNoModal=!1})),l.Wc(27,"Cancel"),l.ic(),l.ic(),l.Vc(28,Rc,3,0,"div",11),l.ic(),l.ic(),l.ec(29,"loading",12)}2&c&&(l.Pb(9),l.Bc("disabled",!t.selectedFile),l.Pb(2),l.Bc("show",t.modals.showRollNoModal)("options",l.Cc(8,Ac)),l.Pb(9),l.Bc("innerHTML",l.xc(21,6,t.rollNoNotUploadedError),l.Nc),l.Pb(8),l.Bc("ngIf",!1),l.Pb(1),l.Bc("show",t.loading))},directives:[f.b,j.a,i.k,x.a],pipes:[Vc.a],styles:[""]}),c})(),Uc=(()=>{class c{constructor(c,t){this.coreService=c,this.dialog=t,this.loading=!1}ngOnInit(){}setSelectedFile(c){this.selectedFile=c.target.files[0]}uploadFile(){let c=new FormData;c.append("pdf",this.selectedFile),c.append("examId",this.examId),c.append("studentId",this.studentId),this.loading=!0,this.coreService.uploadRequest(a.a.API_URL+"offline-exams/student-pdf",c).subscribe(c=>{this.dialog.showDialog({content:c.message}),this.loading=!1})}}return c.\u0275fac=function(t){return new(t||c)(l.dc(d.a),l.dc(u.a))},c.\u0275cmp=l.Xb({type:c,selectors:[["upload-student-pdf"]],inputs:{examId:"examId",studentId:"studentId"},decls:4,vars:1,consts:[["type","file",3,"change"],["mat-raised-button","","color","primary",3,"click"],[3,"show"]],template:function(c,t){1&c&&(l.jc(0,"input",0),l.rc("change",(function(c){return t.setSelectedFile(c)})),l.ic(),l.jc(1,"button",1),l.rc("click",(function(){return t.uploadFile()})),l.Wc(2,"Upload PDF"),l.ic(),l.ec(3,"loading",2)),2&c&&(l.Pb(3),l.Bc("show",t.loading))},directives:[f.b,x.a],styles:[""]}),c})();function qc(c,t){if(1&c){const c=l.kc();l.jc(0,"tr"),l.jc(1,"td"),l.Wc(2),l.ic(),l.jc(3,"td"),l.jc(4,"a",10),l.jc(5,"mat-icon"),l.Wc(6,"cloud_download"),l.ic(),l.ic(),l.ic(),l.jc(7,"td"),l.jc(8,"button",11),l.rc("click",(function(){l.Mc(c);const e=t.$implicit;return l.vc().uploadPDF(e)})),l.jc(9,"mat-icon"),l.Wc(10,"cloud_upload"),l.ic(),l.ic(),l.ic(),l.jc(11,"td"),l.jc(12,"button",12),l.rc("click",(function(){l.Mc(c);const e=t.$implicit;return l.vc().deleteSignedPDFEntry(e.name,e)})),l.jc(13,"mat-icon"),l.Wc(14,"delete"),l.ic(),l.ic(),l.ic(),l.jc(15,"td"),l.jc(16,"a",13),l.jc(17,"mat-icon"),l.Wc(18,"cloud_download"),l.ic(),l.ic(),l.ic(),l.jc(19,"td"),l.Wc(20),l.ic(),l.jc(21,"td"),l.jc(22,"button",12),l.rc("click",(function(){l.Mc(c);const e=t.$implicit;return l.vc().deletePDFEntry(e)})),l.jc(23,"mat-icon"),l.Wc(24,"delete"),l.ic(),l.ic(),l.ic(),l.ic()}if(2&c){const c=t.$implicit,e=l.vc();l.Pb(2),l.Xc(c.name),l.Pb(2),l.Bc("href",e.WEBSITE_URL+"uploads/student-exam-pdfs/"+c.pdfPath,l.Pc),l.Pb(4),l.Bc("disabled",c.signedPDFPath),l.Pb(8),l.Bc("href",e.WEBSITE_URL+"uploads/student-signed-pdfs/"+c.signedPDFPath,l.Pc)("disabled",!c.signedPDFPath),l.Pb(4),l.Xc(c.date)}}function Tc(c,t){if(1&c&&l.ec(0,"upload-student-pdf",14),2&c){const c=l.vc();l.Bc("examId",c.activeStudentPDF.examId)("studentId",c.activeStudentPDF.studentId)}}function Xc(c,t){if(1&c){const c=l.kc();l.jc(0,"div",15),l.jc(1,"button",16),l.rc("click",(function(){return l.Mc(c),l.vc().modals.uploadStudentModal=!1})),l.Wc(2,"Close"),l.ic(),l.ic()}}const Lc=function(){return{width:"50%"}};let Yc=(()=>{class c{constructor(c,t){this.coreService=c,this.dialog=t,this.modals={uploadStudentModal:!1},this.loading=!0,this.studentPDFs=[],this.WEBSITE_URL=a.a.WEBSITE_URL}ngOnInit(){this.getStudentPDFs()}uploadPDF(c){this.activeStudentPDF=c,this.modals.uploadStudentModal=!0}getStudentPDFs(){this.coreService.getRequest(a.a.API_URL+"offline-exams/"+this.exam.examId+"/student-pdfs").subscribe(c=>{this.studentPDFs=c,this.loading=!1})}deletePDFEntry(c){this.dialog.showDialog({content:"Are you sure to delete this Entry?",callBack:()=>{this.loading=!0,this.coreService.deleteRequest(a.a.API_URL+"offline-exams/student-pdfs/"+c.id).subscribe(t=>{this.loading=!1,t.success&&this.studentPDFs.splice(this.studentPDFs.indexOf(c),1)})}})}deleteSignedPDFEntry(c,t){this.dialog.showDialog({content:`Are you sure to delete Signed PDF of "${c}" ?`,callBack:()=>{this.loading=!0,this.coreService.deleteRequest(a.a.API_URL+"offline-exams/student-signed-pdfs/"+t.id).subscribe(c=>{this.loading=!1,c.success&&(t.signedPDFPath=null)})}})}}return c.\u0275fac=function(t){return new(t||c)(l.dc(d.a),l.dc(u.a))},c.\u0275cmp=l.Xb({type:c,selectors:[["student-pdfs"]],inputs:{exam:"exam"},decls:27,vars:7,consts:[[1,"pinnacle-table"],[4,"ngFor","ngForOf"],["modal","",1,"modal",3,"show","options"],[1,"dialog"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],[3,"examId","studentId",4,"ngIf"],["class","modal-footer",4,"ngIf"],[3,"show"],["download","","mat-mini-fab","","color","primary",3,"href"],["mat-mini-fab","",3,"disabled","click"],["mat-mini-fab","","color","warn",3,"click"],["download","","mat-mini-fab","","color","primary",3,"href","disabled"],[3,"examId","studentId"],[1,"modal-footer"],["mat-raised-button","","color","primary",3,"click"]],template:function(c,t){1&c&&(l.jc(0,"table",0),l.jc(1,"tr"),l.jc(2,"th"),l.Wc(3,"Name"),l.ic(),l.jc(4,"th"),l.Wc(5,"PDF"),l.ic(),l.jc(6,"th"),l.Wc(7,"Upload Signed PDF"),l.ic(),l.jc(8,"th"),l.Wc(9,"Delete Signed PDF"),l.ic(),l.jc(10,"th"),l.Wc(11,"Signed PDF"),l.ic(),l.jc(12,"th"),l.Wc(13,"Date"),l.ic(),l.jc(14,"th"),l.Wc(15,"Action"),l.ic(),l.ic(),l.Vc(16,qc,25,6,"tr",1),l.ic(),l.jc(17,"div",2),l.jc(18,"div",3),l.jc(19,"div",4),l.Wc(20,"Upload Student PDF"),l.ic(),l.jc(21,"div",5),l.rc("click",(function(){return t.modals.uploadStudentModal=!1})),l.Wc(22,"\xd7"),l.ic(),l.jc(23,"div",6),l.Vc(24,Tc,1,2,"upload-student-pdf",7),l.ic(),l.Vc(25,Xc,3,0,"div",8),l.ic(),l.ic(),l.ec(26,"loading",9)),2&c&&(l.Pb(16),l.Bc("ngForOf",t.studentPDFs),l.Pb(1),l.Bc("show",t.modals.uploadStudentModal)("options",l.Cc(6,Lc)),l.Pb(7),l.Bc("ngIf",t.modals.uploadStudentModal),l.Pb(1),l.Bc("ngIf",!1),l.Pb(1),l.Bc("show",t.loading))},directives:[i.j,j.a,i.k,x.a,f.a,p.a,f.b,Uc],styles:[""]}),c})();function zc(c,t){if(1&c&&(l.jc(0,"option",31),l.Wc(1),l.ic()),2&c){const c=t.$implicit;l.Bc("value",c.courseId),l.Pb(1),l.Yc(" ",c.course," ")}}function Qc(c,t){if(1&c&&(l.jc(0,"option",31),l.Wc(1),l.ic()),2&c){const c=t.$implicit;l.Bc("value",c.batchId),l.Pb(1),l.Yc(" ",c.batch," ")}}function Gc(c,t){if(1&c){const c=l.kc();l.jc(0,"button",32),l.rc("click",(function(){return l.Mc(c),l.vc().modals.showAddModal=!0})),l.jc(1,"mat-icon"),l.Wc(2,"add"),l.ic(),l.Wc(3," Add "),l.ic()}}function Hc(c,t){if(1&c){const c=l.kc();l.jc(0,"button",13),l.rc("click",(function(){return l.Mc(c),l.vc().modals.showAddModal=!0})),l.jc(1,"mat-icon"),l.Wc(2,"add"),l.ic(),l.Wc(3," Add "),l.ic()}}function Kc(c,t){1&c&&(l.jc(0,"th"),l.Wc(1,"Action"),l.ic())}function Jc(c,t){if(1&c&&(l.jc(0,"div",37),l.Wc(1),l.ic()),2&c){const c=t.$implicit;l.Pb(1),l.ad("",c.subject," (",c.passMarks,"/",c.totalMarks,") ")}}const Zc=function(c){return{disabled:c}};function ct(c,t){if(1&c){const c=l.kc();l.jc(0,"a",47),l.rc("click",(function(){l.Mc(c);const t=l.vc(2).$implicit;return l.vc(2).addSubjects(t)})),l.jc(1,"span",46),l.Wc(2,"class"),l.ic(),l.Wc(3,"Add Subjects"),l.ic()}if(2&c){const c=l.vc(2).$implicit;l.Bc("ngClass",l.Dc(1,Zc,c.isMarksInserted))}}function tt(c,t){if(1&c){const c=l.kc();l.jc(0,"a",47),l.rc("click",(function(){l.Mc(c);const t=l.vc(2).$implicit;return l.vc(2).editSubjects(t)})),l.jc(1,"span",46),l.Wc(2,"class"),l.ic(),l.Wc(3,"Edit Subjects"),l.ic()}if(2&c){const c=l.vc(2).$implicit;l.Bc("ngClass",l.Dc(1,Zc,0==c.subjectDetails.length))}}function et(c,t){if(1&c){const c=l.kc();l.jc(0,"a",47),l.rc("click",(function(){l.Mc(c);const t=l.vc(2).$implicit;return l.vc(2).insertMarks(t)})),l.jc(1,"span",46),l.Wc(2,"class"),l.ic(),l.Wc(3,"Insert Marks"),l.ic()}if(2&c){const c=l.vc(2).$implicit;l.Bc("ngClass",l.Dc(1,Zc,0==c.subjectDetails.length||c.isMarksInserted))}}function it(c,t){if(1&c){const c=l.kc();l.jc(0,"a",47),l.rc("click",(function(){l.Mc(c);const t=l.vc(2).$implicit;return l.vc(2).uploadExcel(t)})),l.jc(1,"span",46),l.Wc(2,"class"),l.ic(),l.Wc(3,"Upload Excel"),l.ic()}if(2&c){const c=l.vc(2).$implicit;l.Bc("ngClass",l.Dc(1,Zc,0==c.subjectDetails.length||c.isMarksInserted))}}function nt(c,t){if(1&c){const c=l.kc();l.jc(0,"a",47),l.rc("click",(function(){l.Mc(c);const t=l.vc(2).$implicit;return l.vc(2).editMarks(t)})),l.jc(1,"span",46),l.Wc(2,"class"),l.ic(),l.Wc(3,"Edit Marks"),l.ic()}if(2&c){const c=l.vc(2).$implicit;l.Bc("ngClass",l.Dc(1,Zc,0==c.subjectDetails.length||!c.isMarksInserted))}}function ot(c,t){if(1&c){const c=l.kc();l.jc(0,"a",45),l.rc("click",(function(){l.Mc(c);const t=l.vc(2).$implicit;return l.vc(2).editExam(t)})),l.jc(1,"span",46),l.Wc(2,"class"),l.ic(),l.Wc(3,"Edit Exam"),l.ic()}}function st(c,t){if(1&c){const c=l.kc();l.jc(0,"a",45),l.rc("click",(function(){l.Mc(c);const t=l.vc(2).$implicit;return l.vc(2).deleteExam(t)})),l.jc(1,"span",46),l.Wc(2,"class"),l.ic(),l.Wc(3,"Delete Exam"),l.ic()}}function at(c,t){if(1&c){const c=l.kc();l.jc(0,"a",47),l.rc("click",(function(){l.Mc(c);const t=l.vc(2).$implicit;return l.vc(2).showReports(t)})),l.jc(1,"span",46),l.Wc(2,"class"),l.ic(),l.Wc(3,"Reports"),l.ic()}if(2&c){const c=l.vc(2).$implicit;l.Bc("ngClass",l.Dc(1,Zc,!c.isMarksInserted))}}const rt=function(c){return{top:c}};function lt(c,t){if(1&c){const c=l.kc();l.jc(0,"td"),l.jc(1,"div",38),l.Wc(2," more_vert "),l.jc(3,"div",39),l.jc(4,"div",40),l.Wc(5,"arrow_right"),l.ic(),l.jc(6,"div",41),l.jc(7,"div",42),l.Vc(8,ct,4,3,"a",43),l.Vc(9,tt,4,3,"a",43),l.Vc(10,et,4,3,"a",43),l.Vc(11,it,4,3,"a",43),l.Vc(12,nt,4,3,"a",43),l.ic(),l.jc(13,"div",42),l.Vc(14,ot,4,0,"a",44),l.Vc(15,st,4,0,"a",44),l.Vc(16,at,4,3,"a",43),l.jc(17,"a",45),l.rc("click",(function(){l.Mc(c);const t=l.vc().$implicit;return l.vc(2).viewPDFs(t)})),l.jc(18,"span",46),l.Wc(19,"class"),l.ic(),l.Wc(20,"View PDFs"),l.ic(),l.jc(21,"a",45),l.rc("click",(function(){l.Mc(c);const t=l.vc().$implicit;return l.vc(2).deletePDFs(t)})),l.jc(22,"span",46),l.Wc(23,"class"),l.ic(),l.Wc(24,"Delete PDFs"),l.ic(),l.ic(),l.ic(),l.ic(),l.ic(),l.ic()}if(2&c){const c=l.vc().index,t=l.vc(2);l.Pb(3),l.Bc("ngClass",l.Dc(9,rt,c>6)),l.Pb(5),l.Bc("ngIf",t.permissions.add_exam_subjects),l.Pb(1),l.Bc("ngIf",t.permissions.edit_exam),l.Pb(1),l.Bc("ngIf",t.permissions.insert_marks),l.Pb(1),l.Bc("ngIf",t.permissions.insert_marks),l.Pb(1),l.Bc("ngIf",t.permissions.edit_marks),l.Pb(2),l.Bc("ngIf",t.permissions.edit_exam),l.Pb(1),l.Bc("ngIf",t.permissions.delete_exam),l.Pb(1),l.Bc("ngIf",t.permissions.view_reports)}}function dt(c,t){if(1&c&&(l.jc(0,"tr"),l.jc(1,"td"),l.Wc(2),l.ic(),l.jc(3,"td"),l.Wc(4),l.ic(),l.jc(5,"td"),l.Wc(6),l.ic(),l.jc(7,"td"),l.Vc(8,Jc,2,3,"div",36),l.ic(),l.jc(9,"td"),l.Wc(10),l.ic(),l.Vc(11,lt,25,11,"td",34),l.ic()),2&c){const c=t.$implicit,e=l.vc(2);l.Pb(2),l.Xc(c.examName),l.Pb(2),l.Xc("S"==c.category?"Subjective":"Objective"),l.Pb(2),l.Xc(c.course+" - "+c.batch),l.Pb(2),l.Bc("ngForOf",c.subjectDetails),l.Pb(2),l.Yc(" ",c.examDate," "),l.Pb(1),l.Bc("ngIf",e.isActionColumn())}}function ut(c,t){if(1&c&&(l.jc(0,"table",33),l.jc(1,"tr"),l.jc(2,"th"),l.Wc(3,"Exam Name"),l.ic(),l.jc(4,"th"),l.Wc(5,"Category"),l.ic(),l.jc(6,"th"),l.Wc(7,"Course Batch"),l.ic(),l.jc(8,"th"),l.Wc(9,"Subjects"),l.ic(),l.jc(10,"th"),l.Wc(11,"Exam Date"),l.ic(),l.Vc(12,Kc,2,0,"th",34),l.ic(),l.Vc(13,dt,12,6,"tr",35),l.ic()),2&c){const c=l.vc();l.Pb(12),l.Bc("ngIf",c.isActionColumn()),l.Pb(1),l.Bc("ngForOf",c.exams)}}function mt(c,t){if(1&c&&(l.jc(0,"div",48),l.Wc(1),l.ic()),2&c){const c=l.vc();l.Pb(1),l.Xc(c.noRecordsText)}}function ht(c,t){if(1&c&&l.ec(0,"add-offline-exam",49),2&c){const c=l.vc();l.Bc("callBack",c.callBack)("modal",c.modals)}}function bt(c,t){if(1&c){const c=l.kc();l.jc(0,"div",50),l.jc(1,"button",51),l.rc("click",(function(){return l.Mc(c),l.vc().modals.showAddModal=!1})),l.Wc(2,"Close"),l.ic(),l.ic()}}function gt(c,t){if(1&c&&l.ec(0,"edit-offline-exam",52),2&c){const c=l.vc();l.Bc("exam",c.activeExam)("modals",c.modals)}}function ft(c,t){if(1&c){const c=l.kc();l.jc(0,"div",50),l.jc(1,"button",51),l.rc("click",(function(){return l.Mc(c),l.vc().modals.showEditModal=!1})),l.Wc(2,"Close"),l.ic(),l.ic()}}function pt(c,t){if(1&c&&l.ec(0,"add-exam-subjects",52),2&c){const c=l.vc();l.Bc("exam",c.activeExam)("modals",c.modals)}}function jt(c,t){if(1&c){const c=l.kc();l.jc(0,"div",50),l.jc(1,"button",51),l.rc("click",(function(){return l.Mc(c),l.vc().modals.showSubjectsModal=!1})),l.Wc(2,"Close"),l.ic(),l.ic()}}function xt(c,t){if(1&c&&l.ec(0,"edit-exam-subjects",52),2&c){const c=l.vc();l.Bc("exam",c.activeExam)("modals",c.modals)}}function vt(c,t){if(1&c){const c=l.kc();l.jc(0,"div",50),l.jc(1,"button",51),l.rc("click",(function(){return l.Mc(c),l.vc().modals.showEditSubjectsModal=!1})),l.Wc(2,"Close"),l.ic(),l.ic()}}function Mt(c,t){if(1&c&&l.ec(0,"insert-marks",52),2&c){const c=l.vc();l.Bc("exam",c.activeExam)("modals",c.modals)}}function Pt(c,t){if(1&c){const c=l.kc();l.jc(0,"div",50),l.jc(1,"button",51),l.rc("click",(function(){return l.Mc(c),l.vc().modals.showInsertModal=!1})),l.Wc(2,"Close"),l.ic(),l.ic()}}function kt(c,t){if(1&c&&l.ec(0,"edit-marks",53),2&c){const c=l.vc();l.Bc("exam",c.activeExam)}}function It(c,t){if(1&c){const c=l.kc();l.jc(0,"div",50),l.jc(1,"button",51),l.rc("click",(function(){return l.Mc(c),l.vc().modals.editInsertModal=!1})),l.Wc(2,"Close"),l.ic(),l.ic()}}function Ct(c,t){if(1&c&&l.ec(0,"offline-exam-report",54),2&c){const c=l.vc();l.Bc("reports",c.reports)("exam",c.activeExam)("subjectDetails",c.subjectDetails)}}function wt(c,t){if(1&c){const c=l.kc();l.jc(0,"div",50),l.jc(1,"button",51),l.rc("click",(function(){return l.Mc(c),l.vc().modals.reportsModal=!1})),l.Wc(2,"Close"),l.ic(),l.ic()}}function Bt(c,t){if(1&c&&l.ec(0,"upload-marks-excel",52),2&c){const c=l.vc();l.Bc("exam",c.activeExam)("modals",c.modals)}}function Wt(c,t){if(1&c){const c=l.kc();l.jc(0,"div",50),l.jc(1,"button",51),l.rc("click",(function(){return l.Mc(c),l.vc().modals.showUploadModal=!1})),l.Wc(2,"Close"),l.ic(),l.ic()}}function Ft(c,t){if(1&c&&l.ec(0,"student-pdfs",53),2&c){const c=l.vc();l.Bc("exam",c.activeExam)}}function St(c,t){if(1&c){const c=l.kc();l.jc(0,"div",50),l.jc(1,"button",51),l.rc("click",(function(){return l.Mc(c),l.vc().modals.viewPDFsModal=!1})),l.Wc(2,"Close"),l.ic(),l.ic()}}const Ot=function(){return{width:"700px"}},yt=function(){return{width:"900px"}},Dt=function(){return{width:"100%"}},Et=function(){return{width:"60%"}},_t=[{path:"",component:(()=>{class c{constructor(c,t,e){this.coreService=c,this.dialog=t,this.usersService=e,this.modals={showAddModal:!1,showInsertModal:!1,editInsertModal:!1,showEditModal:!1,reportsModal:!1,showUploadModal:!1,showSubjectsModal:!1,showEditSubjectsModal:!1,viewPDFsModal:!1},this.courses=[],this.courseId="",this.batches=[],this.batchId="",this.noRecordsText="Search by Exam name, Category, Course and Batch etc.",this.exams=[],this.permissions=r.a}ngOnInit(){return Object(s.a)(this,void 0,void 0,(function*(){this.getCourses(),this.callBack=()=>{},this.permissions=yield this.usersService.getUserPermissions()}))}getCourses(){this.coreService.getRequest(a.a.API_URL+"courses").subscribe(c=>{this.courses=c})}setBatches(){let c=this.courses.find(c=>c.courseId==+this.courseId);this.batches=c?c.batches:[],this.batchId=""}addSubjects(c){this.activeExam=c,this.modals.showSubjectsModal=!0}editSubjects(c){this.activeExam=c,this.modals.showEditSubjectsModal=!0}editExam(c){this.activeExam=c,this.modals.showEditModal=!0}insertMarks(c){this.activeExam=c,this.modals.showInsertModal=!0}uploadExcel(c){this.activeExam=c,this.modals.showUploadModal=!0}editMarks(c){this.activeExam=c,this.modals.editInsertModal=!0}deleteExam(c){this.dialog.showDialog({title:"Confirm Deletion",content:`Are you sure to delete Exam "${c.examName}" ?`,callBack:()=>{this.loading=!0,this.coreService.deleteRequest(a.a.API_URL+"offline-exams/"+c.examId).subscribe(t=>{this.loading=!1,t.success&&this.exams.splice(this.exams.indexOf(c),1)})}})}searchExams(c,t){c=c||null,t=t||null;const e=this.courseId||0,i=this.batchId||0;this.loading=!0,this.coreService.getRequest(a.a.API_URL+`offline-exams/${c}/${t}/${e}/${i}`).subscribe(c=>{this.exams=c,this.loading=!1,0==this.exams.length&&(this.noRecordsText="No Records Available")})}isActionColumn(){return this.permissions.edit_exam||this.permissions.delete_exam||this.permissions.view_reports||this.permissions.add_exam_subjects||this.permissions.edit_marks||this.permissions.insert_marks}showReports(c){this.activeExam=c,this.loading=!0,this.coreService.getRequest(a.a.API_URL+"offline-exams/"+c.examId+"/report").subscribe(c=>{this.reports=c.batches,this.subjectDetails=c.subjectDetails,this.modals.reportsModal=!0,this.loading=!1})}viewPDFs(c){this.activeExam=c,this.modals.viewPDFsModal=!0}deletePDFs(c){this.activeExam=c,this.dialog.showDialog({content:`Are you sure to delete PDFs from Exam "${c.examName}"`,callBack:()=>{this.loading=!0,this.coreService.deleteRequest(a.a.API_URL+"offline-exams/"+c.examId+"/delete-pdfs").subscribe(c=>{this.loading=!1,this.dialog.showDialog({content:c.message})})}})}}return c.\u0275fac=function(t){return new(t||c)(l.dc(d.a),l.dc(u.a),l.dc(m.a))},c.\u0275cmp=l.Xb({type:c,selectors:[["app-offline-exams-home"]],decls:114,vars:61,consts:[["id","page-content"],[1,"row","offline-exams-row"],["id","filter-box"],["placeholder","Exam Name",1,"input-field"],["examName",""],[1,"select"],["examCategory",""],["value",""],["value","S"],["value","O"],[1,"select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"select",3,"ngModel","ngModelChange"],["mat-raised-button","",3,"click"],["id","add-extra","mat-raised-button","",3,"click",4,"ngIf"],["id","offline-exams-action"],["mat-raised-button","",3,"click",4,"ngIf"],[1,"pinnacle-table-wrapper"],["class","pinnacle-table big-heading",4,"ngIf"],["class","no-data perfect-centered",4,"ngIf"],["modal","",1,"modal",3,"show","options"],[1,"dialog"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],[3,"callBack","modal",4,"ngIf"],["class","modal-footer",4,"ngIf"],[3,"exam","modals",4,"ngIf"],[3,"exam",4,"ngIf"],[3,"reports","exam","subjectDetails",4,"ngIf"],[3,"show"],[3,"value"],["id","add-extra","mat-raised-button","",3,"click"],[1,"pinnacle-table","big-heading"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","assigned-items",4,"ngFor","ngForOf"],[1,"assigned-items"],[1,"material-icons","action"],[1,"action-pane",3,"ngClass"],[1,"material-icons","arrow"],[1,"row"],[1,"col-sm-6"],["class","action-link",3,"ngClass","click",4,"ngIf"],["class","action-link",3,"click",4,"ngIf"],[1,"action-link",3,"click"],[1,"material-icons"],[1,"action-link",3,"ngClass","click"],[1,"no-data","perfect-centered"],[3,"callBack","modal"],[1,"modal-footer"],["mat-raised-button","","color","primary",3,"click"],[3,"exam","modals"],[3,"exam"],[3,"reports","exam","subjectDetails"]],template:function(c,t){if(1&c){const c=l.kc();l.ec(0,"admin-header"),l.ec(1,"admin-sidebar"),l.jc(2,"div",0),l.jc(3,"div",1),l.jc(4,"div",2),l.ec(5,"input",3,4),l.jc(7,"select",5,6),l.jc(9,"option",7),l.Wc(10,"Select Category"),l.ic(),l.jc(11,"option",8),l.Wc(12,"Subjective"),l.ic(),l.jc(13,"option",9),l.Wc(14,"Objective"),l.ic(),l.ic(),l.jc(15,"select",10),l.rc("ngModelChange",(function(c){return t.courseId=c}))("change",(function(){return t.setBatches()})),l.jc(16,"option",7),l.Wc(17,"Select Course"),l.ic(),l.Vc(18,zc,2,2,"option",11),l.ic(),l.jc(19,"select",12),l.rc("ngModelChange",(function(c){return t.batchId=c})),l.jc(20,"option",7),l.Wc(21,"Select Batch"),l.ic(),l.Vc(22,Qc,2,2,"option",11),l.ic(),l.jc(23,"button",13),l.rc("click",(function(){l.Mc(c);const e=l.Ic(6),i=l.Ic(8);return t.searchExams(e.value,i.value)})),l.jc(24,"mat-icon"),l.Wc(25,"search"),l.ic(),l.ic(),l.Vc(26,Gc,4,0,"button",14),l.ic(),l.jc(27,"div",15),l.Vc(28,Hc,4,0,"button",16),l.ic(),l.ic(),l.jc(29,"div",17),l.Vc(30,ut,14,2,"table",18),l.Vc(31,mt,2,1,"div",19),l.ic(),l.ic(),l.jc(32,"div",20),l.jc(33,"div",21),l.jc(34,"div",22),l.Wc(35,"Add Exam"),l.ic(),l.jc(36,"div",23),l.rc("click",(function(){return t.modals.showAddModal=!1})),l.Wc(37,"\xd7"),l.ic(),l.jc(38,"div",24),l.Vc(39,ht,1,2,"add-offline-exam",25),l.ic(),l.Vc(40,bt,3,0,"div",26),l.ic(),l.ic(),l.jc(41,"div",20),l.jc(42,"div",21),l.jc(43,"div",22),l.Wc(44,"Edit Exam"),l.ic(),l.jc(45,"div",23),l.rc("click",(function(){return t.modals.showEditModal=!1})),l.Wc(46,"\xd7"),l.ic(),l.jc(47,"div",24),l.Vc(48,gt,1,2,"edit-offline-exam",27),l.ic(),l.Vc(49,ft,3,0,"div",26),l.ic(),l.ic(),l.jc(50,"div",20),l.jc(51,"div",21),l.jc(52,"div",22),l.Wc(53),l.ic(),l.jc(54,"div",23),l.rc("click",(function(){return t.modals.showSubjectsModal=!1})),l.Wc(55,"\xd7"),l.ic(),l.jc(56,"div",24),l.Vc(57,pt,1,2,"add-exam-subjects",27),l.ic(),l.Vc(58,jt,3,0,"div",26),l.ic(),l.ic(),l.jc(59,"div",20),l.jc(60,"div",21),l.jc(61,"div",22),l.Wc(62),l.ic(),l.jc(63,"div",23),l.rc("click",(function(){return t.modals.showEditSubjectsModal=!1})),l.Wc(64,"\xd7"),l.ic(),l.jc(65,"div",24),l.Vc(66,xt,1,2,"edit-exam-subjects",27),l.ic(),l.Vc(67,vt,3,0,"div",26),l.ic(),l.ic(),l.jc(68,"div",20),l.jc(69,"div",21),l.jc(70,"div",22),l.Wc(71),l.ic(),l.jc(72,"div",23),l.rc("click",(function(){return t.modals.showInsertModal=!1})),l.Wc(73,"\xd7"),l.ic(),l.jc(74,"div",24),l.Vc(75,Mt,1,2,"insert-marks",27),l.ic(),l.Vc(76,Pt,3,0,"div",26),l.ic(),l.ic(),l.jc(77,"div",20),l.jc(78,"div",21),l.jc(79,"div",22),l.Wc(80),l.ic(),l.jc(81,"div",23),l.rc("click",(function(){return t.modals.editInsertModal=!1})),l.Wc(82,"\xd7"),l.ic(),l.jc(83,"div",24),l.Vc(84,kt,1,1,"edit-marks",28),l.ic(),l.Vc(85,It,3,0,"div",26),l.ic(),l.ic(),l.jc(86,"div",20),l.jc(87,"div",21),l.jc(88,"div",22),l.Wc(89),l.ic(),l.jc(90,"div",23),l.rc("click",(function(){return t.modals.reportsModal=!1})),l.Wc(91,"\xd7"),l.ic(),l.jc(92,"div",24),l.Vc(93,Ct,1,3,"offline-exam-report",29),l.ic(),l.Vc(94,wt,3,0,"div",26),l.ic(),l.ic(),l.jc(95,"div",20),l.jc(96,"div",21),l.jc(97,"div",22),l.Wc(98),l.ic(),l.jc(99,"div",23),l.rc("click",(function(){return t.modals.showUploadModal=!1})),l.Wc(100,"\xd7"),l.ic(),l.jc(101,"div",24),l.Vc(102,Bt,1,2,"upload-marks-excel",27),l.ic(),l.Vc(103,Wt,3,0,"div",26),l.ic(),l.ic(),l.jc(104,"div",20),l.jc(105,"div",21),l.jc(106,"div",22),l.Wc(107),l.ic(),l.jc(108,"div",23),l.rc("click",(function(){return t.modals.viewPDFsModal=!1})),l.Wc(109,"\xd7"),l.ic(),l.jc(110,"div",24),l.Vc(111,Ft,1,1,"student-pdfs",28),l.ic(),l.Vc(112,St,3,0,"div",26),l.ic(),l.ic(),l.ec(113,"loading",30)}2&c&&(l.Pb(15),l.Bc("ngModel",t.courseId),l.Pb(3),l.Bc("ngForOf",t.courses),l.Pb(1),l.Bc("ngModel",t.batchId),l.Pb(3),l.Bc("ngForOf",t.batches),l.Pb(4),l.Bc("ngIf",t.permissions.new_exam),l.Pb(2),l.Bc("ngIf",t.permissions.new_exam),l.Pb(2),l.Bc("ngIf",t.exams.length>0),l.Pb(1),l.Bc("ngIf",0==t.exams.length),l.Pb(1),l.Bc("show",t.modals.showAddModal)("options",l.Cc(52,Ot)),l.Pb(7),l.Bc("ngIf",t.modals.showAddModal),l.Pb(1),l.Bc("ngIf",!1),l.Pb(1),l.Bc("show",t.modals.showEditModal)("options",l.Cc(53,Ot)),l.Pb(7),l.Bc("ngIf",t.modals.showEditModal),l.Pb(1),l.Bc("ngIf",!1),l.Pb(1),l.Bc("show",t.modals.showSubjectsModal)("options",l.Cc(54,yt)),l.Pb(3),l.Yc("Add Subjects in ",t.activeExam&&t.activeExam.examName,""),l.Pb(4),l.Bc("ngIf",t.modals.showSubjectsModal),l.Pb(1),l.Bc("ngIf",!1),l.Pb(1),l.Bc("show",t.modals.showEditSubjectsModal)("options",l.Cc(55,yt)),l.Pb(3),l.Yc("Edit Subjects in ",t.activeExam&&t.activeExam.examName,""),l.Pb(4),l.Bc("ngIf",t.modals.showEditSubjectsModal),l.Pb(1),l.Bc("ngIf",!1),l.Pb(1),l.Bc("show",t.modals.showInsertModal)("options",l.Cc(56,Dt)),l.Pb(3),l.Yc("Insert marks in ",t.activeExam&&t.activeExam.examName,""),l.Pb(4),l.Bc("ngIf",t.modals.showInsertModal),l.Pb(1),l.Bc("ngIf",!1),l.Pb(1),l.Bc("show",t.modals.editInsertModal)("options",l.Cc(57,Dt)),l.Pb(3),l.Yc("Edit marks in ",t.activeExam&&t.activeExam.examName,""),l.Pb(4),l.Bc("ngIf",t.modals.editInsertModal),l.Pb(1),l.Bc("ngIf",!1),l.Pb(1),l.Bc("show",t.modals.reportsModal)("options",l.Cc(58,Dt)),l.Pb(3),l.Yc("Report of ",t.activeExam&&t.activeExam.examName,""),l.Pb(4),l.Bc("ngIf",t.modals.reportsModal),l.Pb(1),l.Bc("ngIf",!1),l.Pb(1),l.Bc("show",t.modals.showUploadModal)("options",l.Cc(59,Et)),l.Pb(3),l.Yc("Insert marks in ",t.activeExam&&t.activeExam.examName,""),l.Pb(4),l.Bc("ngIf",t.modals.showUploadModal),l.Pb(1),l.Bc("ngIf",!1),l.Pb(1),l.Bc("show",t.modals.viewPDFsModal)("options",l.Cc(60,Et)),l.Pb(3),l.Yc("View PDFs [",t.activeExam&&t.activeExam.examName+" - "+t.activeExam.course+" "+t.activeExam.course,"] "),l.Pb(4),l.Bc("ngIf",t.modals.viewPDFsModal),l.Pb(1),l.Bc("ngIf",!1),l.Pb(1),l.Bc("show",t.loading))},directives:[h.a,b.a,g.o,g.u,g.s,g.k,g.n,i.j,f.b,p.a,i.k,j.a,x.a,i.i,S,_,N,T,K,rc,$c,Nc,Yc],styles:[".offline-exams-row[_ngcontent-%COMP%]{padding-bottom:15px;justify-content:space-between}#filter-box[_ngcontent-%COMP%]{width:calc(100% - 90px);display:flex;justify-content:flex-start;flex-wrap:wrap}#offline-exams-action[_ngcontent-%COMP%]{width:90px}.input-field[_ngcontent-%COMP%], .select[_ngcontent-%COMP%]{width:170px;margin-right:10px}.pinnacle-table-wrapper[_ngcontent-%COMP%]{max-height:74vh;min-height:74vh;overflow-y:auto}.action[_ngcontent-%COMP%]{position:relative;cursor:pointer}.action-pane[_ngcontent-%COMP%]{transform:scale(0);cursor:text;position:absolute;width:300px;height:auto;background-color:#fff;box-shadow:0 0 2px #888;z-index:2;left:-300px;top:-9px;transition:all .3s}.action-pane.top[_ngcontent-%COMP%]{top:-160px}.action-pane[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]{position:absolute;right:-35px;top:-8px;font-size:60px;color:#fff;text-shadow:1px 1px 1px #888}.action-link[_ngcontent-%COMP%]{font-family:Roboto;font-size:14px;display:block;color:#777;cursor:pointer;text-decoration:none;padding:12px 10px 12px 35px;border-bottom:1px solid #f5f5f5}.action-link.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.action-link[_ngcontent-%COMP%]:hover{background:#f5f5f5}.action-link[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{position:absolute;left:15px;font-size:16px}.action-link[_ngcontent-%COMP%]:last-child{border-bottom:none}.action-pane.top[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]{top:auto;bottom:-5px}.action[_ngcontent-%COMP%]:hover   .action-pane[_ngcontent-%COMP%]{transform:scale(1)}#add-extra[_ngcontent-%COMP%]{display:none}@media screen and (max-width:1163px){#add-extra[_ngcontent-%COMP%]{display:inline-block;margin-left:10px}#offline-exams-action[_ngcontent-%COMP%]{display:none}#filter-box[_ngcontent-%COMP%]{width:100%;height:83px;align-content:space-between}.input-field[_ngcontent-%COMP%], .select[_ngcontent-%COMP%]{width:calc(25% - 10px)}}@media screen and (max-width:690px){.input-field[_ngcontent-%COMP%], .select[_ngcontent-%COMP%]{width:calc(33.33% - 10px)}}@media screen and (max-width:530px){.input-field[_ngcontent-%COMP%], .select[_ngcontent-%COMP%]{width:calc(50% - 10px)}#filter-box[_ngcontent-%COMP%]{height:120px}}"]}),c})()}];let $t=(()=>{class c{}return c.\u0275mod=l.bc({type:c}),c.\u0275inj=l.ac({factory:function(t){return new(t||c)},imports:[[i.c,o.a,n.f.forChild(_t)]]}),c})()}}]);