function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var c=0;c<e.length;c++){var i=e[c];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,c){return e&&_defineProperties(t.prototype,e),c&&_defineProperties(t,c),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"I9y+":function(t,e,c){"use strict";c.d(e,"a",(function(){return r}));var i=c("fXoL"),n=c("ofXK"),a=c("tyNb"),o=c("NFeN");function s(t,e){if(1&t&&(i.jc(0,"div",3),i.jc(1,"div",4),i.jc(2,"div",5),i.jc(3,"div",6),i.ec(4,"img",7),i.ic(),i.jc(5,"div",8),i.jc(6,"div",9),i.Wc(7),i.ic(),i.jc(8,"div",10),i.Wc(9),i.ic(),i.ic(),i.ic(),i.jc(10,"div",11),i.jc(11,"mat-icon"),i.Wc(12,"add"),i.ic(),i.Wc(13),i.ic(),i.ic(),i.ic()),2&t){var c=e.$implicit;i.Pb(7),i.Xc(c.title),i.Pb(2),i.Xc(c.value),i.Pb(1),i.Bc("routerLink",c.link),i.Pb(3),i.Yc(" ",c.footerTitle," ")}}var r=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xb({type:t,selectors:[["statistics-dashboard"]],inputs:{statisticsData:"statisticsData"},decls:3,vars:1,consts:[["id","page-content"],[1,"row"],["class","padding-box",4,"ngFor","ngForOf"],[1,"padding-box"],[1,"dashboard-item"],[1,"item-body","row"],[1,"item-icon"],["src","assets/images/question.png","id","question-img"],[1,"item-content"],[1,"total-title"],[1,"total-value"],[1,"item-footer",3,"routerLink"]],template:function(t,e){1&t&&(i.jc(0,"div",0),i.jc(1,"div",1),i.Vc(2,s,14,4,"div",2),i.ic(),i.ic()),2&t&&(i.Pb(2),i.Bc("ngForOf",e.statisticsData))},directives:[n.j,a.c,o.a],styles:["#page-content[_ngcontent-%COMP%]{padding:7.5px}.dashboard-item[_ngcontent-%COMP%]{position:relative;background:#fff;align-items:flex-start}.padding-box[_ngcontent-%COMP%]{width:25%;padding:7.5px}.item-body[_ngcontent-%COMP%]{padding:25px 0}.item-icon[_ngcontent-%COMP%]{width:25%;text-align:center}#question-img[_ngcontent-%COMP%]{width:44.5px}.item-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}.item-content[_ngcontent-%COMP%]{width:75%}.total-title[_ngcontent-%COMP%]{font-size:20px;text-transform:uppercase;color:#555;margin-bottom:10px}.total-value[_ngcontent-%COMP%]{font-weight:500;font-size:24px;color:#333}.item-footer[_ngcontent-%COMP%]{background-color:var(--text-success);padding:5px;width:100%;color:#fff;font-weight:500;text-align:center}.item-footer[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle}@media screen and (max-width:1024px){.padding-box[_ngcontent-%COMP%]{width:33.33%}.item-icon[_ngcontent-%COMP%]{width:30%}.item-content[_ngcontent-%COMP%]{width:70%}}@media screen and (max-width:840px){.padding-box[_ngcontent-%COMP%]{width:50%}}@media screen and (max-width:570px){.padding-box[_ngcontent-%COMP%]{width:100%}}"]}),t}()},W2jB:function(t,e,c){"use strict";c.d(e,"a",(function(){return st}));var i,n=c("mrSG"),a=c("+0xr"),o=c("0EQZ"),s=c("SP9e"),r=c("Dh3D"),d=c("M9IT"),l=c("byUP"),u=c("fXoL"),p=c("kMVN"),h=c("4KEQ"),b=c("QeEr"),g=c("tyNb"),f=c("FnMX"),m=c("aCk2"),j=c("G0I0"),v=c("3Pt+"),w=c("ofXK"),x=c("ZMsq"),C=c("bTqV"),P=c("V/o5"),M=c("NFeN"),k=c("bSwM"),_=c("kmnG"),O=c("qFsG"),y=((i=function(){function t(e,c){_classCallCheck(this,t),this.coreService=e,this.comm=c}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(){var t=this;this.coreService.postRequest(s.a.API_URL+"subjects",{subject:this.subject}).subscribe((function(e){e.status?t.comm.saveSubject.next(e.data):t.status=e.message}))}}]),t}()).\u0275fac=function(t){return new(t||i)(u.dc(h.a),u.dc(p.a))},i.\u0275cmp=u.Xb({type:i,selectors:[["add-subject"]],decls:33,vars:3,consts:[[1,"row","mainrow"],[1,"col-12","col-lg-9","pr"],[1,"custom-shadow"],[1,"content-box"],[1,"border-box"],[1,"field-wrapper"],["matInput","","placeholder","Enter Subject Name","required","",3,"ngModel","focus","ngModelChange"],["sub","ngModel"],[1,"button-wrapper"],["mat-raised-button","","color","primary",3,"disabled","click"],[2,"font-weight","500","color","red","margin-top","10px"],[1,"col-12","col-lg-3","pl"],[1,"content-title"],["id","instructions"],[1,"material-icons"]],template:function(t,e){if(1&t&&(u.jc(0,"div",0),u.jc(1,"div",1),u.jc(2,"div",2),u.jc(3,"div",3),u.jc(4,"div",4),u.jc(5,"div",5),u.jc(6,"mat-form-field"),u.jc(7,"mat-label"),u.Wc(8,"Enter Subject Name"),u.ic(),u.jc(9,"input",6,7),u.rc("focus",(function(){return e.status=""}))("ngModelChange",(function(t){return e.subject=t})),u.ic(),u.ic(),u.ic(),u.jc(11,"div",8),u.jc(12,"button",9),u.rc("click",(function(){return e.onSubmit()})),u.Wc(13," Submit "),u.ic(),u.ic(),u.ic(),u.jc(14,"p",10),u.Wc(15),u.ic(),u.ic(),u.ic(),u.ic(),u.jc(16,"div",11),u.jc(17,"div",2),u.jc(18,"div",12),u.Wc(19,"Important Instructions"),u.ic(),u.jc(20,"div",13),u.jc(21,"div"),u.jc(22,"div",14),u.Wc(23,"check_box"),u.ic(),u.Wc(24,"Add subject to the question bank."),u.ic(),u.jc(25,"div"),u.jc(26,"div",14),u.Wc(27,"check_box"),u.ic(),u.Wc(28,"Can define 4 level hierarchy to a created subject. "),u.ic(),u.jc(29,"div"),u.jc(30,"div",14),u.Wc(31,"check_box"),u.ic(),u.Wc(32,"Considering an example: add a subject, chapter, topic, sub-topic"),u.ic(),u.ic(),u.ic(),u.ic(),u.ic()),2&t){var c=u.Ic(10);u.Pb(9),u.Bc("ngModel",e.subject),u.Pb(3),u.Bc("disabled",c.invalid),u.Pb(3),u.Xc(e.status)}},directives:[_.b,_.e,O.a,v.b,v.r,v.k,v.n,C.b],styles:["#instructions[_ngcontent-%COMP%]{background-color:#feffa0;padding-right:10px}#instructions[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;padding:20px 10px;border-bottom:1px solid #888;font-weight:400;color:#333;font-size:15px;margin-left:45px}#instructions[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div.material-icons[_ngcontent-%COMP%]{position:absolute;left:-30px}#instructions[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{border-bottom:none}",".content-title[_ngcontent-%COMP%]{padding:10px;font-weight:500;background:#fff;border-bottom:1px solid #ddd}.content-box[_ngcontent-%COMP%]{padding:15px;background-color:#fff}.custom-shadow[_ngcontent-%COMP%]{height:100%;box-shadow:0 0 5px -1px rgba(0,0,0,.25)}.border-box[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap}.label[_ngcontent-%COMP%]{margin-bottom:20px}.button-wrapper[_ngcontent-%COMP%], .field-wrapper[_ngcontent-%COMP%]{width:100%}@media screen and (min-width:500px){.field-wrapper[_ngcontent-%COMP%]{width:calc(100% - 80px);padding-right:10px}.button-wrapper[_ngcontent-%COMP%]{width:80px}}@media screen and (max-width:992px){.mainrow[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{padding-right:0}.mainrow[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{padding-left:0;margin-top:20px}}"]}),i);function S(t,e){if(1&t){var c=u.kc();u.jc(0,"div",19),u.jc(1,"div",20),u.jc(2,"mat-form-field"),u.jc(3,"mat-label"),u.Wc(4,"Enter Chapter Name"),u.ic(),u.jc(5,"input",21,22),u.rc("ngModelChange",(function(t){return u.Mc(c),u.vc().chapter=t})),u.ic(),u.ic(),u.ic(),u.jc(7,"div",23),u.jc(8,"button",9),u.rc("click",(function(){return u.Mc(c),u.vc().saveChapter()})),u.jc(9,"mat-icon",10),u.Wc(10,"save"),u.ic(),u.ic(),u.ic(),u.ic()}if(2&t){var i=u.Ic(6),n=u.vc();u.Pb(5),u.Bc("ngModel",n.chapter),u.Pb(3),u.Bc("disabled",i.invalid)}}function I(t,e){if(1&t){var c=u.kc();u.jc(0,"div",32),u.jc(1,"div",33),u.jc(2,"mat-form-field"),u.jc(3,"mat-label"),u.Wc(4,"Enter Topic Name"),u.ic(),u.jc(5,"input",21,22),u.rc("ngModelChange",(function(t){u.Mc(c);var e=u.vc().index;return u.vc().topics[e]=t})),u.ic(),u.ic(),u.ic(),u.jc(7,"div",34),u.jc(8,"button",9),u.rc("click",(function(){u.Mc(c);var t=u.vc(),e=t.$implicit,i=t.index;return u.vc().saveTopic(e.chapterId,i)})),u.jc(9,"mat-icon",10),u.Wc(10,"save"),u.ic(),u.ic(),u.ic(),u.ic()}if(2&t){var i=u.Ic(6),n=u.vc().index,a=u.vc();u.Pb(5),u.Bc("ngModel",a.topics[n]),u.Pb(3),u.Bc("disabled",i.invalid)}}function D(t,e){if(1&t){var c=u.kc();u.jc(0,"div",32),u.jc(1,"div",35),u.jc(2,"mat-form-field"),u.jc(3,"mat-label"),u.Wc(4,"Enter Topic Name"),u.ic(),u.jc(5,"input",21),u.rc("ngModelChange",(function(t){return u.Mc(c),e.$implicit.topic=t})),u.ic(),u.ic(),u.ic(),u.jc(6,"div",36),u.jc(7,"button",9),u.rc("click",(function(){u.Mc(c);var t=e.$implicit,i=e.index,n=u.vc().index;return u.vc().updateTopic(t.topicId,n,i)})),u.jc(8,"mat-icon",10),u.Wc(9,"save"),u.ic(),u.ic(),u.Wc(10," \xa0"),u.jc(11,"button",37),u.rc("click",(function(){u.Mc(c);var t=e.$implicit,i=e.index,n=u.vc().index;return u.vc().showTopicDelete(t.topicId,t.topic,n,i)})),u.jc(12,"mat-icon"),u.Wc(13,"delete"),u.ic(),u.ic(),u.ic(),u.ic()}if(2&t){var i=e.$implicit,n=e.index,a=u.vc().index,o=u.vc();u.Pb(5),u.Bc("ngModel",i.topic),u.Pb(2),u.Bc("disabled",o.masterChapters[a].topics[n].topic==i.topic)}}function B(t,e){if(1&t){var c=u.kc();u.jc(0,"div",19),u.jc(1,"div",24),u.jc(2,"div",25),u.jc(3,"mat-form-field"),u.jc(4,"mat-label"),u.Wc(5,"Enter Chapter Name"),u.ic(),u.jc(6,"input",21,26),u.rc("ngModelChange",(function(t){u.Mc(c);var i=e.index;return u.vc().chapters[i].chapter=t})),u.ic(),u.ic(),u.ic(),u.jc(8,"div",27),u.jc(9,"button",9),u.rc("click",(function(){u.Mc(c);var t=e.index;return u.vc().updateChapter(t)})),u.jc(10,"mat-icon",10),u.Wc(11,"save"),u.ic(),u.ic(),u.Wc(12," \xa0"),u.jc(13,"button",28),u.rc("click",(function(){u.Mc(c);var t=e.$implicit,i=e.index;return u.vc().showDelete(t.chapterId,t.chapter,i)})),u.jc(14,"mat-icon"),u.Wc(15,"delete"),u.ic(),u.ic(),u.Wc(16," \xa0"),u.jc(17,"button",29),u.rc("click",(function(){u.Mc(c);var t=e.index,i=u.vc();return i.showAddTopics[t]=!i.showAddTopics[t]})),u.jc(18,"mat-icon",10),u.Wc(19,"add"),u.ic(),u.Wc(20," Topic "),u.ic(),u.ic(),u.ic(),u.Vc(21,I,11,2,"div",30),u.Vc(22,D,14,2,"div",31),u.ic()}if(2&t){var i=e.$implicit,n=e.index,a=u.Ic(7),o=u.vc();u.Pb(6),u.Bc("ngModel",o.chapters[n].chapter),u.Pb(3),u.Bc("disabled",a.invalid||o.chapters[n].chapter==o.masterChapters[n].chapter),u.Pb(4),u.Bc("disabled",i.topics.length>0),u.Pb(8),u.Bc("ngIf",o.showAddTopics[n]),u.Pb(1),u.Bc("ngForOf",i.topics)}}var W,A=((W=function(){function t(e,c,i){_classCallCheck(this,t),this.coreService=e,this.comm=c,this.dialog=i,this.masterChapters=[],this.showAddTopics=[],this.showdelete=!1,this.showTopicDeleteModal=!1,this.addchapter=!1,this.topics=[],this.chapters=[]}return _createClass(t,[{key:"ngOnChanges",value:function(t){this.masterSubject=""+this.subjectData.subject,this.masterChapters=JSON.parse(JSON.stringify(this.chapters)),this.showAddTopics=new Array(this.masterChapters.length),this.addchapter=!1,this.topics=new Array(this.chapters.length)}},{key:"ngOnInit",value:function(){}},{key:"showStatus",value:function(t,e){this.dialog.showDialog({title:"Status",content:e})}},{key:"saveChapter",value:function(){var t=this,e=s.a.API_URL+"subjects/chapters",c={chapter:this.chapter,subjectId:this.subjectData.subjectId};this.loading=!0,this.coreService.postRequest(e,c).subscribe((function(e){t.loading=!1,t.showStatus(e.status,e.message),e.data.topics=[],t.chapters.push(e.data),t.masterChapters.push(JSON.parse(JSON.stringify(e.data))),t.addchapter=!1,t.chapter="",t.comm.saveChapter.next(e.data)}))}},{key:"saveTopic",value:function(t,e){var c=this,i={chapterId:t,topic:this.topics[e]};this.loading=!0,this.coreService.postRequest(s.a.API_URL+"subjects/topics",i).subscribe((function(t){c.loading=!1,c.chapters[e].topics.push(t.data),c.masterChapters[e].topics.push(JSON.parse(JSON.stringify(t.data))),c.showAddTopics[e]=!1,c.showStatus(t.status,t.message),c.topics[e]=""}))}},{key:"updateChapter",value:function(t){var e=this,c=this.chapters[t];this.loading=!0,this.coreService.putRequest(s.a.API_URL+"subjects/chapters/"+c.chapterId,{chapter:c.chapter}).subscribe((function(i){e.loading=!1,e.showStatus(i.status,i.message),e.masterChapters[t].chapter=""+c.chapter}))}},{key:"updateSubject",value:function(){var t=this;this.loading=!0,this.coreService.putRequest(s.a.API_URL+"subjects/"+this.subjectData.subjectId,{subject:this.subjectData.subject}).subscribe((function(e){t.loading=!1,t.showStatus(e.status,e.message),t.masterSubject=""+t.subjectData.subject}))}},{key:"updateTopic",value:function(t,e,c){var i=this,n=this.chapters[e].topics[c],a=s.a.API_URL+"subjects/topics/"+t;this.loading=!0,this.coreService.putRequest(a,n).subscribe((function(t){i.loading=!1,i.showStatus(t.status,t.message),i.masterChapters[e].topics[c]=JSON.parse(JSON.stringify(i.chapters[e].topics[c]))}))}},{key:"showDelete",value:function(t,e,c){var i=this;this.dialog.showDialog({title:"Confirm",content:" Are you sure to delete &ldquo;".concat(e,"&rdquo; ?"),width:"350px",callBackButtonColor:"warn",callBackButtonText:"Delete",callBack:function(){i.deleteChapter(t,c)}})}},{key:"showTopicDelete",value:function(t,e,c,i){var n=this;this.dialog.showDialog({title:"Confirm",content:" Are you sure to delete &ldquo;".concat(e,"&rdquo; ?"),width:"350px",callBackButtonColor:"warn",callBackButtonText:"Delete",callBack:function(){n.deleteTopic(t,c,i)}})}},{key:"deleteChapter",value:function(t,e){var c=this,i=s.a.API_URL+"subjects/chapters/"+t;this.loading=!0,this.coreService.deleteRequest(i).subscribe((function(t){c.loading=!1,t.success?(c.chapters.splice(e,1),c.masterChapters.splice(e,1),c.showdelete=!1):c.dialog.showDialog({content:t.message})}))}},{key:"deleteTopic",value:function(t,e,c){var i=this;this.loading=!0,this.coreService.deleteRequest(s.a.API_URL+"subjects/topics/"+t).subscribe((function(t){i.loading=!1,t.success?(i.chapters[e].topics.splice(c,1),i.masterChapters[e].topics.splice(c,1)):i.dialog.showDialog({content:t.message})}))}}]),t}()).\u0275fac=function(t){return new(t||W)(u.dc(h.a),u.dc(p.a),u.dc(b.a))},W.\u0275cmp=u.Xb({type:W,selectors:[["edit-subject"]],inputs:{chapters:"chapters",subjectData:"subjectData"},features:[u.Nb],decls:40,vars:5,consts:[[1,"row","mainrow"],[1,"col-12","col-lg-9"],[1,"custom-shadow"],[1,"content-box"],[1,"row","inner-rows"],[1,"update-subject-left","pr"],["matInput","","required","",3,"ngModel","ngModelChange"],["sub","ngModel"],[1,"update-subject-right","justify-space-between","pl"],["mat-mini-fab","","color","primary",3,"disabled","click"],[1,"btn-icons"],["color","primary","mat-raised-button","",3,"click"],["class","row inner-rows border-box",4,"ngIf"],["class","row inner-rows border-box",4,"ngFor","ngForOf"],[1,"col-12","col-lg-3"],[1,"content-title"],["id","instructions"],[1,"material-icons"],[3,"show"],[1,"row","inner-rows","border-box"],[1,"add-chapter-left","pr"],["matInput","","placeholder","Enter Chapter Name","required","",3,"ngModel","ngModelChange"],["top","ngModel"],[1,"add-chapter-right","pl"],[1,"row","col-12","chapters"],[1,"update-chapter-left","pr"],["edittop","ngModel"],[1,"update-chapter-right","justify-space-between","pl"],["mat-mini-fab","","color","warn",3,"disabled","click"],["mat-raised-button","","color","primary",3,"click"],["class","row inner-rows border-box col-12",4,"ngIf"],["class","row inner-rows border-box col-12",4,"ngFor","ngForOf"],[1,"row","inner-rows","border-box","col-12"],[1,"add-topic-left","pr"],[1,"add-topic-right","pl"],[1,"update-topic-left","pr"],[1,"update-topic-right","justify-space-between","pl"],["mat-mini-fab","","color","warn",3,"click"]],template:function(t,e){if(1&t&&(u.jc(0,"div",0),u.jc(1,"div",1),u.jc(2,"div",2),u.jc(3,"div",3),u.jc(4,"div",4),u.jc(5,"div",5),u.jc(6,"mat-form-field"),u.jc(7,"mat-label"),u.Wc(8,"Enter Subject Name"),u.ic(),u.jc(9,"input",6,7),u.rc("ngModelChange",(function(t){return e.subjectData.subject=t})),u.ic(),u.ic(),u.ic(),u.jc(11,"div",8),u.jc(12,"button",9),u.rc("click",(function(){return e.updateSubject()})),u.jc(13,"mat-icon",10),u.Wc(14,"save"),u.ic(),u.ic(),u.Wc(15,"\xa0 "),u.jc(16,"button",11),u.rc("click",(function(){return e.addchapter=!e.addchapter})),u.jc(17,"mat-icon",10),u.Wc(18,"add"),u.ic(),u.Wc(19," Chapter "),u.ic(),u.ic(),u.ic(),u.Vc(20,S,11,2,"div",12),u.Vc(21,B,23,5,"div",13),u.ic(),u.ic(),u.ic(),u.jc(22,"div",14),u.jc(23,"div",2),u.jc(24,"div",15),u.Wc(25,"Important Instructions"),u.ic(),u.jc(26,"div",16),u.jc(27,"div"),u.jc(28,"div",17),u.Wc(29,"check_box"),u.ic(),u.Wc(30,"Add subject to the question bank."),u.ic(),u.jc(31,"div"),u.jc(32,"div",17),u.Wc(33,"check_box"),u.ic(),u.Wc(34,"Can define 4 level hierarchy to a created subject. "),u.ic(),u.jc(35,"div"),u.jc(36,"div",17),u.Wc(37,"check_box"),u.ic(),u.Wc(38,"Considering an example: add a subject, chapter, topic, sub-topic"),u.ic(),u.ic(),u.ic(),u.ic(),u.ic(),u.ec(39,"loading",18)),2&t){var c=u.Ic(10);u.Pb(9),u.Bc("ngModel",e.subjectData.subject),u.Pb(3),u.Bc("disabled",c.invalid||e.subjectData.subject==e.masterSubject),u.Pb(8),u.Bc("ngIf",e.addchapter),u.Pb(1),u.Bc("ngForOf",e.chapters),u.Pb(18),u.Bc("show",e.loading)}},directives:[_.b,_.e,O.a,v.b,v.r,v.k,v.n,C.b,M.a,w.k,w.j,P.a],styles:["#instructions{background-color:#feffa0;padding-right:10px}#instructions>div{position:relative;padding:20px 10px;border-bottom:1px solid #888;font-weight:400;color:#333;font-size:15px;margin-left:45px}#instructions>div>div.material-icons{position:absolute;left:-30px}#instructions>div:last-child{border-bottom:none}",".content-title{padding:10px;font-weight:500;background:#fff;border-bottom:1px solid #ddd}.content-box{padding:15px;background-color:#fff;max-height:65vh;overflow:auto;position:relative}.custom-shadow{height:100%;box-shadow:0 0 5px -1px rgba(0,0,0,.25)}.chapters{margin-bottom:10px}.mainrow>div:first-child{padding-right:5px}.mainrow>div:last-child{padding-left:5px}.border-box{border:1px solid #ddd;padding:10px}.inner-rows{margin-bottom:10px}.inner-rows:last-child{margin-bottom:0}.label{margin-bottom:20px}mat-icon.btn-icons{font-size:20px;margin-top:1px}.update-chapter-left,.update-chapter-right,.update-subject-left,.update-subject-right,.update-topic-left,.update-topic-right{width:100%}.add-chapter-left,.add-topic-left{width:calc(100% - 40px)}.add-chapter-right,.add-topic-right{width:40px}@media screen and (min-width:500px){.justify-space-between{display:flex;justify-content:space-between;align-items:center}.update-chapter-left{width:calc(100% - 205px)}.update-chapter-right{width:205px}.update-topic-left{width:calc(100% - 95px)}.update-topic-right{width:95px}.update-subject-left{width:calc(100% - 165px)}.update-subject-right{width:165px}}@media screen and (max-width:992px){.mainrow>div:first-child{padding-right:0;order:2}.mainrow>div:last-child{padding-left:0;margin-bottom:20px;order:1}}@media screen and (max-width:576px){#page-content{padding:5px}.content-box{padding:10px}.chapters{margin-bottom:20px}}"],encapsulation:2}),W);function E(t,e){if(1&t){var c=u.kc();u.jc(0,"button",32),u.rc("click",(function(){return u.Mc(c),u.vc().showAddModal=!0})),u.jc(1,"mat-icon"),u.Wc(2,"add"),u.ic(),u.Wc(3," Add "),u.ic()}}function T(t,e){if(1&t){var c=u.kc();u.jc(0,"button",33),u.rc("click",(function(){return u.Mc(c),u.vc().showMultipleDelete()})),u.jc(1,"mat-icon"),u.Wc(2,"delete"),u.ic(),u.Wc(3," Delete "),u.ic()}if(2&t){var i=u.vc();u.Bc("disabled",0==i.selection.selected.length)}}function V(t,e){if(1&t){var c=u.kc();u.jc(0,"th",34),u.jc(1,"mat-checkbox",35),u.rc("change",(function(t){u.Mc(c);var e=u.vc();return t?e.masterToggle():null})),u.ic(),u.ic()}if(2&t){var i=u.vc();u.Pb(1),u.Bc("checked",i.selection.hasValue()&&i.isAllSelected())("indeterminate",i.selection.hasValue()&&!i.isAllSelected())}}function R(t,e){if(1&t){var c=u.kc();u.jc(0,"td",36),u.jc(1,"mat-checkbox",37),u.rc("click",(function(t){return u.Mc(c),t.stopPropagation()}))("change",(function(t){u.Mc(c);var i=e.$implicit,n=u.vc();return t?n.selection.toggle(i):null})),u.ic(),u.ic()}if(2&t){var i=e.$implicit,n=u.vc();u.Pb(1),u.Bc("disabled",n.subject_chapters[i.subjectId].length>0)("checked",n.selection.isSelected(i))}}function q(t,e){1&t&&(u.jc(0,"th",38),u.Wc(1," Srno. "),u.ic())}function F(t,e){if(1&t&&(u.jc(0,"td",36),u.Wc(1),u.ic()),2&t){var c=e.index;u.Pb(1),u.Yc(" ",c+1," ")}}function N(t,e){1&t&&(u.jc(0,"th",39),u.Wc(1," Subject "),u.ic())}function L(t,e){if(1&t&&(u.jc(0,"li"),u.Wc(1),u.ic()),2&t){var c=e.$implicit;u.Pb(1),u.Xc(c.topic)}}function $(t,e){if(1&t){var c=u.kc();u.jc(0,"li"),u.jc(1,"span",46),u.rc("click",(function(t){return u.Mc(c),u.vc(3).openTree(t)})),u.Wc(2),u.ic(),u.jc(3,"ul",44),u.Vc(4,L,2,1,"li",45),u.ic(),u.ic()}if(2&t){var i=e.$implicit,n=u.vc(3);u.Pb(1),u.Bc("ngClass",null!=n.chapter_topics[i.chapterId]&&n.chapter_topics[i.chapterId].length>0?"caret":""),u.Pb(1),u.Yc("",i.chapter," "),u.Pb(2),u.Bc("ngForOf",n.chapter_topics[i.chapterId])}}function X(t,e){if(1&t){var c=u.kc();u.jc(0,"ul",42),u.jc(1,"li"),u.jc(2,"span",43),u.rc("click",(function(t){return u.Mc(c),u.vc(2).openTree(t)})),u.Wc(3),u.ic(),u.jc(4,"ul",44),u.Vc(5,$,5,3,"li",45),u.ic(),u.ic(),u.ic()}if(2&t){var i=u.vc().$implicit,n=u.vc();u.Pb(3),u.Xc(i.subject),u.Pb(2),u.Bc("ngForOf",n.subject_chapters[i.subjectId])}}function z(t,e){if(1&t&&(u.jc(0,"span",47),u.Wc(1),u.ic()),2&t){var c=u.vc().$implicit;u.Pb(1),u.Xc(c.subject)}}function U(t,e){if(1&t&&(u.jc(0,"td",36),u.Vc(1,X,6,2,"ul",40),u.Vc(2,z,2,1,"span",41),u.ic()),2&t){var c=e.$implicit,i=u.vc();u.Pb(1),u.Bc("ngIf",i.subject_chapters[c.subjectId].length>0),u.Pb(1),u.Bc("ngIf",0==i.subject_chapters[c.subjectId].length)}}function J(t,e){1&t&&(u.jc(0,"th",34),u.Wc(1," Action "),u.ic())}function H(t,e){if(1&t){var c=u.kc();u.jc(0,"button",51),u.rc("click",(function(){u.Mc(c);var t=u.vc().$implicit;return u.vc().showEdit(t.subjectId)})),u.jc(1,"mat-icon"),u.Wc(2,"create"),u.ic(),u.ic()}}function G(t,e){if(1&t){var c=u.kc();u.jc(0,"button",52),u.rc("click",(function(){u.Mc(c);var t=u.vc(),e=t.$implicit,i=t.index;return u.vc().showDelete(e.subjectId,e.subject,i)})),u.jc(1,"mat-icon"),u.Wc(2,"delete"),u.ic(),u.ic()}if(2&t){var i=u.vc().$implicit,n=u.vc();u.Bc("disabled",n.subject_chapters[i.subjectId].length>0)}}function Q(t,e){if(1&t&&(u.jc(0,"td",48),u.Vc(1,H,3,0,"button",49),u.Wc(2," \xa0"),u.Vc(3,G,3,1,"button",50),u.ic()),2&t){var c=u.vc();u.Pb(1),u.Bc("ngIf",c.permissions.edit_subject),u.Pb(2),u.Bc("ngIf",c.permissions.delete_subject)}}function K(t,e){1&t&&u.ec(0,"tr",53)}function Y(t,e){1&t&&u.ec(0,"tr",54)}function Z(t,e){1&t&&(u.jc(0,"div",55),u.Wc(1," No Records Found "),u.ic())}var tt=function(){return[8]};function et(t,e){1&t&&u.ec(0,"mat-paginator",56),2&t&&u.Bc("pageSizeOptions",u.Cc(1,tt))}function ct(t,e){1&t&&u.ec(0,"add-subject")}function it(t,e){if(1&t&&u.ec(0,"edit-subject",57),2&t){var c=u.vc();u.Bc("chapters",c.selectedChaptersForEdit)("subjectData",c.subjectDataForEdit)}}var nt,at=function(){return{width:"90%"}},ot=function(){return{width:"100%"}},st=((nt=function(){function t(e,c,i,n,s){_classCallCheck(this,t),this.comm=e,this.coreService=c,this.dialog=i,this.router=n,this.usersService=s,this.loading=!1,this.showAddModal=!1,this.showEditModal=!1,this.treeClass=[],this.openedClass=[],this.subjectname="",this.tableData=[],this.displayedColumns=["srno","subject"],this.dataSource=new a.k(this.tableData),this.selection=new o.c(!0,[]),this.permissions=l.a,this.subject_chapters={},this.chapter_topics={},this.selectedChaptersForEdit=[],this.subjectDataForEdit={subjectId:0,subject:null},this.headerToLoad=this.router.url}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.saveSubjectSubscribe=this.comm.saveSubject.subscribe((function(t){e.showAddModal=!1,e.subjectsData.push({subjectId:t.subjectId,subject:t.subject,chapters:[]}),e.tableData=[],e.subjectsData.forEach((function(t){e.subject_chapters[t.subjectId]=t.chapters,e.tableData.push({subjectId:t.subjectId,subject:t.subject})})),e.setDataSource(),e.dataSource.filter=e.subjectname.trim().toLowerCase()})),this.saveChapterSubscribe=this.comm.saveChapter.subscribe((function(t){e.chapter_topics[t.chapterId]=t.topics})),t.next=4,this.usersService.getUserPermissions();case 4:this.permissions=t.sent,(this.permissions.edit_subject||this.permissions.delete_subject)&&this.displayedColumns.push("action"),this.permissions.delete_subject&&this.displayedColumns.unshift("id"),this.getAllSubjects();case 8:case"end":return t.stop()}}),t,this)})))}},{key:"getAllSubjects",value:function(){var t=this;this.loading=!0,this.coreService.getRequest(s.a.API_URL+"subjects").subscribe((function(e){t.loading=!1,t.treeClass=new Array(e.length),t.openedClass=new Array(e.length),t.parseSubjectsData(e)}))}},{key:"parseSubjectsData",value:function(t){var e=this;this.subjectsData=t,this.tableData=[],t.forEach((function(t){e.subject_chapters[t.subjectId]=t.chapters,t.chapters.forEach((function(t){e.chapter_topics[t.chapterId]=t.topics})),e.tableData.push({subjectId:t.subjectId,subject:t.subject})})),this.setDataSource()}},{key:"setDataSource",value:function(){this.dataSource=new a.k(this.tableData),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}},{key:"isAllSelected",value:function(){var t=this.selection.selected.length,e=this.dataSource.data.length,c=0;return this.subjectsData.forEach((function(t){t.chapters.length>0&&c++})),t==e-c}},{key:"masterToggle",value:function(){var t=this;this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach((function(e){0==t.subject_chapters[e.subjectId].length&&t.selection.select(e)}))}},{key:"showEdit",value:function(t){this.selectedChaptersForEdit=this.subject_chapters[this.tableData.find((function(e){return e.subjectId==t})).subjectId],this.showEditModal=!0,this.subjectDataForEdit=this.tableData.find((function(e){return e.subjectId==t}))}},{key:"showDelete",value:function(t,e,c){var i=this;this.dialog.showDialog({title:"Confirm",content:"Are you sure to delete &ldquo;".concat(e,"&rdquo;?"),width:"340px",callBackButtonColor:"warn",callBackButtonText:"Delete",callBack:function(){i.deleteSubject(t,c)}})}},{key:"deleteSubject",value:function(t,e){var c=this;this.coreService.deleteRequest(s.a.API_URL+"subjects/"+t).subscribe((function(t){c.subjectsData.splice(e,1),c.tableData.splice(e,1),c.dataSource=new a.k(c.tableData)}))}},{key:"showMultipleDelete",value:function(){var t=this;this.dialog.showDialog({title:"Confirm",content:"Are you sure to delete these subjects?",width:"340px",callBackButtonColor:"warn",callBackButtonText:"Delete",callBack:function(){t.deleteMultipleSubjects()}})}},{key:"deleteMultipleSubjects",value:function(){var t=this,e=[];this.selection.selected.forEach((function(t){e.push(t.subjectId)})),this.coreService.deleteRequest(s.a.API_URL+"subjects/multiple/"+e).subscribe((function(){t.subjectsData=t.subjectsData.filter((function(t){return!e.includes(t.subjectId)})),t.tableData=t.tableData.filter((function(t){return!e.includes(t.subjectId)})),t.selection.clear(),t.setDataSource()}))}},{key:"ngOnDestroy",value:function(){this.saveSubjectSubscribe.unsubscribe(),this.saveChapterSubscribe.unsubscribe(),this.tableData=[],this.setDataSource()}},{key:"openTree",value:function(t){t.target.parentElement.querySelector(".nested").classList.toggle("active"),t.target.classList.toggle("caret-down")}}]),t}()).\u0275fac=function(t){return new(t||nt)(u.dc(p.a),u.dc(h.a),u.dc(b.a),u.dc(g.b),u.dc(f.a))},nt.\u0275cmp=u.Xb({type:nt,selectors:[["app-subjects-home"]],viewQuery:function(t,e){var c;1&t&&(u.Sc(r.a,!0),u.Sc(d.a,!0)),2&t&&(u.Hc(c=u.sc())&&(e.sort=c.first),u.Hc(c=u.sc())&&(e.paginator=c.first))},decls:50,vars:17,consts:[["id","page-content"],[1,"row","main-row"],[1,"col-lg-6","col-xl-3","search-wrapper"],["id","searchinput","placeholder","Enter Subject Name",1,"input-field",3,"ngModel","keyup","ngModelChange"],["name","ngModel"],[1,"col-lg-5","col-xl-3","right-btns-wrapper"],["mat-raised-button","","class","main-btns",3,"click",4,"ngIf"],["mat-raised-button","","color","warn","class","main-btns",3,"disabled","click",4,"ngIf"],["mat-table","","matSort","",1,"shadow-sm",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","srno"],["mat-header-cell","","mat-sort-header","","id","srnocol",4,"matHeaderCellDef"],["matColumnDef","subject"],["mat-header-cell","","mat-sort-header","","id","subjectcol",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-cell","","id","actioncol",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","empty-table",4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions",4,"ngIf"],["modal","",1,"modal",3,"show","options"],[1,"dialog"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body","edit-modal-body"],[4,"ngIf"],[1,"modal-footer"],["mat-raised-button","","color","primary",3,"click"],[3,"chapters","subjectData",4,"ngIf"],[3,"show"],["mat-raised-button","",1,"main-btns",3,"click"],["mat-raised-button","","color","warn",1,"main-btns",3,"disabled","click"],["mat-header-cell",""],[3,"checked","indeterminate","change"],["mat-cell",""],[3,"disabled","checked","click","change"],["mat-header-cell","","mat-sort-header","","id","srnocol"],["mat-header-cell","","mat-sort-header","","id","subjectcol"],["class","tree",4,"ngIf"],["class","single-subject",4,"ngIf"],[1,"tree"],[1,"caret",3,"click"],[1,"nested"],[4,"ngFor","ngForOf"],[3,"ngClass","click"],[1,"single-subject"],["mat-cell","","id","actioncol"],["mat-mini-fab","","color","primary",3,"click",4,"ngIf"],["mat-mini-fab","","color","warn",3,"disabled","click",4,"ngIf"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","warn",3,"disabled","click"],["mat-header-row",""],["mat-row",""],[1,"empty-table"],["showFirstLastButtons","",3,"pageSizeOptions"],[3,"chapters","subjectData"]],template:function(t,e){1&t&&(u.ec(0,"admin-header"),u.ec(1,"admin-sidebar"),u.jc(2,"div",0),u.jc(3,"div",1),u.jc(4,"div",2),u.jc(5,"input",3,4),u.rc("keyup",(function(){return e.dataSource.filter=e.subjectname.trim().toLowerCase()}))("ngModelChange",(function(t){return e.subjectname=t})),u.ic(),u.ic(),u.jc(7,"div",5),u.Vc(8,E,4,0,"button",6),u.Vc(9,T,4,1,"button",7),u.ic(),u.ic(),u.jc(10,"table",8),u.hc(11,9),u.Vc(12,V,2,2,"th",10),u.Vc(13,R,2,2,"td",11),u.gc(),u.hc(14,12),u.Vc(15,q,2,0,"th",13),u.Vc(16,F,2,1,"td",11),u.gc(),u.hc(17,14),u.Vc(18,N,2,0,"th",15),u.Vc(19,U,3,2,"td",11),u.gc(),u.hc(20,16),u.Vc(21,J,2,0,"th",10),u.Vc(22,Q,4,2,"td",17),u.gc(),u.Vc(23,K,1,0,"tr",18),u.Vc(24,Y,1,0,"tr",19),u.ic(),u.Vc(25,Z,2,0,"div",20),u.Vc(26,et,1,2,"mat-paginator",21),u.ic(),u.jc(27,"div",22),u.jc(28,"div",23),u.jc(29,"div",24),u.Wc(30,"Add Subject"),u.ic(),u.jc(31,"div",25),u.rc("click",(function(){return e.showAddModal=!1})),u.Wc(32,"\xd7"),u.ic(),u.jc(33,"div",26),u.Vc(34,ct,1,0,"add-subject",27),u.ic(),u.jc(35,"div",28),u.jc(36,"button",29),u.rc("click",(function(){return e.showAddModal=!1})),u.Wc(37,"Close"),u.ic(),u.ic(),u.ic(),u.ic(),u.jc(38,"div",22),u.jc(39,"div",23),u.jc(40,"div",24),u.Wc(41,"Edit Subject"),u.ic(),u.jc(42,"div",25),u.rc("click",(function(){return e.showEditModal=!1})),u.Wc(43,"\xd7"),u.ic(),u.jc(44,"div",26),u.Vc(45,it,1,2,"edit-subject",30),u.ic(),u.jc(46,"div",28),u.jc(47,"button",29),u.rc("click",(function(){return e.showEditModal=!1})),u.Wc(48,"Close"),u.ic(),u.ic(),u.ic(),u.ic(),u.ec(49,"loading",31)),2&t&&(u.Pb(5),u.Bc("ngModel",e.subjectname),u.Pb(3),u.Bc("ngIf",e.permissions.add_subject),u.Pb(1),u.Bc("ngIf",e.permissions.delete_subject),u.Pb(1),u.Bc("dataSource",e.dataSource),u.Pb(13),u.Bc("matHeaderRowDef",e.displayedColumns),u.Pb(1),u.Bc("matRowDefColumns",e.displayedColumns),u.Pb(1),u.Bc("ngIf",0==e.dataSource.filteredData.length),u.Pb(1),u.Bc("ngIf",e.dataSource.filteredData.length>0&&e.dataSource.data.length>0),u.Pb(1),u.Bc("show",e.showAddModal)("options",u.Cc(15,at)),u.Pb(7),u.Bc("ngIf",e.showAddModal),u.Pb(4),u.Bc("show",e.showEditModal)("options",u.Cc(16,ot)),u.Pb(7),u.Bc("ngIf",e.showEditModal),u.Pb(4),u.Bc("show",e.loading))},directives:[m.a,j.a,v.b,v.k,v.n,w.k,a.j,r.a,a.c,a.e,a.b,a.g,a.i,x.a,C.b,P.a,M.a,a.d,k.a,a.a,r.b,w.j,w.i,a.f,a.h,d.a,y,A],styles:["#instructions[_ngcontent-%COMP%]{background-color:#feffa0;padding-right:10px}#instructions[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;padding:20px 10px;border-bottom:1px solid #888;font-weight:400;color:#333;font-size:15px;margin-left:45px}#instructions[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div.material-icons[_ngcontent-%COMP%]{position:absolute;left:-30px}#instructions[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{border-bottom:none}",'table[_ngcontent-%COMP%]{width:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none}#subjectcol[_ngcontent-%COMP%]{width:80%}.empty-table[_ngcontent-%COMP%]{min-height:400px;background:#fff;font-size:1.2em;display:flex;justify-content:center;align-items:center}.main-row[_ngcontent-%COMP%]{padding:15px 0;margin-bottom:15px;justify-content:space-between}.right-btns-wrapper[_ngcontent-%COMP%], .search-wrapper[_ngcontent-%COMP%]{text-align:right;display:flex;justify-content:space-between;align-items:center}.main-btns[_ngcontent-%COMP%]{width:calc(50% - 5px)}.single-subject[_ngcontent-%COMP%]{color:#666;font-size:.9em}.opened[_ngcontent-%COMP%]{margin-top:13px}#myUL[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style-type:none}.tree[_ngcontent-%COMP%]{margin:0;padding:0}.tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:15px}.tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#666;font-weight:400;font-size:.9em}.caret[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;position:relative}.caret[_ngcontent-%COMP%]:before{position:absolute;left:-15px;content:"\\271A";color:#000;display:inline-block;margin-right:6px}.caret-down[_ngcontent-%COMP%]:before{content:"\\268A"}.nested[_ngcontent-%COMP%]{display:none}.active[_ngcontent-%COMP%]{display:block}.edit-modal-body[_ngcontent-%COMP%]{background-color:#fff}@media screen and (max-width:1200px){#subjectcol[_ngcontent-%COMP%]{width:70%}}@media screen and (max-width:1000px){.main-row[_ngcontent-%COMP%]{margin-bottom:20px;padding-bottom:15px}.right-btns-wrapper[_ngcontent-%COMP%]{text-align:left}#searchinput[_ngcontent-%COMP%]{margin-bottom:10px}}@media screen and (max-width:800px){#subjectcol[_ngcontent-%COMP%]{width:60%}}@media screen and (max-width:600px){#subjectcol[_ngcontent-%COMP%]{width:auto}#srnocol[_ngcontent-%COMP%]{width:30px}#actioncol[_ngcontent-%COMP%]{width:120px}.action[_ngcontent-%COMP%]{margin-left:0;margin-right:0}}']}),nt)}}]);