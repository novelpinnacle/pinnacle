(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{lJi6:function(t,e,c){"use strict";c.r(e),c.d(e,"ManageCandidateModule",(function(){return Wt}));var n=c("mrSG"),i=c("0EQZ"),o=c("M9IT"),a=c("Dh3D"),d=c("+0xr"),s=c("SP9e"),r=c("byUP"),l=c("fXoL"),u=c("4KEQ"),m=c("QeEr"),g=c("Sz29"),h=c("FnMX"),p=c("aCk2"),f=c("G0I0"),b=c("3Pt+"),j=c("ofXK"),M=c("bTqV"),C=c("NFeN"),v=c("ZMsq"),P=c("kmnG"),I=c("d3UM"),w=c("FKr1");function x(t,e){if(1&t&&(l.jc(0,"mat-option",8),l.Wc(1),l.ic()),2&t){const t=e.$implicit;l.Bc("value",t.id),l.Pb(1),l.Xc(t.session)}}function S(t,e){if(1&t&&(l.jc(0,"mat-option",8),l.Wc(1),l.ic()),2&t){const t=e.$implicit;l.Bc("value",t.courseId),l.Pb(1),l.Xc(t.course)}}function _(t,e){if(1&t&&(l.jc(0,"mat-option",8),l.Wc(1),l.ic()),2&t){const t=e.$implicit;l.Bc("value",t.batchId),l.Pb(1),l.Xc(t.batch)}}let O=(()=>{class t{constructor(t,e){this.coreService=t,this.dialog=e,this.loading=!0,this.sessionYears=[]}ngOnInit(){this.getSessionYears(),console.log("student",this.student),console.log("studentIds",this.studentIds)}getCourses(t){this.courseId=null,this.batchId=null,this.coreService.getRequest(s.a.API_URL+"courses/by-session-id/"+t).subscribe(t=>{this.courses=t,this.loading=!1})}setBatches(){let t=this.courses.find(t=>t.courseId==this.courseId);this.batches=t?t.batches:[]}getSessionYears(){this.loading=!0,this.coreService.getRequest(s.a.API_URL+"utilities/session-years").subscribe(t=>{this.sessionYears=t,this.loading=!1})}promoteStudent(){const t={courseId:this.courseId,batchId:this.batchId,sessionId:this.sessionId,studentId:this.student.studentId};this.loading=!0,this.coreService.postRequest(s.a.API_URL+"candidate/promote",t).subscribe(t=>{this.dialog.showDialog({content:t.message}),this.loading=!1,t.success&&(this.modal.promoteModal=!1)})}promoteStudents(){const t={courseId:this.courseId,batchId:this.batchId,sessionId:this.sessionId,studentIds:this.studentIds};this.loading=!0,this.coreService.postRequest(s.a.API_URL+"candidate/promote-multiple",t).subscribe(t=>{this.dialog.showDialog({content:t.message}),this.loading=!1,t.success&&(this.modal.promoteModal=!1)})}}return t.\u0275fac=function(e){return new(e||t)(l.dc(u.a),l.dc(m.a))},t.\u0275cmp=l.Xb({type:t,selectors:[["promote-candidate"]],inputs:{student:"student",studentIds:"studentIds",modal:"modal"},decls:24,vars:7,consts:[["promoteForm","ngForm"],[1,"row"],[1,"col-sm-4"],["name","sessId","required","",3,"ngModel","selectionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","cId","required","",3,"ngModel","selectionChange","ngModelChange"],["name","bId","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"]],template:function(t,e){if(1&t&&(l.jc(0,"form",null,0),l.jc(2,"div",1),l.jc(3,"div",2),l.jc(4,"mat-form-field"),l.jc(5,"mat-label"),l.Wc(6,"Select Session"),l.ic(),l.jc(7,"mat-select",3),l.rc("selectionChange",(function(){return e.getCourses(e.sessionId)}))("ngModelChange",(function(t){return e.sessionId=t})),l.Vc(8,x,2,2,"mat-option",4),l.ic(),l.ic(),l.ic(),l.jc(9,"div",2),l.jc(10,"mat-form-field"),l.jc(11,"mat-label"),l.Wc(12,"Select Course"),l.ic(),l.jc(13,"mat-select",5),l.rc("selectionChange",(function(){return e.setBatches()}))("ngModelChange",(function(t){return e.courseId=t})),l.Vc(14,S,2,2,"mat-option",4),l.ic(),l.ic(),l.ic(),l.jc(15,"div",2),l.jc(16,"mat-form-field"),l.jc(17,"mat-label"),l.Wc(18,"Select Batch"),l.ic(),l.jc(19,"mat-select",6),l.rc("ngModelChange",(function(t){return e.batchId=t})),l.Vc(20,_,2,2,"mat-option",4),l.ic(),l.ic(),l.ic(),l.jc(21,"div",2),l.jc(22,"button",7),l.rc("click",(function(){return e.student?e.promoteStudent():e.promoteStudents()})),l.Wc(23,"Promote"),l.ic(),l.ic(),l.ic(),l.ic()),2&t){const t=l.Ic(1);l.Pb(7),l.Bc("ngModel",e.sessionId),l.Pb(1),l.Bc("ngForOf",e.sessionYears),l.Pb(5),l.Bc("ngModel",e.courseId),l.Pb(1),l.Bc("ngForOf",e.courses),l.Pb(5),l.Bc("ngModel",e.batchId),l.Pb(1),l.Bc("ngForOf",e.batches),l.Pb(2),l.Bc("disabled",t.invalid)}},directives:[b.v,b.l,b.m,P.b,P.e,I.a,b.r,b.k,b.n,j.j,M.b,w.h],styles:["[class*=col-][_ngcontent-%COMP%]{padding:0 7.5px}"]}),t})();var B=c("V/o5"),y=c("tyNb"),W=c("bSwM"),k=c("qFsG"),D=c("QibW"),R=c("z17N");const T=["imageSRC"],F=["imageTarget"],$=["signatureSRC"],q=["signatureTarget"];function V(t,e){if(1&t&&(l.jc(0,"mat-option",11),l.Wc(1),l.ic()),2&t){const t=e.$implicit;l.Bc("value",t.courseId),l.Pb(1),l.Yc("",t.course," ")}}function A(t,e){if(1&t&&(l.jc(0,"mat-option",11),l.Wc(1),l.ic()),2&t){const t=e.$implicit;l.Bc("value",t.batchId),l.Pb(1),l.Yc("",t.batch," ")}}function E(t,e){if(1&t&&(l.jc(0,"mat-option",11),l.Wc(1),l.ic()),2&t){const t=e.$implicit;l.Bc("value",t.id),l.Pb(1),l.Xc(t.session)}}const U=function(){return{width:"700px"}};let L=(()=>{class t{constructor(t,e){this.coreService=t,this.dialog=e,this.modal={promoteModal:!1},this.courses=[],this.batches=[],this.sessionYears=[],this.loading=!1,this.isInitiallySettingBatches=!0}ngOnInit(){this.getCourses(),this.getSessionYears(),this.student.dob=new Date(this.student.dob),this.student.regDate=new Date(this.student.regDate),setTimeout(()=>{this.showSelectedImage(this.imageSRC.nativeElement,this.imageTarget.nativeElement),this.showSelectedImage(this.signatureSRC.nativeElement,this.signatureTarget.nativeElement)},10)}getSessionYears(){this.loading=!0,this.coreService.getRequest(s.a.API_URL+"utilities/session-years").subscribe(t=>{this.sessionYears=t,this.loading=!1})}updateData(t){let e=new FormData;e.append("image",this.selectedImage),e.append("signature",this.selectedSignature),Object.keys(t.value).forEach((c,n)=>{"dob"!=c&&"regDate"!=c||(t.value[c]=new Date(t.value[c]+" UTC").toISOString().slice(0,19).replace("T"," "),this.student[c]=t.value[c].split(" ")[0]),e.append(c,t.value[c])}),this.loading=!0,this.coreService.uploadRequest(s.a.API_URL+"candidate/update",e).subscribe(t=>{this.loading=!1,this.modals.showEditModal=!1,this.dialog.showDialog({content:t.message})})}getCourses(){this.coreService.getRequest(s.a.API_URL+"courses").subscribe(t=>{this.courses=t,this.setBatches()})}setBatches(){let t=this.courses.find(t=>t.courseId==this.student.courseId);this.batches=t?t.batches:[],this.isInitiallySettingBatches||(this.student.batchId=null),this.isInitiallySettingBatches=!1}showSelectedImage(t,e){var c=new FileReader;c.onload=function(t){e.src=this.result},t.addEventListener("change",(function(){c.readAsDataURL(t.files[0])}))}setSelectedImage(t){this.selectedImage=t.target.files[0]}setSelectedSignature(t){this.selectedSignature=t.target.files[0]}}return t.\u0275fac=function(e){return new(e||t)(l.dc(u.a),l.dc(m.a))},t.\u0275cmp=l.Xb({type:t,selectors:[["edit-candidate"]],viewQuery:function(t,e){var c;1&t&&(l.cd(T,!0),l.cd(F,!0),l.cd($,!0),l.cd(q,!0)),2&t&&(l.Hc(c=l.sc())&&(e.imageSRC=c.first),l.Hc(c=l.sc())&&(e.imageTarget=c.first),l.Hc(c=l.sc())&&(e.signatureSRC=c.first),l.Hc(c=l.sc())&&(e.signatureTarget=c.first))},inputs:{student:"student",modals:"modals"},decls:143,vars:38,consts:[[3,"ngSubmit"],["candidateForm","ngForm"],[1,"row","justify-content-between"],[1,"add-form-cols-66-percent"],[1,"add-form-cols-50"],["type","hidden","name","studentId",3,"ngModel","ngModelChange"],[2,"margin-top","10px"],["matInput","","name","name","required","",3,"ngModel","ngModelChange"],[2,"color","#666"],["id","gender-wrapper"],["name","gender","required","",3,"ngModel","ngModelChange"],[3,"value"],["matInput","","name","email",3,"ngModel","ngModelChange"],["matInput","","name","rollno",3,"ngModel","ngModelChange"],["matInput","","name","mobile","pattern","^[0-9]{10}$","minlength","10","maxlength","10",3,"ngModel","ngModelChange"],["name","dob","matInput","","placeholder","D.O.B","required","",3,"ngModel","owlDateTime","owlDateTimeTrigger","ngModelChange"],["dob",""],["matSuffix","",1,"material-icons"],[3,"pickerType"],["dt1",""],["name","regDate","matInput","","placeholder","Date of Registration",3,"ngModel","owlDateTime","owlDateTimeTrigger","ngModelChange"],["dor",""],["dt2",""],[1,"add-form-cols","upl"],[1,"row","upload"],[1,"upload-box"],["src","assets/images/upload-man.png"],["imageTarget",""],["type","file","name","image",3,"change"],["imageSRC",""],["type","button","color","primary","mat-raised-button","",3,"click"],["src","assets/images/signature.png"],["signatureTarget",""],["type","file","name","signature",3,"change"],["signatureSRC",""],[1,"add-form-cols"],["name","courseId","required","",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["name","batchId","required","",3,"ngModel","ngModelChange"],["disabled","","name","session",3,"ngModel","ngModelChange"],["matInput","","name","biometricId",3,"ngModel","ngModelChange"],["matInput","","name","fname","required","",3,"ngModel","ngModelChange"],["matInput","","name","fmobile","pattern","^[0-9]{10}$","minlength","10","maxlength","10","required","",3,"ngModel","ngModelChange"],["matInput","","name","address","required","",3,"ngModel","ngModelChange"],["matInput","","name","state","required","",3,"ngModel","ngModelChange"],["matInput","","name","city","required","",3,"ngModel","ngModelChange"],[1,"row",2,"justify-content","flex-end"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],["modal","",1,"modal",3,"show","options"],[1,"dialog"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],[3,"student","modal"],[3,"show"]],template:function(t,e){if(1&t){const t=l.kc();l.jc(0,"form",0,1),l.rc("ngSubmit",(function(){l.Mc(t);const c=l.Ic(1);return e.updateData(c)})),l.jc(2,"div",2),l.jc(3,"div",3),l.jc(4,"div",2),l.jc(5,"div",4),l.jc(6,"input",5),l.rc("ngModelChange",(function(t){return e.student.studentId=t})),l.ic(),l.jc(7,"mat-form-field",6),l.jc(8,"mat-label"),l.Wc(9,"Name"),l.ic(),l.jc(10,"input",7),l.rc("ngModelChange",(function(t){return e.student.name=t})),l.ic(),l.ic(),l.ic(),l.jc(11,"div",4),l.jc(12,"label",8),l.Wc(13,"Gender"),l.ic(),l.jc(14,"div",9),l.jc(15,"mat-radio-group",10),l.rc("ngModelChange",(function(t){return e.student.gender=t})),l.jc(16,"mat-radio-button",11),l.Wc(17,"Male"),l.ic(),l.jc(18,"mat-radio-button",11),l.Wc(19,"Female"),l.ic(),l.ic(),l.ic(),l.ic(),l.jc(20,"div",4),l.jc(21,"mat-form-field"),l.jc(22,"mat-label"),l.Wc(23,"Email"),l.ic(),l.jc(24,"input",12),l.rc("ngModelChange",(function(t){return e.student.email=t})),l.ic(),l.ic(),l.ic(),l.jc(25,"div",4),l.jc(26,"mat-form-field"),l.jc(27,"mat-label"),l.Wc(28,"Roll Number"),l.ic(),l.jc(29,"input",13),l.rc("ngModelChange",(function(t){return e.student.rollno=t})),l.ic(),l.ic(),l.ic(),l.jc(30,"div",4),l.jc(31,"mat-form-field"),l.jc(32,"mat-label"),l.Wc(33,"Mobile Number"),l.ic(),l.jc(34,"input",14),l.rc("ngModelChange",(function(t){return e.student.phone=t})),l.ic(),l.ic(),l.ic(),l.jc(35,"div",4),l.jc(36,"mat-form-field"),l.jc(37,"input",15,16),l.rc("ngModelChange",(function(t){return e.student.dob=t})),l.ic(),l.jc(39,"span",17),l.Wc(40,"calendar_today"),l.ic(),l.ec(41,"owl-date-time",18,19),l.ic(),l.ic(),l.jc(43,"div",4),l.jc(44,"mat-form-field"),l.jc(45,"input",20,21),l.rc("ngModelChange",(function(t){return e.student.regDate=t})),l.ic(),l.jc(47,"span",17),l.Wc(48,"calendar_today"),l.ic(),l.ec(49,"owl-date-time",18,22),l.ic(),l.ic(),l.ic(),l.ic(),l.jc(51,"div",23),l.jc(52,"div",24),l.jc(53,"div",25),l.ec(54,"img",26,27),l.jc(56,"input",28,29),l.rc("change",(function(t){return e.setSelectedImage(t)})),l.ic(),l.ec(58,"br"),l.jc(59,"button",30),l.rc("click",(function(){return l.Mc(t),l.Ic(57).click()})),l.Wc(60,"Upload Image"),l.ic(),l.jc(61,"p"),l.Wc(62,"(Max resolution 150 \xd7 210 px) Format(.png, .jpeg, .jpg)"),l.ic(),l.ic(),l.jc(63,"div",25),l.ec(64,"img",31,32),l.jc(66,"input",33,34),l.rc("change",(function(t){return e.setSelectedSignature(t)})),l.ic(),l.ec(68,"br"),l.jc(69,"button",30),l.rc("click",(function(){return l.Mc(t),l.Ic(67).click()})),l.Wc(70,"Upload Image"),l.ic(),l.jc(71,"p"),l.Wc(72,"(Max resolution 150 \xd7 210 px) Format(.png, .jpeg, .jpg)"),l.ic(),l.ic(),l.ic(),l.ic(),l.ic(),l.jc(73,"div",2),l.jc(74,"div",35),l.jc(75,"mat-form-field"),l.jc(76,"mat-label"),l.Wc(77,"Course"),l.ic(),l.jc(78,"mat-select",36),l.rc("ngModelChange",(function(t){return e.student.courseId=t}))("selectionChange",(function(){return e.setBatches()})),l.jc(79,"mat-option",11),l.Wc(80,"Select Course"),l.ic(),l.Vc(81,V,2,2,"mat-option",37),l.ic(),l.ic(),l.ic(),l.jc(82,"div",35),l.jc(83,"mat-form-field"),l.jc(84,"mat-label"),l.Wc(85,"Batch"),l.ic(),l.jc(86,"mat-select",38),l.rc("ngModelChange",(function(t){return e.student.batchId=t})),l.jc(87,"mat-option",11),l.Wc(88,"Select Batch"),l.ic(),l.Vc(89,A,2,2,"mat-option",37),l.ic(),l.ic(),l.ic(),l.jc(90,"div",35),l.jc(91,"mat-form-field"),l.jc(92,"mat-label"),l.Wc(93,"Session"),l.ic(),l.jc(94,"mat-select",39),l.rc("ngModelChange",(function(t){return e.student.sessionId=t})),l.jc(95,"mat-option",11),l.Wc(96,"Select Session"),l.ic(),l.Vc(97,E,2,2,"mat-option",37),l.ic(),l.ic(),l.ic(),l.jc(98,"div",35),l.jc(99,"mat-form-field"),l.jc(100,"mat-label"),l.Wc(101,"Biometric Id"),l.ic(),l.jc(102,"input",40),l.rc("ngModelChange",(function(t){return e.student.bioid=t})),l.ic(),l.ic(),l.ic(),l.jc(103,"div",35),l.jc(104,"mat-form-field"),l.jc(105,"mat-label"),l.Wc(106,"Father Name"),l.ic(),l.jc(107,"input",41),l.rc("ngModelChange",(function(t){return e.student.fname=t})),l.ic(),l.ic(),l.ic(),l.jc(108,"div",35),l.jc(109,"mat-form-field"),l.jc(110,"mat-label"),l.Wc(111,"Father Mobile"),l.ic(),l.jc(112,"input",42),l.rc("ngModelChange",(function(t){return e.student.fmobile=t})),l.ic(),l.ic(),l.ic(),l.jc(113,"div",35),l.jc(114,"mat-form-field"),l.jc(115,"mat-label"),l.Wc(116,"Address"),l.ic(),l.jc(117,"input",43),l.rc("ngModelChange",(function(t){return e.student.address=t})),l.ic(),l.ic(),l.ic(),l.jc(118,"div",35),l.jc(119,"mat-form-field"),l.jc(120,"mat-label"),l.Wc(121,"State"),l.ic(),l.jc(122,"input",44),l.rc("ngModelChange",(function(t){return e.student.state=t})),l.ic(),l.ic(),l.ic(),l.jc(123,"div",35),l.jc(124,"mat-form-field"),l.jc(125,"mat-label"),l.Wc(126,"City"),l.ic(),l.jc(127,"input",45),l.rc("ngModelChange",(function(t){return e.student.city=t})),l.ic(),l.ic(),l.ic(),l.ic(),l.jc(128,"div",46),l.jc(129,"button",47),l.rc("click",(function(){return e.modal.promoteModal=!0})),l.Wc(130,"Promote"),l.ic(),l.Wc(131,"\xa0\xa0 "),l.jc(132,"button",48),l.Wc(133,"Save"),l.ic(),l.ic(),l.ic(),l.jc(134,"div",49),l.jc(135,"div",50),l.jc(136,"div",51),l.Wc(137,"Promote Student"),l.ic(),l.jc(138,"div",52),l.rc("click",(function(){return e.modal.promoteModal=!1})),l.Wc(139,"\xd7"),l.ic(),l.jc(140,"div",53),l.ec(141,"promote-candidate",54),l.ic(),l.ic(),l.ic(),l.ec(142,"loading",55)}if(2&t){const t=l.Ic(1),c=l.Ic(42),n=l.Ic(50);l.Pb(6),l.Bc("ngModel",e.student.studentId),l.Pb(4),l.Bc("ngModel",e.student.name),l.Pb(5),l.Bc("ngModel",e.student.gender),l.Pb(1),l.Bc("value","Male"),l.Pb(2),l.Bc("value","Female"),l.Pb(6),l.Bc("ngModel",e.student.email),l.Pb(5),l.Bc("ngModel",e.student.rollno),l.Pb(5),l.Bc("ngModel",e.student.phone),l.Pb(3),l.Bc("ngModel",e.student.dob)("owlDateTime",c)("owlDateTimeTrigger",c),l.Pb(4),l.Bc("pickerType","calendar"),l.Pb(4),l.Bc("ngModel",e.student.regDate)("owlDateTime",n)("owlDateTimeTrigger",n),l.Pb(4),l.Bc("pickerType","calendar"),l.Pb(29),l.Bc("ngModel",e.student.courseId),l.Pb(1),l.Bc("value",null),l.Pb(2),l.Bc("ngForOf",e.courses),l.Pb(5),l.Bc("ngModel",e.student.batchId),l.Pb(1),l.Bc("value",null),l.Pb(2),l.Bc("ngForOf",e.batches),l.Pb(5),l.Bc("ngModel",e.student.sessionId),l.Pb(1),l.Bc("value",0),l.Pb(2),l.Bc("ngForOf",e.sessionYears),l.Pb(5),l.Bc("ngModel",e.student.bioid),l.Pb(5),l.Bc("ngModel",e.student.fname),l.Pb(5),l.Bc("ngModel",e.student.fmobile),l.Pb(5),l.Bc("ngModel",e.student.address),l.Pb(5),l.Bc("ngModel",e.student.state),l.Pb(5),l.Bc("ngModel",e.student.city),l.Pb(5),l.Bc("disabled",t.invalid),l.Pb(2),l.Bc("show",e.modal.promoteModal)("options",l.Cc(37,U)),l.Pb(7),l.Bc("student",e.student)("modal",e.modal),l.Pb(1),l.Bc("show",e.loading)}},directives:[b.v,b.l,b.m,b.b,b.k,b.n,P.b,P.e,k.a,b.r,D.b,D.a,b.q,b.g,b.f,R.b,R.d,P.f,R.a,M.b,I.a,w.h,j.j,v.a,O,B.a],styles:["#instructions[_ngcontent-%COMP%]{background-color:#feffa0;padding-right:10px}#instructions[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;padding:20px 10px;border-bottom:1px solid #888;font-weight:400;color:#333;font-size:15px;margin-left:45px}#instructions[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div.material-icons[_ngcontent-%COMP%]{position:absolute;left:-30px}#instructions[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{border-bottom:none}",".content-title[_ngcontent-%COMP%]{padding:10px;font-weight:500;background:#fff;border-bottom:1px solid #ddd}.content-box[_ngcontent-%COMP%]{padding:15px;background-color:#fff}.add-form-row[_ngcontent-%COMP%]{justify-content:space-between}.add-form-cols[_ngcontent-%COMP%]{width:calc(33.33% - 10px)}.add-form-cols-66-percent[_ngcontent-%COMP%]{width:calc(66.66% - 10px)}.add-form-cols-50[_ngcontent-%COMP%]{width:calc(50% - 10px)}fieldset[_ngcontent-%COMP%]{padding:0 10px 10px;margin-bottom:0;border:1px solid transparent}legend[_ngcontent-%COMP%]{padding:0;font-weight:500;color:#0063c6}#gender-wrapper[_ngcontent-%COMP%]{margin-top:10px}#gender-wrapper[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.row.upload[_ngcontent-%COMP%]{height:calc(100% - 17px);justify-content:space-between;align-items:center}.upload-box[_ngcontent-%COMP%]{padding:7px;border:1px solid #888;width:calc(50% - 10px);height:100%}.upload-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:90px;border:1px solid #888}.upload-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px;padding:1px 10px;font-size:12px;border-radius:0;line-height:25px}.upload-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:red;margin-top:4px;font-size:10px;line-height:14px}[type=file][_ngcontent-%COMP%]{position:absolute;left:-1600px}@media screen and (max-width:920px){.add-form-cols[_ngcontent-%COMP%]{width:calc(50% - 10px)}.add-form-cols-66-percent[_ngcontent-%COMP%], .add-form-cols.upl[_ngcontent-%COMP%]{width:100%}.add-form-cols-50[_ngcontent-%COMP%]{width:calc(50% - 10px)}}","form[_ngcontent-%COMP%]{box-shadow:0 0 4px rgba(0,0,0,.25);padding:10px}"]}),t})();function Y(t,e){if(1&t&&(l.jc(0,"option",46),l.Wc(1),l.ic()),2&t){const t=e.$implicit;l.Bc("value",t.batchId),l.Pb(1),l.Xc(t.course+" - "+t.batch)}}function N(t,e){1&t&&(l.jc(0,"button",47),l.ec(1,"i",48),l.Wc(2," Add"),l.ic())}function X(t,e){1&t&&(l.jc(0,"button",49),l.ec(1,"i",48),l.Wc(2," Add"),l.ic())}function H(t,e){if(1&t){const t=l.kc();l.jc(0,"th",50),l.jc(1,"mat-checkbox",51),l.rc("change",(function(e){l.Mc(t);const c=l.vc();return e?c.masterToggle():null})),l.ic(),l.ic()}if(2&t){const t=l.vc();l.Pb(1),l.Bc("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())}}function z(t,e){if(1&t){const t=l.kc();l.jc(0,"td",52),l.jc(1,"mat-checkbox",53),l.rc("click",(function(e){return l.Mc(t),e.stopPropagation()}))("change",(function(c){l.Mc(t);const n=e.$implicit,i=l.vc();return c?i.selection.toggle(n):null})),l.ic(),l.ic()}if(2&t){const t=e.$implicit,c=l.vc();l.Pb(1),l.Bc("checked",c.selection.isSelected(t))}}function G(t,e){1&t&&(l.jc(0,"th",54),l.Wc(1," Name "),l.ic())}function Q(t,e){if(1&t&&(l.jc(0,"td",52),l.Wc(1),l.ic()),2&t){const t=e.$implicit;l.Pb(1),l.Yc(" ",t.name," ")}}function J(t,e){1&t&&(l.jc(0,"th",54),l.Wc(1," Roll No. "),l.ic())}function K(t,e){if(1&t&&(l.jc(0,"td",52),l.Wc(1),l.ic()),2&t){const t=e.$implicit;l.Pb(1),l.Yc(" ",t.rollno," ")}}function Z(t,e){1&t&&(l.jc(0,"th",54),l.Wc(1," Course Batch "),l.ic())}function tt(t,e){if(1&t&&(l.jc(0,"td",52),l.Wc(1),l.ic()),2&t){const t=e.$implicit;l.Pb(1),l.Yc(" ",t.course+" "+t.batch," ")}}function et(t,e){1&t&&(l.jc(0,"th",54),l.Wc(1," Phone "),l.ic())}function ct(t,e){if(1&t&&(l.jc(0,"td",52),l.Wc(1),l.ic()),2&t){const t=e.$implicit;l.Pb(1),l.Yc(" ",t.phone," ")}}function nt(t,e){1&t&&(l.jc(0,"th",50),l.Wc(1," Action "),l.ic())}function it(t,e){if(1&t){const t=l.kc();l.jc(0,"button",56),l.rc("click",(function(){l.Mc(t);const e=l.vc().$implicit;return l.vc().openStudentAccount(e)})),l.jc(1,"mat-icon"),l.Wc(2,"account_circle"),l.ic(),l.ic()}}function ot(t,e){if(1&t){const t=l.kc();l.jc(0,"button",56),l.rc("click",(function(){l.Mc(t);const e=l.vc().$implicit;return l.vc().editStudent(e)})),l.jc(1,"mat-icon"),l.Wc(2,"create"),l.ic(),l.ic()}}function at(t,e){if(1&t){const t=l.kc();l.jc(0,"button",59),l.rc("click",(function(){l.Mc(t);const e=l.vc().$implicit;return l.vc().showDelete(e)})),l.jc(1,"mat-icon"),l.Wc(2,"delete"),l.ic(),l.ic()}}function dt(t,e){if(1&t){const t=l.kc();l.jc(0,"td",55),l.jc(1,"button",56),l.rc("click",(function(){l.Mc(t);const c=e.$implicit;return l.vc().showFullStudent(c)})),l.jc(2,"mat-icon"),l.Wc(3,"open_in_full"),l.ic(),l.ic(),l.Wc(4,"\xa0 "),l.Vc(5,it,3,0,"button",57),l.Wc(6,"\xa0 "),l.Vc(7,ot,3,0,"button",57),l.Wc(8," \xa0"),l.Vc(9,at,3,0,"button",58),l.ic()}if(2&t){const t=l.vc();l.Pb(5),l.Bc("ngIf",t.permissions.open_student_account),l.Pb(2),l.Bc("ngIf",t.permissions.edit_student),l.Pb(2),l.Bc("ngIf",t.permissions.delete_student)}}function st(t,e){1&t&&(l.jc(0,"th",54),l.Wc(1," Status "),l.ic())}function rt(t,e){if(1&t){const t=l.kc();l.jc(0,"button",56),l.rc("click",(function(){l.Mc(t);const e=l.vc().$implicit;return l.vc().changeStatus(e,1)})),l.jc(1,"mat-icon"),l.Wc(2,"done"),l.ic(),l.ic()}}function lt(t,e){if(1&t){const t=l.kc();l.jc(0,"button",59),l.rc("click",(function(){l.Mc(t);const e=l.vc().$implicit;return l.vc().changeStatus(e,2)})),l.jc(1,"mat-icon"),l.Wc(2,"close"),l.ic(),l.ic()}}function ut(t,e){if(1&t&&(l.jc(0,"td",52),l.jc(1,"div",60),l.jc(2,"mat-icon"),l.Wc(3),l.ic(),l.Vc(4,rt,3,0,"button",57),l.Vc(5,lt,3,0,"button",58),l.ic(),l.ic()),2&t){const t=e.$implicit;l.Pb(3),l.Xc(1==t.active?"done":2==t.active?"close":"person_add"),l.Pb(1),l.Bc("ngIf",1!=t.active),l.Pb(1),l.Bc("ngIf",2!=t.active)}}function mt(t,e){1&t&&l.ec(0,"tr",61)}function gt(t,e){1&t&&l.ec(0,"tr",62)}function ht(t,e){1&t&&(l.jc(0,"div",63),l.Wc(1,"Search Students by Batch, Name, RollNo, Phone and City etc."),l.ic())}function pt(t,e){if(1&t&&l.ec(0,"edit-candidate",64),2&t){const t=l.vc();l.Bc("modals",t.modals)("student",t.studentToEdit)}}const ft=function(){return[9]},bt=function(){return{width:"100%"}},jt=function(){return{width:"700px"}};let Mt=(()=>{class t{constructor(t,e,c,n){this.coreService=t,this.dialog=e,this.dateTimeService=c,this.usersServcie=n,this.tableData=[],this.displayedColumns=["name","rollno","course_batch","phone","action","status"],this.dataSource=new d.k(this.tableData),this.selection=new i.c(!0,[]),this.studentIdsToPromote=[],this.modals={showEditModal:!1,promoteModal:!1},this.batches=[],this.permissions=r.a}ngOnInit(){return Object(n.a)(this,void 0,void 0,(function*(){this.getAllBatches(),this.permissions=yield this.usersServcie.getUserPermissions(),this.permissions.delete_student&&this.displayedColumns.unshift("id"),this.permissions.see_student_mobile||this.displayedColumns.splice(this.displayedColumns.indexOf("phone"),1),this.permissions.approve_disapprove_students||this.displayedColumns.splice(this.displayedColumns.indexOf("status"))}))}getAllBatches(){this.coreService.getRequest(s.a.API_URL+"courses/batches").subscribe(t=>{this.batches=t})}openStudentAccount(t){this.coreService.getRequest(s.a.API_URL+"get-token-for-user-by-admin/"+t.studentId).subscribe(e=>{localStorage.setItem("admin-token",localStorage.getItem("token")),localStorage.setItem("id",t.studentId),localStorage.setItem("token",e.token),this.dialog.showDialog({title:t.name+"'s Account",content:`<iframe src="https://www.pinnacloeducare.com/test/candidate?token=${e.token}" \n        style="width:100%;height:calc(80vh - 30px);border:none"></iframe>`,width:"100%",closeCallBack:()=>{this.setUserIdAgain()}})})}setUserIdAgain(){localStorage.setItem("token",localStorage.getItem("admin-token"))}filterStudents(t,e){this.tableData=[],e=e?e.toLowerCase().trim():"empty",this.loading=!0,this.coreService.getRequest(s.a.API_URL+`candidate/filtered/${+t}/${e}`).subscribe(t=>{this.tableData=t,this.setDataSource(),this.loading=!1})}showFullStudent(t){let e=`<table class='pinnacle-table without-border' style='box-shadow:0 0 4px rgba(0,0,0,.25)'>\n    <tr><td colspan=2 style='text-align:center'><img style='max-width:120px' src="${t.image?s.a.WEBSITE_URL+t.image:"assets/images/"+t.gender+".png"}"></td></tr>\n    <tr><th>Name</th><td>${t.name}</td></tr>\n    <tr><th>Email</th><td>${t.email}</td></tr>\n    <tr><th>D.O.B</th><td>${this.dateTimeService.getFormattedDate(t.dob)}</td></tr>\n    <tr><th>Roll No.</th><td>${t.rollno}</td></tr>`;this.permissions.see_student_mobile&&(e+=`<tr><th>Phone</th><td>${t.phone}</td></tr>`),e+=`<tr><th>Gender</th><td>${t.gender}</td></tr>\n    <tr><th>Course</th><td>${t.course}</td></tr>\n    <tr><th>Batch</th><td>${t.batch}</td></tr>\n    <tr><th>Session</th><td>${t.session}</td></tr>\n    <tr><th>Biometric Id</th><td>${t.bioid}</td></tr>\n    <tr><th>Father Name</th><td>${t.fname}</td></tr>\n    <tr><th>Father Mobile</th><td>${t.fmobile}</td></tr>\n    <tr><th>City</th><td>${t.city}</td></tr>\n    <tr><th>State</th><td>${t.state}</td></tr>\n    <tr><th>Address</th><td>${t.address}</td></tr>\n    </table>`,this.dialog.showDialog({content:e,title:`Full detail of ${t.name} `})}editStudent(t){this.modals.showEditModal=!0,this.studentToEdit=t}showDelete(t){this.dialog.showDialog({content:`Are you sure to delete "${t.name}"`,title:"Confirm Deletion",callBack:()=>{this.deleteStudent(t.studentId)}})}deleteStudent(t){this.coreService.deleteRequest(s.a.API_URL+"candidate/"+t).subscribe(e=>{let c=this.tableData.find(e=>e.studentId==t);this.tableData.splice(this.tableData.indexOf(c),1),this.setDataSource()})}deleteMultipleStudents(){this.dialog.showDialog({content:"Are you sure to delete these students?",title:"Confirm Deletion",callBack:()=>{let t=[];this.selection.selected.forEach(e=>t.push(e.studentId)),this.coreService.deleteRequest(s.a.API_URL+"candidate/multiple/"+t).subscribe(e=>{e.success&&(this.tableData=this.tableData.filter(e=>!t.includes(e.studentId)),this.setDataSource(),this.selection.clear())})}})}isAllSelected(){return this.selection.selected.length==this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(t=>{this.selection.select(t)})}setDataSource(){this.dataSource=new d.k(this.tableData),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}changeStatus(t,e){this.loading=!0,this.coreService.putRequest(s.a.API_URL+"candidate/status",{studentId:t.studentId,statusId:e}).subscribe(c=>{this.loading=!1,c.success&&(t.active=e)})}promoteMultipleStudents(){this.selection.selected.forEach(t=>this.studentIdsToPromote.push(t.studentId)),this.modals.promoteModal=!0}}return t.\u0275fac=function(e){return new(e||t)(l.dc(u.a),l.dc(m.a),l.dc(g.a),l.dc(h.a))},t.\u0275cmp=l.Xb({type:t,selectors:[["candidate-home"]],viewQuery:function(t,e){var c;1&t&&(l.Sc(a.a,!0),l.Sc(o.a,!0)),2&t&&(l.Hc(c=l.sc())&&(e.sort=c.first),l.Hc(c=l.sc())&&(e.paginator=c.first))},decls:84,vars:19,consts:[["id","page-content"],[1,"row","main-row"],[1,"filter-box"],["id","filtertype",1,"select"],["batchId",""],["value",""],[3,"value",4,"ngFor","ngForOf"],["id","filtername","placeholder","Search by name,rollno,phone,city etc",1,"input-field",3,"keydown"],["name",""],["id","search","mat-raised-button","","color","primary",3,"click"],["id","add","mat-raised-button","","routerLink","/users/manage-students/add-candidate",4,"ngIf"],["id","export","mat-raised-button","","color","warn"],["id","more","mat-raised-button",""],[1,"btns-box"],["mat-raised-button","","routerLink","/users/manage-students/add-candidate",4,"ngIf"],["mat-raised-button","","color","warn"],["id","menu"],["mat-raised-button",""],[1,"submenu"],[1,"sub-item","row","align-items-center",3,"click"],[1,"material-icons"],["mat-table","","matSort","",1,"shadow-sm",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","rollno"],["matColumnDef","course_batch"],["matColumnDef","phone"],["matColumnDef","action"],["mat-cell","","id","actioncol",4,"matCellDef"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-data perfect-centered",4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions"],["modal","",1,"modal",3,"show","options"],[1,"dialog"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body","edit-modal-body"],[3,"modals","student",4,"ngIf"],[1,"modal-body"],[3,"studentIds","modal"],[3,"show"],[3,"value"],["id","add","mat-raised-button","","routerLink","/users/manage-students/add-candidate"],[1,"fa","fa-plus"],["mat-raised-button","","routerLink","/users/manage-students/add-candidate"],["mat-header-cell",""],[3,"checked","indeterminate","change"],["mat-cell",""],[3,"checked","click","change"],["mat-header-cell","","mat-sort-header",""],["mat-cell","","id","actioncol"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","primary",3,"click",4,"ngIf"],["mat-mini-fab","","color","warn",3,"click",4,"ngIf"],["mat-mini-fab","","color","warn",3,"click"],[1,"status-div"],["mat-header-row",""],["mat-row",""],[1,"no-data","perfect-centered"],[3,"modals","student"]],template:function(t,e){if(1&t){const t=l.kc();l.ec(0,"admin-header"),l.ec(1,"admin-sidebar"),l.jc(2,"div",0),l.jc(3,"div",1),l.jc(4,"div",2),l.jc(5,"select",3,4),l.jc(7,"option",5),l.Wc(8,"Select Batch"),l.ic(),l.Vc(9,Y,2,2,"option",6),l.ic(),l.jc(10,"input",7,8),l.rc("keydown",(function(c){l.Mc(t);const n=l.Ic(6),i=l.Ic(11);return 13==c.keyCode?e.filterStudents(n.value,i.value):null})),l.ic(),l.jc(12,"button",9),l.rc("click",(function(){l.Mc(t);const c=l.Ic(6),n=l.Ic(11);return e.filterStudents(c.value,n.value)})),l.Wc(13,"Search"),l.ic(),l.Vc(14,N,3,0,"button",10),l.jc(15,"button",11),l.jc(16,"mat-icon"),l.Wc(17,"import_export"),l.ic(),l.Wc(18," Export "),l.ic(),l.jc(19,"button",12),l.jc(20,"mat-icon"),l.Wc(21,"more_vert"),l.ic(),l.ic(),l.ic(),l.jc(22,"div",13),l.Vc(23,X,3,0,"button",14),l.jc(24,"button",15),l.jc(25,"mat-icon"),l.Wc(26,"import_export"),l.ic(),l.Wc(27,"Export "),l.ic(),l.jc(28,"div",16),l.jc(29,"button",17),l.jc(30,"mat-icon"),l.Wc(31,"more_vert"),l.ic(),l.ic(),l.jc(32,"div",18),l.jc(33,"div",19),l.rc("click",(function(){return e.deleteMultipleStudents()})),l.jc(34,"span",20),l.Wc(35,"delete"),l.ic(),l.Wc(36," Delete"),l.ic(),l.jc(37,"div",19),l.rc("click",(function(){return e.promoteMultipleStudents()})),l.jc(38,"span",20),l.Wc(39,"arrow_forward_ios"),l.ic(),l.Wc(40," Promote"),l.ic(),l.ic(),l.ic(),l.ic(),l.ic(),l.jc(41,"table",21),l.hc(42,22),l.Vc(43,H,2,2,"th",23),l.Vc(44,z,2,1,"td",24),l.gc(),l.hc(45,25),l.Vc(46,G,2,0,"th",26),l.Vc(47,Q,2,1,"td",24),l.gc(),l.hc(48,27),l.Vc(49,J,2,0,"th",26),l.Vc(50,K,2,1,"td",24),l.gc(),l.hc(51,28),l.Vc(52,Z,2,0,"th",26),l.Vc(53,tt,2,1,"td",24),l.gc(),l.hc(54,29),l.Vc(55,et,2,0,"th",26),l.Vc(56,ct,2,1,"td",24),l.gc(),l.hc(57,30),l.Vc(58,nt,2,0,"th",23),l.Vc(59,dt,10,3,"td",31),l.gc(),l.hc(60,32),l.Vc(61,st,2,0,"th",26),l.Vc(62,ut,6,3,"td",24),l.gc(),l.Vc(63,mt,1,0,"tr",33),l.Vc(64,gt,1,0,"tr",34),l.ic(),l.Vc(65,ht,2,0,"div",35),l.ec(66,"mat-paginator",36),l.ic(),l.jc(67,"div",37),l.jc(68,"div",38),l.jc(69,"div",39),l.Wc(70,"Edit Student"),l.ic(),l.jc(71,"div",40),l.rc("click",(function(){return e.modals.showEditModal=!1})),l.Wc(72,"\xd7"),l.ic(),l.jc(73,"div",41),l.Vc(74,pt,1,2,"edit-candidate",42),l.ic(),l.ic(),l.ic(),l.jc(75,"div",37),l.jc(76,"div",38),l.jc(77,"div",39),l.Wc(78,"Promote Student"),l.ic(),l.jc(79,"div",40),l.rc("click",(function(){return e.modals.promoteModal=!1})),l.Wc(80,"\xd7"),l.ic(),l.jc(81,"div",43),l.ec(82,"promote-candidate",44),l.ic(),l.ic(),l.ic(),l.ec(83,"loading",45)}2&t&&(l.Pb(9),l.Bc("ngForOf",e.batches),l.Pb(5),l.Bc("ngIf",e.permissions.add_student),l.Pb(9),l.Bc("ngIf",e.permissions.add_student),l.Pb(18),l.Bc("dataSource",e.dataSource),l.Pb(22),l.Bc("matHeaderRowDef",e.displayedColumns),l.Pb(1),l.Bc("matRowDefColumns",e.displayedColumns),l.Pb(1),l.Bc("ngIf",0==e.tableData.length),l.Pb(1),l.Bc("pageSizeOptions",l.Cc(16,ft)),l.Pb(1),l.Bc("show",e.modals.showEditModal)("options",l.Cc(17,bt)),l.Pb(7),l.Bc("ngIf",e.modals.showEditModal),l.Pb(1),l.Bc("show",e.modals.promoteModal)("options",l.Cc(18,jt)),l.Pb(7),l.Bc("studentIds",e.studentIdsToPromote)("modal",e.modals),l.Pb(1),l.Bc("show",e.loading))},directives:[p.a,f.a,b.o,b.u,j.j,M.b,j.k,C.a,d.j,a.a,d.c,d.e,d.b,d.g,d.i,o.a,v.a,O,B.a,y.c,d.d,W.a,d.a,a.b,d.f,d.h,L],styles:["#instructions[_ngcontent-%COMP%]{background-color:#feffa0;padding-right:10px}#instructions[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;padding:20px 10px;border-bottom:1px solid #888;font-weight:400;color:#333;font-size:15px;margin-left:45px}#instructions[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div.material-icons[_ngcontent-%COMP%]{position:absolute;left:-30px}#instructions[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{border-bottom:none}",".main-row[_ngcontent-%COMP%]{justify-content:space-between;padding:0 0 15px}.filter-box[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap}.filter-box[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{margin-top:10px}.btns-box[_ngcontent-%COMP%]{width:100%;display:none}.btns-box[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-left:10px}#filtername[_ngcontent-%COMP%], #filtertype[_ngcontent-%COMP%]{width:calc(50% - 5px);margin-bottom:10px}#add[_ngcontent-%COMP%], #export[_ngcontent-%COMP%], #filtername[_ngcontent-%COMP%], #more[_ngcontent-%COMP%]{margin-left:10px}table[_ngcontent-%COMP%]{width:100%}.status-div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}#menu[_ngcontent-%COMP%]{position:relative}.submenu[_ngcontent-%COMP%]{position:absolute;width:140px;max-height:0;overflow:hidden;background:#fff;top:36px;left:-75px;box-shadow:0 0 2px rgba(0,0,0,.25)}#menu[_ngcontent-%COMP%]:hover   .submenu[_ngcontent-%COMP%]{max-height:20em}.sub-item[_ngcontent-%COMP%]{color:#666;padding:8px 10px;cursor:pointer;border-bottom:1px solid #f1f1f1}@media screen and (min-width:1060px){#add[_ngcontent-%COMP%], #export[_ngcontent-%COMP%], #more[_ngcontent-%COMP%]{display:none}#filtername[_ngcontent-%COMP%], #filtertype[_ngcontent-%COMP%], #search[_ngcontent-%COMP%]{width:auto;margin-left:0;margin-right:10px;margin-bottom:0}#filtername[_ngcontent-%COMP%], #filtertype[_ngcontent-%COMP%]{width:250px}.filter-box[_ngcontent-%COMP%]{width:auto}.btns-box[_ngcontent-%COMP%]{width:250px;display:flex}}"]}),t})();const Ct=["imageSRC"],vt=["imageTarget"],Pt=["signatureSRC"],It=["signatureTarget"],wt=["candidateForm"];function xt(t,e){if(1&t&&(l.jc(0,"mat-option",17),l.Wc(1),l.ic()),2&t){const t=e.$implicit;l.Bc("value",t.courseId),l.Pb(1),l.Xc(t.course)}}function St(t,e){if(1&t&&(l.jc(0,"mat-option",17),l.Wc(1),l.ic()),2&t){const t=e.$implicit;l.Bc("value",t.batchId),l.Pb(1),l.Xc(t.batch)}}function _t(t,e){if(1&t&&(l.jc(0,"mat-option",17),l.Wc(1),l.ic()),2&t){const t=e.$implicit;l.Bc("value",t.id),l.Pb(1),l.Xc(t.session)}}let Ot=(()=>{class t{constructor(t,e){this.coreService=t,this.dialog=e,this.loading=!1,this.form={username:null,password:null,name:null,email:null,gender:null,dob:null,rollno:null,mobile:null,courseId:null,batchId:null,fname:null,fmobile:null,biometricId:null,regDate:null,address:null,city:null,state:null,session:null},this.courses=[],this.batches=[],this.sessionYears=[]}getSessionYears(){this.loading=!0,this.coreService.getRequest(s.a.API_URL+"utilities/session-years").subscribe(t=>{this.sessionYears=t,this.loading=!1})}getCourses(){this.coreService.getRequest(s.a.API_URL+"courses").subscribe(t=>{this.courses=t})}setBatches(){let t=this.courses.find(t=>t.courseId==this.form.courseId);this.batches=t?t.batches:[],this.form.batchId=null}ngOnInit(){this.getCourses(),this.getSessionYears(),setTimeout(()=>{this.showSelectedImage(this.imageSRC.nativeElement,this.imageTarget.nativeElement),this.showSelectedImage(this.signatureSRC.nativeElement,this.signatureTarget.nativeElement)},10)}showSelectedImage(t,e){var c=new FileReader;c.onload=function(t){e.src=this.result},t.addEventListener("change",(function(){c.readAsDataURL(t.files[0])}))}setSelectedImage(t){this.selectedImage=t.target.files[0]}setSelectedSignature(t){this.selectedSignature=t.target.files[0]}saveData(t){let e=new FormData;e.append("image",this.selectedImage),e.append("signature",this.selectedSignature),Object.keys(t.value).forEach((c,n)=>{"dob"!=c&&"regDate"!=c||(t.value[c]=new Date(t.value[c]+" UTC").toISOString().slice(0,19).replace("T"," ")),e.append(c,t.value[c])}),this.loading=!0,this.coreService.uploadRequest(s.a.API_URL+"candidate/",e).subscribe(t=>{this.dialog.showDialog({content:t.message}),this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(l.dc(u.a),l.dc(m.a))},t.\u0275cmp=l.Xb({type:t,selectors:[["add-candidate"]],viewQuery:function(t,e){var c;1&t&&(l.cd(Ct,!0),l.cd(vt,!0),l.cd(Pt,!0),l.cd(It,!0),l.cd(wt,!0)),2&t&&(l.Hc(c=l.sc())&&(e.imageSRC=c.first),l.Hc(c=l.sc())&&(e.imageTarget=c.first),l.Hc(c=l.sc())&&(e.signatureSRC=c.first),l.Hc(c=l.sc())&&(e.signatureTarget=c.first),l.Hc(c=l.sc())&&(e.candidateForm=c.first))},decls:154,vars:34,consts:[["id","page-content"],[1,"content-title"],[1,"content-box"],[3,"ngSubmit"],["candidateForm","ngForm"],[1,"row","justify-content-between"],[1,"add-form-cols"],["matInput","","name","username","required","",3,"ngModel","ngModelChange"],["type","password","matInput","","name","password","required","",3,"ngModel","ngModelChange"],["matInput","","name","email",3,"ngModel","ngModelChange"],[1,"add-form-cols-66-percent"],[1,"add-form-cols-50"],[2,"margin-top","10px"],["matInput","","name","name","required","",3,"ngModel","ngModelChange"],[2,"color","#666"],["id","gender-wrapper"],["name","gender","required","",3,"ngModel","ngModelChange"],[3,"value"],["matInput","","name","rollno",3,"ngModel","ngModelChange"],["matInput","","name","mobile","pattern","^[0-9]{10}$","minlength","10","maxlength","10",3,"ngModel","ngModelChange"],["name","dob","matInput","","placeholder","D.O.B","required","",3,"ngModel","owlDateTime","owlDateTimeTrigger","ngModelChange"],["dob",""],["matSuffix","",1,"material-icons"],[3,"pickerType"],["dt1",""],["name","regDate","matInput","","placeholder","Date of Registration","required","",3,"ngModel","owlDateTime","owlDateTimeTrigger","ngModelChange"],["dt2",""],[1,"add-form-cols","upl"],[1,"row","upload"],[1,"upload-box"],["src","assets/images/upload-man.png"],["imageTarget",""],["type","file","name","image",3,"change"],["imageSRC",""],["type","button","color","primary","mat-raised-button","",3,"click"],["src","assets/images/signature.png"],["signatureTarget",""],["type","file","name","signature",3,"change"],["signatureSRC",""],["name","courseId","required","",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["name","batchId","required","",3,"ngModel","ngModelChange"],["name","session",3,"ngModel","ngModelChange"],["matInput","","name","biometricId",3,"ngModel","ngModelChange"],["matInput","","name","fname","required","",3,"ngModel","ngModelChange"],["matInput","","name","fmobile","pattern","^[0-9]{10}$","minlength","10","maxlength","10","required","",3,"ngModel","ngModelChange"],["matInput","","name","address","required","",3,"ngModel","ngModelChange"],["matInput","","name","state","required","",3,"ngModel","ngModelChange"],["matInput","","name","city","required","",3,"ngModel","ngModelChange"],[1,"row",2,"justify-content","flex-end"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[3,"show"]],template:function(t,e){if(1&t){const t=l.kc();l.ec(0,"admin-header"),l.ec(1,"admin-sidebar"),l.jc(2,"div",0),l.jc(3,"div",1),l.Wc(4,"Add Candidate"),l.ic(),l.jc(5,"div",2),l.jc(6,"form",3,4),l.rc("ngSubmit",(function(){l.Mc(t);const c=l.Ic(7);return e.saveData(c)})),l.jc(8,"fieldset"),l.jc(9,"legend"),l.Wc(10,"Login Details & Email"),l.ic(),l.jc(11,"div",5),l.jc(12,"div",6),l.jc(13,"mat-form-field"),l.jc(14,"mat-label"),l.Wc(15,"Username"),l.ic(),l.jc(16,"input",7),l.rc("ngModelChange",(function(t){return e.form.username=t})),l.ic(),l.ic(),l.ic(),l.jc(17,"div",6),l.jc(18,"mat-form-field"),l.jc(19,"mat-label"),l.Wc(20,"Password"),l.ic(),l.jc(21,"input",8),l.rc("ngModelChange",(function(t){return e.form.password=t})),l.ic(),l.ic(),l.ic(),l.jc(22,"div",6),l.jc(23,"mat-form-field"),l.jc(24,"mat-label"),l.Wc(25,"Email"),l.ic(),l.jc(26,"input",9),l.rc("ngModelChange",(function(t){return e.form.email=t})),l.ic(),l.ic(),l.ic(),l.ic(),l.ic(),l.jc(27,"fieldset"),l.jc(28,"legend"),l.Wc(29,"Candidate Details"),l.ic(),l.jc(30,"div",5),l.jc(31,"div",10),l.jc(32,"div",5),l.jc(33,"div",11),l.jc(34,"mat-form-field",12),l.jc(35,"mat-label"),l.Wc(36,"Name"),l.ic(),l.jc(37,"input",13),l.rc("ngModelChange",(function(t){return e.form.name=t})),l.ic(),l.ic(),l.ic(),l.jc(38,"div",11),l.jc(39,"label",14),l.Wc(40,"Gender"),l.ic(),l.jc(41,"div",15),l.jc(42,"mat-radio-group",16),l.rc("ngModelChange",(function(t){return e.form.gender=t})),l.jc(43,"mat-radio-button",17),l.Wc(44,"Male"),l.ic(),l.jc(45,"mat-radio-button",17),l.Wc(46,"Female"),l.ic(),l.ic(),l.ic(),l.ic(),l.jc(47,"div",11),l.jc(48,"mat-form-field"),l.jc(49,"mat-label"),l.Wc(50,"Roll Number"),l.ic(),l.jc(51,"input",18),l.rc("ngModelChange",(function(t){return e.form.rollno=t})),l.ic(),l.ic(),l.ic(),l.jc(52,"div",11),l.jc(53,"mat-form-field"),l.jc(54,"mat-label"),l.Wc(55,"Mobile Number"),l.ic(),l.jc(56,"input",19),l.rc("ngModelChange",(function(t){return e.form.mobile=t})),l.ic(),l.ic(),l.ic(),l.jc(57,"div",11),l.jc(58,"mat-form-field"),l.jc(59,"input",20,21),l.rc("ngModelChange",(function(t){return e.form.dob=t})),l.ic(),l.jc(61,"span",22),l.Wc(62,"calendar_today"),l.ic(),l.ec(63,"owl-date-time",23,24),l.ic(),l.ic(),l.jc(65,"div",11),l.jc(66,"mat-form-field"),l.jc(67,"input",25,21),l.rc("ngModelChange",(function(t){return e.form.regDate=t})),l.ic(),l.jc(69,"span",22),l.Wc(70,"calendar_today"),l.ic(),l.ec(71,"owl-date-time",23,26),l.ic(),l.ic(),l.ic(),l.ic(),l.jc(73,"div",27),l.jc(74,"div",28),l.jc(75,"div",29),l.ec(76,"img",30,31),l.jc(78,"input",32,33),l.rc("change",(function(t){return e.setSelectedImage(t)})),l.ic(),l.ec(80,"br"),l.jc(81,"button",34),l.rc("click",(function(){return l.Mc(t),l.Ic(79).click()})),l.Wc(82,"Upload Image"),l.ic(),l.jc(83,"p"),l.Wc(84,"(Max resolution 150 \xd7 210 px) Format(.png, .jpeg, .jpg)"),l.ic(),l.ic(),l.jc(85,"div",29),l.ec(86,"img",35,36),l.jc(88,"input",37,38),l.rc("change",(function(t){return e.setSelectedSignature(t)})),l.ic(),l.ec(90,"br"),l.jc(91,"button",34),l.rc("click",(function(){return l.Mc(t),l.Ic(89).click()})),l.Wc(92,"Upload Image"),l.ic(),l.jc(93,"p"),l.Wc(94,"(Max resolution 150 \xd7 210 px) Format(.png, .jpeg, .jpg)"),l.ic(),l.ic(),l.ic(),l.ic(),l.ic(),l.jc(95,"div",5),l.jc(96,"div",6),l.jc(97,"mat-form-field"),l.jc(98,"mat-label"),l.Wc(99,"Course"),l.ic(),l.jc(100,"mat-select",39),l.rc("ngModelChange",(function(t){return e.form.courseId=t}))("selectionChange",(function(){return e.setBatches()})),l.jc(101,"mat-option",17),l.Wc(102,"Select Course"),l.ic(),l.Vc(103,xt,2,2,"mat-option",40),l.ic(),l.ic(),l.ic(),l.jc(104,"div",6),l.jc(105,"mat-form-field"),l.jc(106,"mat-label"),l.Wc(107,"Batch"),l.ic(),l.jc(108,"mat-select",41),l.rc("ngModelChange",(function(t){return e.form.batchId=t})),l.jc(109,"mat-option",17),l.Wc(110,"Select Batch"),l.ic(),l.Vc(111,St,2,2,"mat-option",40),l.ic(),l.ic(),l.ic(),l.jc(112,"div",6),l.jc(113,"mat-form-field"),l.jc(114,"mat-label"),l.Wc(115,"Session"),l.ic(),l.jc(116,"mat-select",42),l.rc("ngModelChange",(function(t){return e.form.session=t})),l.jc(117,"mat-option",17),l.Wc(118,"Select Session"),l.ic(),l.Vc(119,_t,2,2,"mat-option",40),l.ic(),l.ic(),l.ic(),l.jc(120,"div",6),l.jc(121,"mat-form-field"),l.jc(122,"mat-label"),l.Wc(123,"Biometric Id"),l.ic(),l.jc(124,"input",43),l.rc("ngModelChange",(function(t){return e.form.biometricId=t})),l.ic(),l.ic(),l.ic(),l.jc(125,"div",6),l.jc(126,"mat-form-field"),l.jc(127,"mat-label"),l.Wc(128,"Father Name"),l.ic(),l.jc(129,"input",44),l.rc("ngModelChange",(function(t){return e.form.fname=t})),l.ic(),l.ic(),l.ic(),l.jc(130,"div",6),l.jc(131,"mat-form-field"),l.jc(132,"mat-label"),l.Wc(133,"Father Mobile"),l.ic(),l.jc(134,"input",45),l.rc("ngModelChange",(function(t){return e.form.fmobile=t})),l.ic(),l.ic(),l.ic(),l.jc(135,"div",6),l.jc(136,"mat-form-field"),l.jc(137,"mat-label"),l.Wc(138,"Address"),l.ic(),l.jc(139,"input",46),l.rc("ngModelChange",(function(t){return e.form.address=t})),l.ic(),l.ic(),l.ic(),l.jc(140,"div",6),l.jc(141,"mat-form-field"),l.jc(142,"mat-label"),l.Wc(143,"State"),l.ic(),l.jc(144,"input",47),l.rc("ngModelChange",(function(t){return e.form.state=t})),l.ic(),l.ic(),l.ic(),l.jc(145,"div",6),l.jc(146,"mat-form-field"),l.jc(147,"mat-label"),l.Wc(148,"City"),l.ic(),l.jc(149,"input",48),l.rc("ngModelChange",(function(t){return e.form.city=t})),l.ic(),l.ic(),l.ic(),l.ic(),l.jc(150,"div",49),l.jc(151,"button",50),l.Wc(152,"Save"),l.ic(),l.ic(),l.ic(),l.ic(),l.ic(),l.ic(),l.ec(153,"loading",51)}if(2&t){const t=l.Ic(7),c=l.Ic(64),n=l.Ic(72);l.Pb(16),l.Bc("ngModel",e.form.username),l.Pb(5),l.Bc("ngModel",e.form.password),l.Pb(5),l.Bc("ngModel",e.form.email),l.Pb(11),l.Bc("ngModel",e.form.name),l.Pb(5),l.Bc("ngModel",e.form.gender),l.Pb(1),l.Bc("value","Male"),l.Pb(2),l.Bc("value","Female"),l.Pb(6),l.Bc("ngModel",e.form.rollno),l.Pb(5),l.Bc("ngModel",e.form.mobile),l.Pb(3),l.Bc("ngModel",e.form.dob)("owlDateTime",c)("owlDateTimeTrigger",c),l.Pb(4),l.Bc("pickerType","calendar"),l.Pb(4),l.Bc("ngModel",e.form.regDate)("owlDateTime",n)("owlDateTimeTrigger",n),l.Pb(4),l.Bc("pickerType","calendar"),l.Pb(29),l.Bc("ngModel",e.form.courseId),l.Pb(1),l.Bc("value",0),l.Pb(2),l.Bc("ngForOf",e.courses),l.Pb(5),l.Bc("ngModel",e.form.batchId),l.Pb(1),l.Bc("value",0),l.Pb(2),l.Bc("ngForOf",e.batches),l.Pb(5),l.Bc("ngModel",e.form.session),l.Pb(1),l.Bc("value",0),l.Pb(2),l.Bc("ngForOf",e.sessionYears),l.Pb(5),l.Bc("ngModel",e.form.biometricId),l.Pb(5),l.Bc("ngModel",e.form.fname),l.Pb(5),l.Bc("ngModel",e.form.fmobile),l.Pb(5),l.Bc("ngModel",e.form.address),l.Pb(5),l.Bc("ngModel",e.form.state),l.Pb(5),l.Bc("ngModel",e.form.city),l.Pb(2),l.Bc("disabled",!t.valid),l.Pb(2),l.Bc("show",e.loading)}},directives:[p.a,f.a,b.v,b.l,b.m,P.b,P.e,k.a,b.b,b.r,b.k,b.n,D.b,D.a,b.q,b.g,b.f,R.b,R.d,P.f,R.a,M.b,I.a,w.h,j.j,B.a],styles:["#instructions[_ngcontent-%COMP%]{background-color:#feffa0;padding-right:10px}#instructions[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;padding:20px 10px;border-bottom:1px solid #888;font-weight:400;color:#333;font-size:15px;margin-left:45px}#instructions[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div.material-icons[_ngcontent-%COMP%]{position:absolute;left:-30px}#instructions[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{border-bottom:none}",".content-title[_ngcontent-%COMP%]{padding:10px;font-weight:500;background:#fff;border-bottom:1px solid #ddd}.content-box[_ngcontent-%COMP%]{padding:15px;background-color:#fff}.add-form-row[_ngcontent-%COMP%]{justify-content:space-between}.add-form-cols[_ngcontent-%COMP%]{width:calc(33.33% - 10px)}.add-form-cols-66-percent[_ngcontent-%COMP%]{width:calc(66.66% - 10px)}.add-form-cols-50[_ngcontent-%COMP%]{width:calc(50% - 10px)}fieldset[_ngcontent-%COMP%]{padding:0 10px 10px;margin-bottom:0;border:1px solid transparent}legend[_ngcontent-%COMP%]{padding:0;font-weight:500;color:#0063c6}#gender-wrapper[_ngcontent-%COMP%]{margin-top:10px}#gender-wrapper[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.row.upload[_ngcontent-%COMP%]{height:calc(100% - 17px);justify-content:space-between;align-items:center}.upload-box[_ngcontent-%COMP%]{padding:7px;border:1px solid #888;width:calc(50% - 10px);height:100%}.upload-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:90px;border:1px solid #888}.upload-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px;padding:1px 10px;font-size:12px;border-radius:0;line-height:25px}.upload-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:red;margin-top:4px;font-size:10px;line-height:14px}[type=file][_ngcontent-%COMP%]{position:absolute;left:-1600px}@media screen and (max-width:920px){.add-form-cols[_ngcontent-%COMP%]{width:calc(50% - 10px)}.add-form-cols-66-percent[_ngcontent-%COMP%], .add-form-cols.upl[_ngcontent-%COMP%]{width:100%}.add-form-cols-50[_ngcontent-%COMP%]{width:calc(50% - 10px)}}"]}),t})();var Bt=c("n+G7");const yt=[{path:"",component:Mt},{path:"add-candidate",component:Ot}];let Wt=(()=>{class t{}return t.\u0275mod=l.bc({type:t}),t.\u0275inj=l.ac({factory:function(e){return new(e||t)},imports:[[Bt.a,y.f.forChild(yt)]]}),t})()}}]);