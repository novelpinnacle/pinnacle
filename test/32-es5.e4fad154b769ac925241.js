function _classCallCheck(c,e){if(!(c instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(c,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(c,i.key,i)}}function _createClass(c,e,t){return e&&_defineProperties(c.prototype,e),t&&_defineProperties(c,t),c}(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{Ta9C:function(c,e,t){"use strict";t.r(e),t.d(e,"OfflineExamModule",(function(){return Qe}));var i=t("ofXK"),n=t("tyNb"),a=t("n+G7"),o=t("mrSG"),s=t("SP9e"),r=t("byUP"),l=t("fXoL"),d=t("4KEQ"),u=t("QeEr"),m=t("FnMX"),f=t("aCk2"),h=t("G0I0"),b=t("3Pt+"),g=t("bTqV"),v=t("NFeN"),p=t("ZMsq"),j=t("V/o5"),x=t("kmnG"),M=t("qFsG"),k=t("QibW"),P=t("z17N"),C=t("d3UM"),I=t("FKr1");function w(c,e){if(1&c&&(l.jc(0,"mat-option",9),l.Wc(1),l.ic()),2&c){var t=e.$implicit;l.Bc("value",t.courseId),l.Pb(1),l.Yc("",t.course," ")}}function B(c,e){if(1&c&&(l.jc(0,"mat-option",9),l.Wc(1),l.ic()),2&c){var t=e.$implicit;l.Bc("value",t.batchId),l.Pb(1),l.Yc("",t.batch," ")}}function y(c,e){if(1&c){var t=l.kc();l.jc(0,"button",26),l.rc("click",(function(c){l.Mc(t);var e=l.vc().index,i=l.vc();return c.preventDefault(),i.removeItem(e)})),l.jc(1,"mat-icon"),l.Wc(2,"remove"),l.ic(),l.ic()}}function W(c,e){if(1&c){var t=l.kc();l.hc(0),l.jc(1,"div",19),l.jc(2,"mat-form-field"),l.jc(3,"mat-label"),l.Wc(4,"Select Course"),l.ic(),l.jc(5,"mat-select",20),l.rc("ngModelChange",(function(c){return l.Mc(t),e.$implicit.courseId=c}))("selectionChange",(function(){l.Mc(t);var c=e.$implicit,i=e.index;return l.vc().setBatches(c.courseId,i)})),l.Vc(6,w,2,2,"mat-option",21),l.ic(),l.ic(),l.ic(),l.jc(7,"div",19),l.jc(8,"mat-form-field"),l.jc(9,"mat-label"),l.Wc(10,"Select Batch"),l.ic(),l.jc(11,"mat-select",22),l.rc("ngModelChange",(function(c){return l.Mc(t),e.$implicit.batchId=c})),l.Vc(12,B,2,2,"mat-option",21),l.ic(),l.ic(),l.ic(),l.jc(13,"div",23),l.jc(14,"button",24),l.rc("click",(function(c){l.Mc(t);var i=e.index,n=l.vc();return c.preventDefault(),n.addMore(i)})),l.jc(15,"mat-icon"),l.Wc(16,"add"),l.ic(),l.ic(),l.Vc(17,y,3,0,"button",25),l.ic(),l.gc()}if(2&c){var i=e.$implicit,n=e.index;l.Pb(5),l.Bc("ngModel",i.courseId)("name","courseId"+n),l.Pb(1),l.Bc("ngForOf",i.courses),l.Pb(5),l.Bc("ngModel",i.batchId)("name","batchId"+n),l.Pb(1),l.Bc("ngForOf",i.batches),l.Pb(5),l.Bc("ngIf",n>0)}}var F,S=((F=function(){function c(e,t){_classCallCheck(this,c),this.coreService=e,this.dialog=t,this.examForm={examName:null,examCode:null,category:null,examDate:null},this.coursesBatches=[{courses:[],courseId:null,batches:[],batchId:null}]}return _createClass(c,[{key:"ngOnInit",value:function(){this.getCourses()}},{key:"getCourses",value:function(){var c=this;this.coreService.getRequest(s.a.API_URL+"courses").subscribe((function(e){c.courses=e,c.coursesBatches[0].courses=e}))}},{key:"setBatches",value:function(c,e){var t=this.courses.find((function(e){return e.courseId==c}));t&&(this.coursesBatches[e].batches=t.batches,this.coursesBatches[e].batchId=null)}},{key:"setSelectedFile",value:function(c){this.selectedFile=c.target.files[0]}},{key:"addMore",value:function(c){var e=this,t=this.courses.filter((function(t){return t.courseId==e.coursesBatches[c].courseId}));this.coursesBatches.push({courses:t,courseId:null,batchId:null,batches:[]})}},{key:"removeItem",value:function(c){this.coursesBatches.splice(c,1)}},{key:"saveExam",value:function(){var c=this;this.loading=!0;var e={batchIds:[],courseId:this.coursesBatches[0].courseId};this.coursesBatches.forEach((function(c){return e.batchIds.push(c.batchId)})),Object.assign(e,this.examForm),e.examDate=new Date(this.examForm.examDate+" UTC").toISOString().slice(0,19).replace("T"," ");var t=new FormData;t.append("courseId",this.coursesBatches[0].courseId),t.append("batchIds",e.batchIds+""),t.append("examName",this.examForm.examName),t.append("examCode",this.examForm.examCode),t.append("category",this.examForm.category),t.append("examDate",e.examDate),t.append("pdf",this.selectedFile),this.coreService.uploadRequest(s.a.API_URL+"offline-exams",t).subscribe((function(e){c.loading=!1,c.callBack(),c.modal.showAddModal=!1,c.dialog.showDialog({content:e.message})}))}}]),c}()).\u0275fac=function(c){return new(c||F)(l.dc(d.a),l.dc(u.a))},F.\u0275cmp=l.Xb({type:F,selectors:[["add-offline-exam"]],inputs:{callBack:"callBack",modal:"modal"},decls:35,vars:12,consts:[[3,"ngSubmit"],["examFrm","ngForm"],[1,"row"],[1,"col-sm-6"],["matInput","","name","examName","required","",3,"ngModel","ngModelChange"],["matInput","","name","examCode","required","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"label"],["name","category","required","",3,"ngModel","ngModelChange"],[3,"value"],["id","date-field"],["name","examDate","matInput","","placeholder","Exam Date","required","",3,"ngModel","owlDateTime","owlDateTimeTrigger","ngModelChange"],["matSuffix","",1,"material-icons"],[3,"pickerType"],["dt1",""],["type","file","name","pdf","ngModel","",3,"change"],[1,"col-sm-12","row","justify-content-end"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[3,"show"],[1,"col-sm-5"],[3,"ngModel","name","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","name","ngModelChange"],[1,"col-sm-2","justify-content-between","row"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","warn",3,"click",4,"ngIf"],["mat-mini-fab","","color","warn",3,"click"]],template:function(c,e){if(1&c&&(l.jc(0,"form",0,1),l.rc("ngSubmit",(function(){return e.saveExam()})),l.jc(2,"div",2),l.jc(3,"div",3),l.jc(4,"mat-form-field"),l.jc(5,"mat-label"),l.Wc(6,"Exam Name"),l.ic(),l.jc(7,"input",4),l.rc("ngModelChange",(function(c){return e.examForm.examName=c})),l.ic(),l.ic(),l.ic(),l.jc(8,"div",3),l.jc(9,"mat-form-field"),l.jc(10,"mat-label"),l.Wc(11,"Exam Code"),l.ic(),l.jc(12,"input",5),l.rc("ngModelChange",(function(c){return e.examForm.examCode=c})),l.ic(),l.ic(),l.ic(),l.Vc(13,W,18,7,"ng-container",6),l.jc(14,"div",3),l.jc(15,"label",7),l.Wc(16,"Category"),l.ic(),l.jc(17,"mat-radio-group",8),l.rc("ngModelChange",(function(c){return e.examForm.category=c})),l.jc(18,"mat-radio-button",9),l.Wc(19,"Subjective"),l.ic(),l.jc(20,"mat-radio-button",9),l.Wc(21,"Objective"),l.ic(),l.ic(),l.ic(),l.jc(22,"div",3),l.jc(23,"mat-form-field",10),l.jc(24,"input",11),l.rc("ngModelChange",(function(c){return e.examForm.examDate=c})),l.ic(),l.jc(25,"span",12),l.Wc(26,"calendar_today"),l.ic(),l.ec(27,"owl-date-time",13,14),l.ic(),l.ic(),l.jc(29,"div",3),l.jc(30,"input",15),l.rc("change",(function(c){return e.setSelectedFile(c)})),l.ic(),l.ic(),l.jc(31,"div",16),l.jc(32,"button",17),l.Wc(33,"Submit"),l.ic(),l.ic(),l.ic(),l.ic(),l.ec(34,"loading",18)),2&c){var t=l.Ic(1),i=l.Ic(28);l.Pb(7),l.Bc("ngModel",e.examForm.examName),l.Pb(5),l.Bc("ngModel",e.examForm.examCode),l.Pb(1),l.Bc("ngForOf",e.coursesBatches),l.Pb(4),l.Bc("ngModel",e.examForm.category),l.Pb(1),l.Bc("value","S"),l.Pb(2),l.Bc("value","O"),l.Pb(4),l.Bc("ngModel",e.examForm.examDate)("owlDateTime",i)("owlDateTimeTrigger",i),l.Pb(3),l.Bc("pickerType","calendar"),l.Pb(5),l.Bc("disabled",t.invalid),l.Pb(2),l.Bc("show",e.loading)}},directives:[b.v,b.l,b.m,x.b,x.e,M.a,b.b,b.r,b.k,b.n,i.j,k.b,k.a,P.b,P.d,x.f,P.a,g.b,j.a,C.a,v.a,i.k,I.h],styles:["[class*=col-][_ngcontent-%COMP%]{padding:0 10px}mat-radio-group[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}mat-radio-button[_ngcontent-%COMP%]{color:#666;font-weight:400}#date-field[_ngcontent-%COMP%]{margin-top:7px}"]}),F),O=t("Sz29");function D(c,e){if(1&c&&(l.jc(0,"mat-option",9),l.Wc(1),l.ic()),2&c){var t=e.$implicit;l.Bc("value",t.courseId),l.Pb(1),l.Yc("",t.course," ")}}function E(c,e){if(1&c&&(l.jc(0,"mat-option",9),l.Wc(1),l.ic()),2&c){var t=e.$implicit;l.Bc("value",t.batchId),l.Pb(1),l.Yc("",t.batch," ")}}function _(c,e){if(1&c){var t=l.kc();l.hc(0),l.jc(1,"div",18),l.jc(2,"mat-form-field"),l.jc(3,"mat-label"),l.Wc(4,"Select Course"),l.ic(),l.jc(5,"mat-select",19),l.rc("ngModelChange",(function(c){return l.Mc(t),e.$implicit.courseId=c}))("selectionChange",(function(){l.Mc(t);var c=e.$implicit,i=e.index;return l.vc().setBatches(c.courseId,i)})),l.Vc(6,D,2,2,"mat-option",20),l.ic(),l.ic(),l.ic(),l.jc(7,"div",18),l.jc(8,"mat-form-field"),l.jc(9,"mat-label"),l.Wc(10,"Select Batch"),l.ic(),l.jc(11,"mat-select",21),l.rc("ngModelChange",(function(c){return l.Mc(t),e.$implicit.batchId=c})),l.Vc(12,E,2,2,"mat-option",20),l.ic(),l.ic(),l.ic(),l.jc(13,"div",22),l.jc(14,"button",23),l.rc("click",(function(c){l.Mc(t);var i=e.index,n=l.vc();return c.preventDefault(),n.addMore(i)})),l.jc(15,"mat-icon"),l.Wc(16,"add"),l.ic(),l.ic(),l.jc(17,"button",24),l.rc("click",(function(c){l.Mc(t);var i=e.index,n=l.vc();return c.preventDefault(),n.removeItem(i)})),l.jc(18,"mat-icon"),l.Wc(19,"remove"),l.ic(),l.ic(),l.ic(),l.gc()}if(2&c){var i=e.$implicit,n=e.index;l.Pb(5),l.Bc("ngModel",i.courseId)("name","courseId"+n),l.Pb(1),l.Bc("ngForOf",i.courses),l.Pb(5),l.Bc("ngModel",i.batchId)("name","batchId"+n),l.Pb(1),l.Bc("ngForOf",i.batches)}}var $,V=(($=function(){function c(e,t,i){_classCallCheck(this,c),this.coreService=e,this.dialog=t,this.dateTimeService=i,this.loading=!0,this.coursesBatches=[]}return _createClass(c,[{key:"ngOnInit",value:function(){this.getCourses(),this.examDate=new Date(this.exam.examDate)}},{key:"getCourses",value:function(){var c=this;this.coreService.getRequest(s.a.API_URL+"courses").subscribe((function(e){c.loading=!1,c.courses=e,c.exam.batchId||c.coursesBatches.push({courseId:null,courses:c.courses,batchId:null,batches:[]});var t=c.exam.batchId?c.exam.batchId.split(","):[],i=0;t.forEach((function(e){c.coursesBatches.push({courses:c.courses,courseId:c.exam.courseId,batchId:+e,batches:[]}),c.setBatches(c.exam.courseId,i+0),i++}))}))}},{key:"setBatches",value:function(c,e){var t=this.courses.find((function(e){return e.courseId==c}));t&&(this.coursesBatches[e].batches=t.batches)}},{key:"addMore",value:function(c){var e=this,t=this.courses.filter((function(t){return t.courseId==e.coursesBatches[c].courseId}));this.coursesBatches.push({courses:t,courseId:null,batchId:null,batches:[]})}},{key:"removeItem",value:function(c){this.coursesBatches.splice(c,1)}},{key:"updateExam",value:function(){var c=this,e={batchIds:[],courseId:this.coursesBatches.length>0?this.coursesBatches[0].courseId:null,examName:this.exam.examName,examCode:this.exam.examCode,examId:this.exam.examId,category:this.exam.category,examDate:new Date(this.examDate+" UTC").toISOString().slice(0,19).replace("T"," ")};this.coursesBatches.forEach((function(c){return e.batchIds.push(c.batchId)})),this.loading=!0,this.coreService.putRequest(s.a.API_URL+"offline-exams/",e).subscribe((function(t){c.loading=!1,c.dialog.showDialog({content:t.message}),c.exam.examDate=c.dateTimeService.getFormattedDate(e.examDate),c.modals.showEditModal=!1}))}}]),c}()).\u0275fac=function(c){return new(c||$)(l.dc(d.a),l.dc(u.a),l.dc(O.a))},$.\u0275cmp=l.Xb({type:$,selectors:[["edit-offline-exam"]],inputs:{exam:"exam",modals:"modals"},decls:33,vars:12,consts:[[3,"ngSubmit"],["examFrm","ngForm"],[1,"row"],[1,"col-sm-6"],["matInput","","name","examName","required","",3,"ngModel","ngModelChange"],["matInput","","name","examCode","required","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"label"],["name","category","required","",3,"ngModel","ngModelChange"],[3,"value"],["id","date-field"],["name","examDate","matInput","","placeholder","Exam Date","required","",3,"ngModel","owlDateTime","owlDateTimeTrigger","ngModelChange"],["matSuffix","",1,"material-icons"],[3,"pickerType"],["dt1",""],[1,"col-sm-12","row","justify-content-end"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[3,"show"],[1,"col-sm-5"],["required","",3,"ngModel","name","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["required","",3,"ngModel","name","ngModelChange"],[1,"col-sm-2","justify-content-between","row"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","warn",3,"click"]],template:function(c,e){if(1&c&&(l.jc(0,"form",0,1),l.rc("ngSubmit",(function(){return e.updateExam()})),l.jc(2,"div",2),l.jc(3,"div",3),l.jc(4,"mat-form-field"),l.jc(5,"mat-label"),l.Wc(6,"Exam Name"),l.ic(),l.jc(7,"input",4),l.rc("ngModelChange",(function(c){return e.exam.examName=c})),l.ic(),l.ic(),l.ic(),l.jc(8,"div",3),l.jc(9,"mat-form-field"),l.jc(10,"mat-label"),l.Wc(11,"Exam Code"),l.ic(),l.jc(12,"input",5),l.rc("ngModelChange",(function(c){return e.exam.examCode=c})),l.ic(),l.ic(),l.ic(),l.Vc(13,_,20,6,"ng-container",6),l.jc(14,"div",3),l.jc(15,"label",7),l.Wc(16,"Category"),l.ic(),l.jc(17,"mat-radio-group",8),l.rc("ngModelChange",(function(c){return e.exam.category=c})),l.jc(18,"mat-radio-button",9),l.Wc(19,"Subjective"),l.ic(),l.jc(20,"mat-radio-button",9),l.Wc(21,"Objective"),l.ic(),l.ic(),l.ic(),l.jc(22,"div",3),l.jc(23,"mat-form-field",10),l.jc(24,"input",11),l.rc("ngModelChange",(function(c){return e.examDate=c})),l.ic(),l.jc(25,"span",12),l.Wc(26,"calendar_today"),l.ic(),l.ec(27,"owl-date-time",13,14),l.ic(),l.ic(),l.jc(29,"div",15),l.jc(30,"button",16),l.Wc(31,"Submit"),l.ic(),l.ic(),l.ic(),l.ic(),l.ec(32,"loading",17)),2&c){var t=l.Ic(1),i=l.Ic(28);l.Pb(7),l.Bc("ngModel",e.exam.examName),l.Pb(5),l.Bc("ngModel",e.exam.examCode),l.Pb(1),l.Bc("ngForOf",e.coursesBatches),l.Pb(4),l.Bc("ngModel",e.exam.category),l.Pb(1),l.Bc("value","S"),l.Pb(2),l.Bc("value","O"),l.Pb(4),l.Bc("ngModel",e.examDate)("owlDateTime",i)("owlDateTimeTrigger",i),l.Pb(3),l.Bc("pickerType","calendar"),l.Pb(3),l.Bc("disabled",t.invalid),l.Pb(2),l.Bc("show",e.loading)}},directives:[b.v,b.l,b.m,x.b,x.e,M.a,b.b,b.r,b.k,b.n,i.j,k.b,k.a,P.b,P.d,x.f,P.a,g.b,j.a,C.a,v.a,I.h],styles:["[class*=col-][_ngcontent-%COMP%]{padding:0 10px}mat-radio-group[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}mat-radio-button[_ngcontent-%COMP%]{color:#666;font-weight:400}#date-field[_ngcontent-%COMP%]{margin-top:7px}"]}),$),R=["subjectsForm"];function A(c,e){if(1&c&&(l.jc(0,"mat-option",14),l.Wc(1),l.ic()),2&c){var t=e.$implicit,i=l.vc(2);l.Bc("value",t.subjectId)("disabled",i.choosedSubjectIds.includes(t.subjectId)),l.Pb(1),l.Xc(t.subject)}}function N(c,e){if(1&c){var t=l.kc();l.jc(0,"button",15),l.rc("click",(function(c){l.Mc(t);var e=l.vc().index,i=l.vc();return c.preventDefault(),i.removeItem(e)})),l.jc(1,"mat-icon"),l.Wc(2,"delete"),l.ic(),l.ic()}}function U(c,e){if(1&c){var t=l.kc();l.jc(0,"div",4),l.jc(1,"div",5),l.jc(2,"mat-form-field"),l.jc(3,"mat-label"),l.Wc(4,"Select Subject"),l.ic(),l.jc(5,"mat-select",6),l.rc("ngModelChange",(function(c){return l.Mc(t),e.$implicit.subjectId=c}))("selectionChange",(function(){return l.Mc(t),l.vc().setChoosedSubject()})),l.Vc(6,A,2,3,"mat-option",7),l.ic(),l.ic(),l.ic(),l.jc(7,"div",8),l.jc(8,"mat-form-field"),l.jc(9,"mat-label"),l.Wc(10,"Pass Marks"),l.ic(),l.jc(11,"input",9),l.rc("ngModelChange",(function(c){return l.Mc(t),e.$implicit.passMarks=c})),l.ic(),l.ic(),l.ic(),l.jc(12,"div",8),l.jc(13,"mat-form-field"),l.jc(14,"mat-label"),l.Wc(15,"Total Marks"),l.ic(),l.jc(16,"input",10),l.rc("ngModelChange",(function(c){return l.Mc(t),e.$implicit.totalMarks=c})),l.ic(),l.ic(),l.ic(),l.jc(17,"div",11),l.jc(18,"button",12),l.rc("click",(function(c){l.Mc(t);var e=l.vc();return c.preventDefault(),e.addMore()})),l.jc(19,"mat-icon"),l.Wc(20,"add"),l.ic(),l.ic(),l.Vc(21,N,3,0,"button",13),l.ic(),l.ic()}if(2&c){var i=e.$implicit,n=e.index,a=l.vc();l.Pb(5),l.Bc("ngModel",i.subjectId)("name","subjectId"+n),l.Pb(1),l.Bc("ngForOf",a.subjects),l.Pb(5),l.Bc("name","passMarks"+n)("ngModel",i.passMarks),l.Pb(5),l.Bc("name","totalMarks"+n)("ngModel",i.totalMarks),l.Pb(5),l.Bc("ngIf",n>0)}}var q,T=((q=function(){function c(e,t){_classCallCheck(this,c),this.coreService=e,this.dialog=t,this.loading=!0,this.subjectsData=[{subjectId:null,passMarks:null,totalMarks:null}],this.choosedSubjectIds=[]}return _createClass(c,[{key:"ngOnInit",value:function(){var c=this;this.getSubjectsForExam(),this.exam.subjectDetails.forEach((function(e){return c.choosedSubjectIds.push(e.subjectId)}))}},{key:"getSubjectsForExam",value:function(){var c=this;this.coreService.getRequest(s.a.API_URL+"offline-exams/"+this.exam.examId+"/subjects").subscribe((function(e){c.subjects=e,c.loading=!1}))}},{key:"addMore",value:function(){this.subjectsData.push({subjectId:null,passMarks:null,totalMarks:null})}},{key:"removeItem",value:function(c){this.subjectsData.splice(c,1)}},{key:"setChoosedSubject",value:function(){var c=[];this.subjectsData.forEach((function(e){return c.push(e.subjectId)})),this.choosedSubjectIds=c}},{key:"addSubjects",value:function(){var c=this;this.loading=!0,this.coreService.postRequest(s.a.API_URL+"offline-exams/"+this.exam.examId+"/subjects",this.subjectsData).subscribe((function(e){c.loading=!1,c.dialog.showDialog({content:e.message}),c.insertNewlyAddedSubjectsInArray(),c.form.resetForm(),c.modals.showSubjectsModal=!1}))}},{key:"insertNewlyAddedSubjectsInArray",value:function(){var c=this;this.subjectsData.forEach((function(e){e.passMarks||(e.passMarks=Math.ceil(33*e.totalMarks/100)),c.exam.subjectDetails.push({examId:c.exam.examId,passMarks:e.passMarks,totalMarks:e.totalMarks,subjectId:e.subjectId,subject:c.subjects.find((function(c){return c.subjectId==e.subjectId})).subject})}))}}]),c}()).\u0275fac=function(c){return new(c||q)(l.dc(d.a),l.dc(u.a))},q.\u0275cmp=l.Xb({type:q,selectors:[["add-exam-subjects"]],viewQuery:function(c,e){var t;1&c&&l.cd(R,!0),2&c&&l.Hc(t=l.sc())&&(e.form=t.first)},inputs:{exam:"exam",modals:"modals"},decls:6,vars:3,consts:[["subjectsForm","ngForm"],["class","row align-items-center",4,"ngFor","ngForOf"],["type","submit","mat-raised-button","","color","primary",3,"disabled","click"],[3,"show"],[1,"row","align-items-center"],[1,"col-sm-4"],["required","",3,"ngModel","name","ngModelChange","selectionChange"],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"col-sm-3"],["matInput","",3,"name","ngModel","ngModelChange"],["matInput","","required","",3,"name","ngModel","ngModelChange"],[1,"col-sm-2","btns-col"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","warn",3,"click",4,"ngIf"],[3,"value","disabled"],["mat-mini-fab","","color","warn",3,"click"]],template:function(c,e){if(1&c&&(l.jc(0,"form",null,0),l.Vc(2,U,22,8,"div",1),l.jc(3,"button",2),l.rc("click",(function(){return e.addSubjects()})),l.Wc(4,"Submit"),l.ic(),l.ic(),l.ec(5,"loading",3)),2&c){var t=l.Ic(1);l.Pb(2),l.Bc("ngForOf",e.subjectsData),l.Pb(1),l.Bc("disabled",t.invalid),l.Pb(2),l.Bc("show",e.loading)}},directives:[b.v,b.l,b.m,i.j,g.b,j.a,x.b,x.e,C.a,b.r,b.k,b.n,M.a,b.b,v.a,i.k,I.h],styles:["[class*=col-][_ngcontent-%COMP%]{padding:0 5px}.btns-col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}"]}),q);function X(c,e){if(1&c&&(l.jc(0,"mat-option",12),l.Wc(1),l.ic()),2&c){var t=e.$implicit,i=l.vc(2);l.Bc("value",t.subjectId)("disabled",i.choosedSubjectIds.includes(t.subjectId)),l.Pb(1),l.Xc(t.subject)}}function L(c,e){if(1&c){var t=l.kc();l.jc(0,"div",3),l.jc(1,"div",4),l.jc(2,"mat-form-field"),l.jc(3,"mat-label"),l.Wc(4,"Select Subject"),l.ic(),l.jc(5,"mat-select",5),l.rc("ngModelChange",(function(c){return l.Mc(t),e.$implicit.subjectId=c}))("selectionChange",(function(){return l.Mc(t),l.vc().setChoosedSubject()})),l.Vc(6,X,2,3,"mat-option",6),l.ic(),l.ic(),l.ic(),l.jc(7,"div",7),l.jc(8,"mat-form-field"),l.jc(9,"mat-label"),l.Wc(10,"Pass Marks"),l.ic(),l.jc(11,"input",8),l.rc("ngModelChange",(function(c){return l.Mc(t),e.$implicit.passMarks=c})),l.ic(),l.ic(),l.ic(),l.jc(12,"div",7),l.jc(13,"mat-form-field"),l.jc(14,"mat-label"),l.Wc(15,"Total Marks"),l.ic(),l.jc(16,"input",8),l.rc("ngModelChange",(function(c){return l.Mc(t),e.$implicit.totalMarks=c})),l.ic(),l.ic(),l.ic(),l.jc(17,"div",9),l.jc(18,"button",10),l.rc("click",(function(){l.Mc(t);var c=e.$implicit;return l.vc().updateSubjects(c)})),l.jc(19,"mat-icon"),l.Wc(20,"save"),l.ic(),l.ic(),l.jc(21,"button",11),l.rc("click",(function(){l.Mc(t);var c=e.$implicit;return l.vc().deleteExamSubject(c)})),l.jc(22,"mat-icon"),l.Wc(23,"delete"),l.ic(),l.ic(),l.ic(),l.ic()}if(2&c){var i=e.$implicit,n=e.index,a=l.vc();l.Pb(5),l.Bc("ngModel",i.subjectId)("name","subjectId"+n)("disabled",!0),l.Pb(1),l.Bc("ngForOf",a.subjects),l.Pb(5),l.Bc("name","passMarks"+n)("ngModel",i.passMarks),l.Pb(5),l.Bc("name","totalMarks"+n)("ngModel",i.totalMarks)}}var Y,z=((Y=function(){function c(e,t){_classCallCheck(this,c),this.coreService=e,this.dialog=t,this.subjectsData=[],this.choosedSubjectIds=[]}return _createClass(c,[{key:"ngOnInit",value:function(){var c=this;this.getSubjectsForExam(),this.exam.subjectDetails.forEach((function(e){c.choosedSubjectIds.push(e.subjectId)}))}},{key:"getSubjectsForExam",value:function(){var c=this;this.coreService.getRequest(s.a.API_URL+"offline-exams/"+this.exam.examId+"/subjects").subscribe((function(e){c.subjects=e,c.loading=!1}))}},{key:"setChoosedSubject",value:function(){var c=[];this.subjectsData.forEach((function(e){return c.push(e.subjectId)})),this.choosedSubjectIds=c}},{key:"updateSubjects",value:function(c){var e=this;this.loading=!0,this.coreService.putRequest(s.a.API_URL+"offline-exams/"+this.exam.examId+"/subject",c).subscribe((function(c){e.loading=!1,e.modals.showEditSubjectsModal=!1,e.dialog.showDialog({content:c.message})}))}},{key:"deleteExamSubject",value:function(c){var e=this;this.dialog.showDialog({title:"Confirm Deletion",content:"Are you sure to delete this subject? ",callBack:function(){e.coreService.deleteRequest(s.a.API_URL+"offline-exams/"+e.exam.examId+"/subject/"+c.subjectId).subscribe((function(t){t.success&&e.exam.subjectDetails.splice(e.exam.subjectDetails.indexOf(c),1)}))}})}}]),c}()).\u0275fac=function(c){return new(c||Y)(l.dc(d.a),l.dc(u.a))},Y.\u0275cmp=l.Xb({type:Y,selectors:[["edit-exam-subjects"]],inputs:{exam:"exam",modals:"modals"},decls:4,vars:2,consts:[["subjectsForm","ngForm"],["class","row align-items-center",4,"ngFor","ngForOf"],[3,"show"],[1,"row","align-items-center"],[1,"col-sm-4"],["required","",3,"ngModel","name","disabled","ngModelChange","selectionChange"],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"col-sm-3"],["matInput","","required","",3,"name","ngModel","ngModelChange"],[1,"col-sm-2","btns-col"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","warn",3,"click"],[3,"value","disabled"]],template:function(c,e){1&c&&(l.jc(0,"form",null,0),l.Vc(2,L,24,8,"div",1),l.ic(),l.ec(3,"loading",2)),2&c&&(l.Pb(2),l.Bc("ngForOf",e.exam.subjectDetails),l.Pb(1),l.Bc("show",e.loading))},directives:[b.v,b.l,b.m,i.j,j.a,x.b,x.e,C.a,b.r,b.k,b.n,M.a,b.b,g.b,v.a,I.h],styles:["[class*=col-][_ngcontent-%COMP%]{padding:0 5px}.btns-col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}"]}),Y),Q=t("bSwM");function G(c,e){if(1&c){var t=l.kc();l.jc(0,"th"),l.jc(1,"mat-checkbox",6),l.rc("change",(function(c){l.Mc(t);var i=e.index;return l.vc().toggleAbsent(i,c)})),l.ic(),l.Wc(2),l.ic()}if(2&c){var i=e.$implicit;l.Pb(2),l.Yc(" ",i.subject," ")}}var H=function(c){return{absent:c}};function K(c,e){if(1&c){var t=l.kc();l.hc(0),l.jc(1,"input",10),l.rc("keyup",(function(){l.Mc(t);var c=l.vc().$implicit;return c.marks=4*(c.correct-0)-(c.wrong-0)}))("ngModelChange",(function(c){return l.Mc(t),l.vc().$implicit.correct=c})),l.ic(),l.jc(2,"input",11),l.rc("keyup",(function(){l.Mc(t);var c=l.vc().$implicit;return c.marks=4*(c.correct-0)-(c.wrong-0)}))("ngModelChange",(function(c){return l.Mc(t),l.vc().$implicit.wrong=c})),l.ic(),l.gc()}if(2&c){var i=l.vc(),n=i.index,a=i.$implicit,o=l.vc().index,s=l.vc().index;l.Pb(1),l.Bc("name","correct-"+s+o+n)("required",!a.absent)("readOnly",a.absent)("ngClass",l.Dc(10,H,a.absent))("ngModel",a.correct),l.Pb(1),l.Bc("name","wrong-"+s+o+n)("required",!a.absent)("readOnly",a.absent)("ngClass",l.Dc(12,H,a.absent))("ngModel",a.wrong)}}function J(c,e){if(1&c){var t=l.kc();l.jc(0,"td"),l.jc(1,"mat-checkbox",7),l.rc("change",(function(){var c=e.$implicit;return c.absent?c.marks=null:null}))("ngModelChange",(function(c){return l.Mc(t),e.$implicit.absent=c})),l.ic(),l.Wc(2,"\xa0 "),l.jc(3,"input",8),l.rc("ngModelChange",(function(c){return l.Mc(t),e.$implicit.marks=c})),l.ic(),l.Vc(4,K,3,14,"ng-container",9),l.ic()}if(2&c){var i=e.$implicit,n=e.index,a=l.vc().index,o=l.vc().index,s=l.vc();l.Pb(1),l.Bc("name","absent"+a+n)("ngModel",i.absent),l.Pb(2),l.Bc("name","marks-"+o+a+n)("required",!i.absent)("readOnly",i.absent)("ngClass",l.Dc(8,H,i.absent))("ngModel",i.marks),l.Pb(1),l.Bc("ngIf","O"==s.exam.category)}}function Z(c,e){if(1&c&&(l.jc(0,"tr"),l.jc(1,"td"),l.Wc(2),l.ic(),l.jc(3,"td"),l.Wc(4),l.ic(),l.jc(5,"td"),l.Wc(6),l.ic(),l.Vc(7,J,5,10,"td",2),l.ic()),2&c){var t=e.$implicit;l.Pb(2),l.Xc(t.name),l.Pb(2),l.Xc(t.rollno),l.Pb(2),l.Xc(t.batch),l.Pb(1),l.Bc("ngForOf",t.subjects)}}function cc(c,e){if(1&c&&(l.hc(0),l.jc(1,"tr"),l.jc(2,"th"),l.Wc(3),l.ic(),l.ic(),l.Vc(4,Z,8,4,"tr",2),l.gc()),2&c){var t=e.$implicit,i=l.vc();l.Pb(2),l.Qb("colSpan",4+i.subjects.length),l.Pb(1),l.Xc(t),l.Pb(1),l.Bc("ngForOf",i.batchesStudents[t])}}var ec,tc=((ec=function(){function c(e,t){_classCallCheck(this,c),this.coreService=e,this.dialog=t,this.batchesStudents={},this.batches=[]}return _createClass(c,[{key:"ngOnInit",value:function(){this.getInsertData()}},{key:"getInsertData",value:function(){var c=this;this.loading=!0,this.coreService.getRequest(s.a.API_URL+"offline-exams/"+this.exam.examId+"/insert-marks").subscribe((function(e){c.subjects=e.subjects,c.batches=Object.keys(e.batches),c.batchesStudents=e.batches,c.loading=!1}))}},{key:"toggleAbsent",value:function(c,e){var t=this;this.batches.forEach((function(i){t.batchesStudents[i].forEach((function(t){t.subjects[c].absent=e.checked}))}))}},{key:"insertMarks",value:function(){var c=this,e=[];this.batches.forEach((function(t){e=e.concat(c.batchesStudents[t])})),this.loading=!0,this.disableButton=!0,this.coreService.postRequest(s.a.API_URL+"offline-exams/"+this.exam.examId+"/insert-marks",e).subscribe((function(e){c.loading=!1,c.disableButton=!1,c.dialog.showDialog({content:e.message}),c.modals.showInsertModal=!1,c.exam.isMarksInserted=!0}))}}]),c}()).\u0275fac=function(c){return new(c||ec)(l.dc(d.a),l.dc(u.a))},ec.\u0275cmp=l.Xb({type:ec,selectors:[["insert-marks"]],inputs:{exam:"exam",modals:"modals"},decls:16,vars:4,consts:[["insertForm","ngForm"],[1,"pinnacle-table"],[4,"ngFor","ngForOf"],[1,"row","btn-row"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"show"],[3,"change"],[3,"name","ngModel","change","ngModelChange"],["pattern","-?[0-9]+(\\.[0-9][0-9]?)?","placeholder","M",1,"input-field",3,"name","required","readOnly","ngClass","ngModel","ngModelChange"],[4,"ngIf"],["pattern","-?[0-9]+(\\.[0-9][0-9]?)?","placeholder","C",1,"input-field",3,"name","required","readOnly","ngClass","ngModel","keyup","ngModelChange"],["pattern","-?[0-9]+(\\.[0-9][0-9]?)?","placeholder","W",1,"input-field",3,"name","required","readOnly","ngClass","ngModel","keyup","ngModelChange"]],template:function(c,e){if(1&c&&(l.jc(0,"form",null,0),l.jc(2,"table",1),l.jc(3,"tr"),l.jc(4,"th"),l.Wc(5,"Name"),l.ic(),l.jc(6,"th"),l.Wc(7,"Roll No."),l.ic(),l.jc(8,"th"),l.Wc(9,"Batch"),l.ic(),l.Vc(10,G,3,1,"th",2),l.ic(),l.Vc(11,cc,5,3,"ng-container",2),l.ic(),l.jc(12,"div",3),l.jc(13,"button",4),l.rc("click",(function(){return e.insertMarks()})),l.Wc(14,"Submit"),l.ic(),l.ic(),l.ic(),l.ec(15,"loading",5)),2&c){var t=l.Ic(1);l.Pb(10),l.Bc("ngForOf",e.subjects),l.Pb(1),l.Bc("ngForOf",e.batches),l.Pb(2),l.Bc("disabled",t.invalid||e.disableButton),l.Pb(2),l.Bc("show",e.loading)}},directives:[b.v,b.l,b.m,i.j,g.b,j.a,Q.a,b.k,b.n,b.b,b.q,b.r,i.i,i.k],styles:[".input-field[_ngcontent-%COMP%]{width:50px;height:25px;margin-right:5px;display:inline-block}.pinnacle-table[_ngcontent-%COMP%]{box-shadow:0 0 3px -1px rgba(0,0,0,.25)}.absent[_ngcontent-%COMP%]{border-left:2px solid var(--text-danger);opacity:.4}.btn-row[_ngcontent-%COMP%]{padding-top:10px;justify-content:flex-end}th[colspan][_ngcontent-%COMP%]{font-size:1rem;text-align:center;padding:15px;border-top:1px solid #f7f7f7}"]}),ec);function ic(c,e){if(1&c&&(l.jc(0,"th"),l.Wc(1),l.ic()),2&c){var t=l.vc().$implicit;l.Pb(1),l.Yc("",t.subject," Correct")}}function nc(c,e){if(1&c&&(l.jc(0,"th"),l.Wc(1),l.ic()),2&c){var t=l.vc().$implicit;l.Pb(1),l.Yc("",t.subject," Wrong")}}function ac(c,e){if(1&c){var t=l.kc();l.hc(0),l.jc(1,"th"),l.jc(2,"mat-checkbox",6),l.rc("change",(function(c){l.Mc(t);var i=e.index;return l.vc().toggleAbsent(i,c)})),l.ic(),l.Wc(3),l.ic(),l.Vc(4,ic,2,1,"th",7),l.Vc(5,nc,2,1,"th",7),l.gc()}if(2&c){var i=e.$implicit,n=e.index,a=l.vc();l.Pb(2),l.Bc("checked",a.isAllAbsent(n)),l.Pb(1),l.Yc(" ",i.subject," Marks "),l.Pb(1),l.Bc("ngIf","O"==a.exam.category),l.Pb(1),l.Bc("ngIf","O"==a.exam.category)}}var oc=function(c){return{absent:c}};function sc(c,e){if(1&c){var t=l.kc();l.jc(0,"td"),l.jc(1,"input",10),l.rc("ngModelChange",(function(c){return l.Mc(t),l.vc().$implicit.correct=c}))("keyup",(function(){l.Mc(t);var c=l.vc().$implicit;return c.marks=4*(c.correct-0)-(c.wrong-0)})),l.ic(),l.ic()}if(2&c){var i=l.vc(),n=i.$implicit,a=i.index,o=l.vc().index,s=l.vc().index;l.Pb(1),l.Bc("ngClass",l.Dc(4,oc,n.attendance))("name","correct-"+s+o+a)("ngModel",n.correct)("required",!n.attendance)}}function rc(c,e){if(1&c){var t=l.kc();l.jc(0,"td"),l.jc(1,"input",10),l.rc("ngModelChange",(function(c){return l.Mc(t),l.vc().$implicit.wrong=c}))("keyup",(function(){l.Mc(t);var c=l.vc().$implicit;return c.marks=4*(c.correct-0)-(c.wrong-0)})),l.ic(),l.ic()}if(2&c){var i=l.vc(),n=i.$implicit,a=i.index,o=l.vc().index,s=l.vc().index;l.Pb(1),l.Bc("ngClass",l.Dc(4,oc,n.attendance))("name","wrong-"+s+o+a)("ngModel",n.wrong)("required",!n.attendance)}}function lc(c,e){if(1&c){var t=l.kc();l.hc(0),l.jc(1,"td"),l.jc(2,"mat-checkbox",8),l.rc("change",(function(){l.Mc(t);var c=e.$implicit;return l.vc(3).emptyMarks(c)}))("ngModelChange",(function(c){return l.Mc(t),e.$implicit.attendance=c})),l.ic(),l.Wc(3,"\xa0 "),l.jc(4,"input",9),l.rc("ngModelChange",(function(c){return l.Mc(t),e.$implicit.marks=c})),l.ic(),l.ic(),l.Vc(5,sc,2,6,"td",7),l.Vc(6,rc,2,6,"td",7),l.gc()}if(2&c){var i=e.$implicit,n=e.index,a=l.vc().index,o=l.vc().index,s=l.vc();l.Pb(2),l.Bc("name","absent"+a+n)("ngModel",i.attendance),l.Pb(2),l.Bc("ngClass",l.Dc(10,oc,i.attendance))("name","marks-"+o+a+n)("readOnly",i.attendance)("ngModel",i.marks)("pattern",s.marksPattern)("required",!i.attendance),l.Pb(1),l.Bc("ngIf","O"==s.exam.category),l.Pb(1),l.Bc("ngIf","O"==s.exam.category)}}function dc(c,e){if(1&c&&(l.jc(0,"tr"),l.jc(1,"td"),l.Wc(2),l.ic(),l.jc(3,"td"),l.Wc(4),l.ic(),l.jc(5,"td"),l.Wc(6),l.ic(),l.Vc(7,lc,7,12,"ng-container",2),l.ic()),2&c){var t=e.$implicit;l.Pb(2),l.Xc(t.name),l.Pb(2),l.Xc(t.batch),l.Pb(2),l.Xc(t.rollno),l.Pb(1),l.Bc("ngForOf",t.marks)}}function uc(c,e){if(1&c&&(l.hc(0),l.jc(1,"tr"),l.jc(2,"th"),l.Wc(3),l.ic(),l.ic(),l.Vc(4,dc,8,4,"tr",2),l.gc()),2&c){var t=e.$implicit,i=l.vc();l.Pb(2),l.Qb("colSpan",4+3*i.batchesStudents[t][0].marks.length),l.Pb(1),l.Xc(t),l.Pb(1),l.Bc("ngForOf",i.batchesStudents[t])}}var mc,fc=function(){return[]},hc=((mc=function(){function c(e,t){_classCallCheck(this,c),this.coreService=e,this.dialog=t,this.batches=[],this.batchesStudents={},this.loading=!0,this.marksPattern="-?[0-9]+(.[0-9][0-9]?)?"}return _createClass(c,[{key:"ngOnInit",value:function(){this.getExamMarks()}},{key:"getExamMarks",value:function(){var c=this;this.coreService.getRequest(s.a.API_URL+"offline-exams/"+this.exam.examId+"/marks").subscribe((function(e){c.batchesStudents=e,c.batches=Object.keys(e),c.loading=!1}))}},{key:"toggleAbsent",value:function(c,e){var t=this;this.batches.forEach((function(i){t.batchesStudents[i].forEach((function(t){t.marks[c].attendance=e.checked}))}))}},{key:"isAllAbsent",value:function(c){var e=this,t=!0;return this.batches.forEach((function(i){e.batchesStudents[i].forEach((function(e){e.marks[c]&&(e.marks[c].attendance||(t=!1))}))})),t}},{key:"updateMarks",value:function(){var c=this,e=[];this.batches.forEach((function(t){e=e.concat(c.batchesStudents[t])}));var t=[];e.forEach((function(c){c.marks.forEach((function(c){return t.push(c)}))})),this.loading=!0,this.coreService.putRequest(s.a.API_URL+"offline-exams/marks",t).subscribe((function(e){c.dialog.showDialog({content:e.message}),c.loading=!1}))}},{key:"emptyMarks",value:function(c){c.attendance&&(c.marks=null),c.attendance&&(c.correct=null),c.attendance&&(c.wrong=null)}}]),c}()).\u0275fac=function(c){return new(c||mc)(l.dc(d.a),l.dc(u.a))},mc.\u0275cmp=l.Xb({type:mc,selectors:[["edit-marks"]],inputs:{exam:"exam"},decls:16,vars:5,consts:[["form","ngForm"],[1,"pinnacle-table"],[4,"ngFor","ngForOf"],[1,"row","btn-row"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"show"],[3,"checked","change"],[4,"ngIf"],[3,"name","ngModel","change","ngModelChange"],[1,"input-field",3,"ngClass","name","readOnly","ngModel","pattern","required","ngModelChange"],["pattern","-?[0-9]+(\\.[0-9][0-9]?)?",1,"input-field",3,"ngClass","name","ngModel","required","ngModelChange","keyup"]],template:function(c,e){if(1&c&&(l.jc(0,"form",null,0),l.jc(2,"table",1),l.jc(3,"tr"),l.jc(4,"th"),l.Wc(5,"Name"),l.ic(),l.jc(6,"th"),l.Wc(7,"Batch"),l.ic(),l.jc(8,"th"),l.Wc(9,"Roll No."),l.ic(),l.Vc(10,ac,6,4,"ng-container",2),l.ic(),l.Vc(11,uc,5,3,"ng-container",2),l.ic(),l.jc(12,"div",3),l.jc(13,"button",4),l.rc("click",(function(){return e.updateMarks()})),l.Wc(14,"Submit"),l.ic(),l.ic(),l.ic(),l.ec(15,"loading",5)),2&c){var t=l.Ic(1);l.Pb(10),l.Bc("ngForOf",e.batches.length?e.batchesStudents[e.batches[0]][0].marks:l.Cc(4,fc)),l.Pb(1),l.Bc("ngForOf",e.batches),l.Pb(2),l.Bc("disabled",t.invalid),l.Pb(2),l.Bc("show",e.loading)}},directives:[b.v,b.l,b.m,i.j,g.b,j.a,Q.a,i.k,b.k,b.n,b.b,i.i,b.q,b.r],styles:[".input-field[_ngcontent-%COMP%]{width:50px;height:25px;margin-right:5px;display:inline-block}.pinnacle-table[_ngcontent-%COMP%]{box-shadow:0 0 3px -1px rgba(0,0,0,.25)}.absent[_ngcontent-%COMP%]{border-left:2px solid var(--text-danger);opacity:.4}.btn-row[_ngcontent-%COMP%]{padding-top:10px;justify-content:flex-end}th[colspan][_ngcontent-%COMP%]{font-size:1rem;text-align:center;padding:15px;border-top:1px solid #f7f7f7}"]}),mc),bc=t("i680"),gc=t("DaQG"),vc=t.n(gc),pc=t("EUZL");function jc(c,e){1&c&&(l.jc(0,"th"),l.Wc(1,"Total Marks"),l.ic())}function xc(c,e){1&c&&(l.jc(0,"th"),l.Wc(1,"Total Correct"),l.ic())}function Mc(c,e){1&c&&(l.jc(0,"th"),l.Wc(1,"Total Wrong"),l.ic())}function kc(c,e){if(1&c&&(l.jc(0,"th"),l.Wc(1),l.ic()),2&c){var t=l.vc().$implicit;l.Pb(1),l.Yc("",t," Marks")}}function Pc(c,e){if(1&c&&(l.jc(0,"th"),l.Wc(1),l.ic()),2&c){var t=l.vc().$implicit;l.Pb(1),l.Yc("",t," Correct")}}function Cc(c,e){if(1&c&&(l.jc(0,"th"),l.Wc(1),l.ic()),2&c){var t=l.vc().$implicit;l.Pb(1),l.Yc("",t," Wrong")}}function Ic(c,e){if(1&c&&(l.hc(0),l.Vc(1,kc,2,1,"th",4),l.Vc(2,Pc,2,1,"th",4),l.Vc(3,Cc,2,1,"th",4),l.gc()),2&c){var t=e.$implicit,i=l.vc();l.Pb(1),l.Bc("ngIf",i.choosedColumns[t+"-marks"]),l.Pb(1),l.Bc("ngIf","O"==i.exam.category&&i.choosedColumns[t+"-correct"]),l.Pb(1),l.Bc("ngIf","O"==i.exam.category&&i.choosedColumns[t+"-wrong"])}}function wc(c,e){if(1&c&&(l.jc(0,"td"),l.Wc(1),l.ic()),2&c){var t=l.vc().$implicit;l.Pb(1),l.Xc(t.totalMarks)}}function Bc(c,e){if(1&c&&(l.jc(0,"td"),l.Wc(1),l.ic()),2&c){var t=l.vc().$implicit;l.Pb(1),l.Xc(t.totalCorrect)}}function yc(c,e){if(1&c&&(l.jc(0,"td"),l.Wc(1),l.ic()),2&c){var t=l.vc().$implicit;l.Pb(1),l.Xc(t.totalWrong)}}function Wc(c,e){if(1&c&&(l.jc(0,"td"),l.Wc(1),l.ic()),2&c){var t=l.vc().$implicit;l.Pb(1),l.Xc(t.absent?"N/A":t.marks)}}function Fc(c,e){if(1&c&&(l.jc(0,"td"),l.Wc(1),l.ic()),2&c){var t=l.vc().$implicit;l.Pb(1),l.Yc("",t.absent?"N/A":t.correct," ")}}function Sc(c,e){if(1&c&&(l.jc(0,"td"),l.Wc(1),l.ic()),2&c){var t=l.vc().$implicit;l.Pb(1),l.Xc(t.absent?"N/A":t.wrong)}}function Oc(c,e){if(1&c&&(l.hc(0),l.Vc(1,Wc,2,1,"td",4),l.Vc(2,Fc,2,1,"td",4),l.Vc(3,Sc,2,1,"td",4),l.gc()),2&c){var t=e.$implicit,i=l.vc(3);l.Pb(1),l.Bc("ngIf",i.choosedColumns[t.subject+"-marks"]),l.Pb(1),l.Bc("ngIf","O"==i.exam.category&&i.choosedColumns[t.subject+"-correct"]),l.Pb(1),l.Bc("ngIf","O"==i.exam.category&&i.choosedColumns[t.subject+"-wrong"])}}var Dc=function(c){return{absent:c}};function Ec(c,e){if(1&c&&(l.jc(0,"tr",19),l.jc(1,"td"),l.Wc(2),l.ic(),l.Vc(3,wc,2,1,"td",4),l.Vc(4,Bc,2,1,"td",4),l.Vc(5,yc,2,1,"td",4),l.Vc(6,Oc,4,3,"ng-container",5),l.jc(7,"td"),l.Wc(8),l.ic(),l.ic()),2&c){var t=e.$implicit,i=e.index,n=l.vc(2);l.Bc("ngClass",l.Dc(7,Dc,t.absent)),l.Pb(2),l.Yc("",t.name," "),l.Pb(1),l.Bc("ngIf",n.choosedColumns.totalMarks),l.Pb(1),l.Bc("ngIf","O"==n.exam.category&&n.choosedColumns.totalCorrect),l.Pb(1),l.Bc("ngIf","O"==n.exam.category&&n.choosedColumns.totalWrong),l.Pb(1),l.Bc("ngForOf",t.subjects),l.Pb(2),l.Xc(t.absent?"N/A":i+1)}}function _c(c,e){if(1&c&&(l.hc(0),l.jc(1,"tr"),l.jc(2,"th"),l.Wc(3),l.ic(),l.ic(),l.Vc(4,Ec,9,9,"tr",18),l.gc()),2&c){var t=e.$implicit,i=l.vc();l.Pb(2),l.Qb("colSpan",5+3*i.subjects.length),l.Pb(1),l.Xc(t),l.Pb(1),l.Bc("ngForOf",i.reports[t])}}function $c(c,e){if(1&c){var t=l.kc();l.jc(0,"div",12),l.jc(1,"mat-checkbox",13),l.rc("ngModelChange",(function(c){return l.Mc(t),l.vc().choosedColumns.totalWrong=c})),l.Wc(2,"Total Correct"),l.ic(),l.ic()}if(2&c){var i=l.vc();l.Pb(1),l.Bc("ngModel",i.choosedColumns.totalWrong)}}function Vc(c,e){if(1&c){var t=l.kc();l.jc(0,"div",12),l.jc(1,"mat-checkbox",13),l.rc("ngModelChange",(function(c){return l.Mc(t),l.vc().choosedColumns.totalCorrect=c})),l.Wc(2,"Total Wrong"),l.ic(),l.ic()}if(2&c){var i=l.vc();l.Pb(1),l.Bc("ngModel",i.choosedColumns.totalCorrect)}}function Rc(c,e){if(1&c){var t=l.kc();l.jc(0,"div",12),l.jc(1,"mat-checkbox",13),l.rc("ngModelChange",(function(c){l.Mc(t);var i=e.$implicit;return l.vc().choosedColumns[i+"-marks"]=c})),l.Wc(2),l.ic(),l.ic()}if(2&c){var i=e.$implicit,n=l.vc();l.Pb(1),l.Bc("ngModel",n.choosedColumns[i+"-marks"]),l.Pb(1),l.Yc("",i," Marks")}}function Ac(c,e){if(1&c){var t=l.kc();l.jc(0,"div",12),l.jc(1,"mat-checkbox",13),l.rc("ngModelChange",(function(c){l.Mc(t);var i=e.$implicit;return l.vc().choosedColumns[i+"-correct"]=c})),l.Wc(2),l.ic(),l.ic()}if(2&c){var i=e.$implicit,n=l.vc();l.Pb(1),l.Bc("ngModel",n.choosedColumns[i+"-correct"]),l.Pb(1),l.Yc("",i," Correct")}}function Nc(c,e){if(1&c){var t=l.kc();l.jc(0,"div",12),l.jc(1,"mat-checkbox",13),l.rc("ngModelChange",(function(c){l.Mc(t);var i=e.$implicit;return l.vc().choosedColumns[i+"-wrong"]=c})),l.Wc(2),l.ic(),l.ic()}if(2&c){var i=e.$implicit,n=l.vc();l.Pb(1),l.Bc("ngModel",n.choosedColumns[i+"-wrong"]),l.Pb(1),l.Yc("",i," Wrong")}}var Uc,qc=function(){return{width:"80%"}},Tc=((Uc=function(){function c(){_classCallCheck(this,c),this.choosedColumns={name:1,totalMarks:1,totalCorrect:1,totalWrong:1},this.subjects=[],this.batches=[]}return _createClass(c,[{key:"ngOnInit",value:function(){var c=this;for(var e in this.batches=Object.keys(this.reports),this.reports)this.reports[e].forEach((function(e){e.subjects&&e.subjects.forEach((function(e){c.subjects.includes(e.subject)||c.subjects.push(e.subject)}))}));this.subjects.forEach((function(e){c.choosedColumns[e+"-marks"]=1,c.choosedColumns[e+"-correct"]=1,c.choosedColumns[e+"-wrong"]=1}))}},{key:"getTotalMarksMessage",value:function(){var c="Maximum Marks :- ";return this.subjectDetails.forEach((function(e){c+="".concat(e.subject,"[").concat(e.totalMarks,"],")})),c=c.slice(0,c.length-1)}},{key:"savePDF",value:function(){this.showExportModal=!1;var c=new bc.default("landscape","mm","a3");c.text("Report of "+this.exam.examName,15,10),c.text(this.getTotalMarksMessage(),160,10),vc()(c,{html:"#excel-table"}),c.save(this.exam.examName+".pdf"),this.resetColumns()}},{key:"exportexcel",value:function(){this.showExportModal=!1;var c=document.getElementById("excel-table"),e=pc.utils.table_to_sheet(c),t=pc.utils.book_new();pc.utils.book_append_sheet(t,e,"Sheet1"),pc.writeFile(t,this.exam.examName+".xlsx"),this.resetColumns()}},{key:"resetColumns",value:function(){var c=this;Object.keys(this.choosedColumns).forEach((function(e){c.choosedColumns[e]=1}))}}]),c}()).\u0275fac=function(c){return new(c||Uc)},Uc.\u0275cmp=l.Xb({type:Uc,selectors:[["offline-exam-report"]],inputs:{reports:"reports",exam:"exam",subjectDetails:"subjectDetails"},decls:39,vars:16,consts:[[1,"row","exports"],["id","export"],["mat-raised-button","",3,"click"],["id","excel-table",1,"pinnacle-table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["modal","",1,"modal",3,"show","options"],[1,"dialog"],[1,"modal-header"],[1,"close",3,"click"],["id","question-edit-body",1,"modal-body"],[1,"row"],[1,"col-sm-2"],[3,"ngModel","ngModelChange"],["class","col-sm-2",4,"ngIf"],["class","col-sm-2",4,"ngFor","ngForOf"],[1,"row","justify-content-center",2,"margin-top","15px"],["mat-raised-button","","color","primary",3,"click"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(c,e){1&c&&(l.jc(0,"div",0),l.jc(1,"div",1),l.jc(2,"button",2),l.rc("click",(function(){return e.exportType="PDF",e.showExportModal=!0})),l.Wc(3," PDF "),l.ic(),l.jc(4,"button",2),l.rc("click",(function(){return e.exportType="Excel",e.showExportModal=!0})),l.Wc(5,"Excel"),l.ic(),l.ic(),l.ic(),l.jc(6,"table",3),l.jc(7,"tr"),l.jc(8,"th"),l.Wc(9,"Name"),l.ic(),l.Vc(10,jc,2,0,"th",4),l.Vc(11,xc,2,0,"th",4),l.Vc(12,Mc,2,0,"th",4),l.Vc(13,Ic,4,3,"ng-container",5),l.jc(14,"th"),l.Wc(15,"Rank"),l.ic(),l.ic(),l.Vc(16,_c,5,3,"ng-container",5),l.ic(),l.jc(17,"div",6),l.jc(18,"div",7),l.jc(19,"div",8),l.Wc(20,"Choose Columns For Export"),l.ic(),l.jc(21,"div",9),l.rc("click",(function(){return e.showExportModal=!1})),l.Wc(22,"\xd7"),l.ic(),l.jc(23,"div",10),l.jc(24,"div",11),l.jc(25,"div",12),l.jc(26,"mat-checkbox",13),l.rc("ngModelChange",(function(c){return e.choosedColumns.name=c})),l.Wc(27,"Name"),l.ic(),l.ic(),l.jc(28,"div",12),l.jc(29,"mat-checkbox",13),l.rc("ngModelChange",(function(c){return e.choosedColumns.totalMarks=c})),l.Wc(30,"Total Marks"),l.ic(),l.ic(),l.Vc(31,$c,3,1,"div",14),l.Vc(32,Vc,3,1,"div",14),l.Vc(33,Rc,3,2,"div",15),l.Vc(34,Ac,3,2,"div",15),l.Vc(35,Nc,3,2,"div",15),l.ic(),l.jc(36,"div",16),l.jc(37,"button",17),l.rc("click",(function(){return"PDF"==e.exportType?e.savePDF():e.exportexcel()})),l.Wc(38),l.ic(),l.ic(),l.ic(),l.ic(),l.ic()),2&c&&(l.Pb(10),l.Bc("ngIf",e.choosedColumns.totalMarks),l.Pb(1),l.Bc("ngIf","O"==e.exam.category&&e.choosedColumns.totalCorrect),l.Pb(1),l.Bc("ngIf","O"==e.exam.category&&e.choosedColumns.totalWrong),l.Pb(1),l.Bc("ngForOf",e.subjects),l.Pb(3),l.Bc("ngForOf",e.batches),l.Pb(1),l.Bc("show",e.showExportModal)("options",l.Cc(15,qc)),l.Pb(9),l.Bc("ngModel",e.choosedColumns.name),l.Pb(3),l.Bc("ngModel",e.choosedColumns.totalMarks),l.Pb(2),l.Bc("ngIf","O"==e.exam.category),l.Pb(1),l.Bc("ngIf","O"==e.exam.category),l.Pb(1),l.Bc("ngForOf",e.subjects),l.Pb(1),l.Bc("ngForOf",e.subjects),l.Pb(1),l.Bc("ngForOf",e.subjects),l.Pb(3),l.Yc("Export ",e.exportType,""))},directives:[g.b,i.k,i.j,p.a,Q.a,b.k,b.n,i.i],styles:[".pinnacle-table[_ngcontent-%COMP%]{box-shadow:0 0 3px -1px rgba(0,0,0,.25)}.absent[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{opacity:.4}.absent[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:2px solid var(--text-danger)}.exports[_ngcontent-%COMP%]{justify-content:flex-end;padding-bottom:10px}#export[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{line-height:30px;margin-left:10px}th[colspan][_ngcontent-%COMP%]{font-size:1rem;text-align:center;padding:15px;border-top:1px solid #f7f7f7}"]}),Uc),Xc=t("CGWC");function Lc(c,e){if(1&c){var t=l.kc();l.jc(0,"div",13),l.jc(1,"button",2),l.rc("click",(function(){return l.Mc(t),l.vc().modals.showRollNoModal=!1})),l.Wc(2,"Close"),l.ic(),l.ic()}}var Yc,zc,Qc=function(){return{width:"60%"}},Gc=((zc=function(){function c(e,t){_classCallCheck(this,c),this.coreService=e,this.dialog=t}return _createClass(c,[{key:"ngOnInit",value:function(){}},{key:"setSelectedFile",value:function(c){this.selectedFile=c.target.files[0]}},{key:"uploadExcel",value:function(){var c=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new FormData;t.append("marksFile",this.selectedFile),t.append("examId",this.exam.examId.toString()),t.append("markAbsent",e+""),this.loading=!0,this.coreService.uploadRequest(s.a.API_URL+"offline-exams/"+this.exam.examId+"/upload-excel",t).subscribe((function(e){if(c.loading=!1,e.success)c.exam.isMarksInserted=!0,c.modals.showUploadModal=!1,c.dialog.showDialog({content:e.message});else if(e.rollsNotUploaded){var t="<div class=row>";e.rollsNotUploaded.forEach((function(c){t+="<div class='col-sm-4'>".concat(c,"</div>")})),t+="</div>",c.rollNoNotUploadedError=t,c.modals.showRollNoModal=!0}else e.wrongRollsUploaded?c.showWrongRollsErrorDialog(e.wrongRollsUploaded):e.subjectsNotUploaded?c.showSubjectsErrorDialog(e.subjectsNotUploaded,"Following subjects are not in Excel File"):e.wrongSubjectsUploaded?c.showSubjectsErrorDialog(e.wrongSubjectsUploaded,"Following subjects are not in Exam"):c.dialog.showDialog({content:e.message})}))}},{key:"showWrongRollsErrorDialog",value:function(c){var e='<h2 class="text-danger">Following roll numbers are not in Database</h2>';e+="<div class=row>",c.forEach((function(c){e+="<div class='col-sm-4'>".concat(c,"</div>")})),e+="</div>",this.dialog.showDialog({title:"Validation Error",content:e,width:"600px"})}},{key:"showSubjectsErrorDialog",value:function(c,e){var t='<h2 class="text-danger">'.concat(e,"</h2>");t+="<div class=row>",c.forEach((function(c){t+="<div class='col-sm-4'>".concat(c,"</div>")})),t+="</div>",this.dialog.showDialog({title:"Validation Error",content:t,width:"600px"})}}]),c}()).\u0275fac=function(c){return new(c||zc)(l.dc(d.a),l.dc(u.a))},zc.\u0275cmp=l.Xb({type:zc,selectors:[["upload-marks-excel"]],inputs:{exam:"exam",modals:"modals"},decls:30,vars:9,consts:[["type","file","accept",".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel","name","marksFile",2,"position","absolute","left","-2000px",3,"change"],["marksFile",""],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],["modal","",1,"modal",3,"show","options"],[1,"dialog"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],[1,"text-danger"],[3,"innerHTML"],["class","modal-footer",4,"ngIf"],[3,"show"],[1,"modal-footer"]],template:function(c,e){if(1&c){var t=l.kc();l.jc(0,"p"),l.jc(1,"b"),l.Wc(2,"Note:"),l.ic(),l.Wc(3," Please assure that all the subjects included in Excel File"),l.ic(),l.jc(4,"input",0,1),l.rc("change",(function(c){return e.setSelectedFile(c)})),l.ic(),l.jc(6,"button",2),l.rc("click",(function(){return l.Mc(t),l.Ic(5).click()})),l.Wc(7,"Choose Excel File"),l.ic(),l.Wc(8," \xa0\xa0\n"),l.jc(9,"button",3),l.rc("click",(function(){return e.uploadExcel()})),l.Wc(10," Upload File"),l.ic(),l.jc(11,"div",4),l.jc(12,"div",5),l.jc(13,"div",6),l.Wc(14,"Validation Error"),l.ic(),l.jc(15,"div",7),l.rc("click",(function(){return e.modals.showRollNoModal=!1})),l.Wc(16,"\xd7"),l.ic(),l.jc(17,"div",8),l.jc(18,"h2",9),l.Wc(19,"Following roll numbers are not in Excel File.Do you want to mark them absent?"),l.ic(),l.ec(20,"div",10),l.wc(21,"safe"),l.ec(22,"br"),l.jc(23,"button",2),l.rc("click",(function(){return e.uploadExcel(!0)})),l.Wc(24,"Yes"),l.ic(),l.Wc(25," \xa0"),l.jc(26,"button",2),l.rc("click",(function(){return e.modals.showRollNoModal=!1})),l.Wc(27,"Cancel"),l.ic(),l.ic(),l.Vc(28,Lc,3,0,"div",11),l.ic(),l.ic(),l.ec(29,"loading",12)}2&c&&(l.Pb(9),l.Bc("disabled",!e.selectedFile),l.Pb(2),l.Bc("show",e.modals.showRollNoModal)("options",l.Cc(8,Qc)),l.Pb(9),l.Bc("innerHTML",l.xc(21,6,e.rollNoNotUploadedError),l.Nc),l.Pb(8),l.Bc("ngIf",!1),l.Pb(1),l.Bc("show",e.loading))},directives:[g.b,p.a,i.k,j.a],pipes:[Xc.a],styles:[""]}),zc),Hc=((Yc=function(){function c(e,t){_classCallCheck(this,c),this.coreService=e,this.dialog=t,this.loading=!1}return _createClass(c,[{key:"ngOnInit",value:function(){}},{key:"setSelectedFile",value:function(c){this.selectedFile=c.target.files[0]}},{key:"uploadFile",value:function(){var c=this,e=new FormData;e.append("pdf",this.selectedFile),e.append("examId",this.examId),e.append("studentId",this.studentId),this.loading=!0,this.coreService.uploadRequest(s.a.API_URL+"offline-exams/student-pdf",e).subscribe((function(e){c.dialog.showDialog({content:e.message}),c.loading=!1}))}}]),c}()).\u0275fac=function(c){return new(c||Yc)(l.dc(d.a),l.dc(u.a))},Yc.\u0275cmp=l.Xb({type:Yc,selectors:[["upload-student-pdf"]],inputs:{examId:"examId",studentId:"studentId"},decls:4,vars:1,consts:[["type","file",3,"change"],["mat-raised-button","","color","primary",3,"click"],[3,"show"]],template:function(c,e){1&c&&(l.jc(0,"input",0),l.rc("change",(function(c){return e.setSelectedFile(c)})),l.ic(),l.jc(1,"button",1),l.rc("click",(function(){return e.uploadFile()})),l.Wc(2,"Upload PDF"),l.ic(),l.ec(3,"loading",2)),2&c&&(l.Pb(3),l.Bc("show",e.loading))},directives:[g.b,j.a],styles:[""]}),Yc);function Kc(c,e){if(1&c){var t=l.kc();l.jc(0,"tr"),l.jc(1,"td"),l.Wc(2),l.ic(),l.jc(3,"td"),l.jc(4,"a",10),l.jc(5,"mat-icon"),l.Wc(6,"cloud_download"),l.ic(),l.ic(),l.ic(),l.jc(7,"td"),l.jc(8,"button",11),l.rc("click",(function(){l.Mc(t);var c=e.$implicit;return l.vc().uploadPDF(c)})),l.jc(9,"mat-icon"),l.Wc(10,"cloud_upload"),l.ic(),l.ic(),l.ic(),l.jc(11,"td"),l.jc(12,"button",12),l.rc("click",(function(){l.Mc(t);var c=e.$implicit;return l.vc().deleteSignedPDFEntry(c.name,c)})),l.jc(13,"mat-icon"),l.Wc(14,"delete"),l.ic(),l.ic(),l.ic(),l.jc(15,"td"),l.jc(16,"a",13),l.jc(17,"mat-icon"),l.Wc(18,"cloud_download"),l.ic(),l.ic(),l.ic(),l.jc(19,"td"),l.Wc(20),l.ic(),l.jc(21,"td"),l.jc(22,"button",12),l.rc("click",(function(){l.Mc(t);var c=e.$implicit;return l.vc().deletePDFEntry(c)})),l.jc(23,"mat-icon"),l.Wc(24,"delete"),l.ic(),l.ic(),l.ic(),l.ic()}if(2&c){var i=e.$implicit,n=l.vc();l.Pb(2),l.Xc(i.name),l.Pb(2),l.Bc("href",n.WEBSITE_URL+"uploads/student-exam-pdfs/"+i.pdfPath,l.Pc),l.Pb(4),l.Bc("disabled",i.signedPDFPath),l.Pb(8),l.Bc("href",n.WEBSITE_URL+"uploads/student-signed-pdfs/"+i.signedPDFPath,l.Pc)("disabled",!i.signedPDFPath),l.Pb(4),l.Xc(i.date)}}function Jc(c,e){if(1&c&&l.ec(0,"upload-student-pdf",14),2&c){var t=l.vc();l.Bc("examId",t.activeStudentPDF.examId)("studentId",t.activeStudentPDF.studentId)}}function Zc(c,e){if(1&c){var t=l.kc();l.jc(0,"div",15),l.jc(1,"button",16),l.rc("click",(function(){return l.Mc(t),l.vc().modals.uploadStudentModal=!1})),l.Wc(2,"Close"),l.ic(),l.ic()}}var ce,ee=function(){return{width:"50%"}},te=((ce=function(){function c(e,t){_classCallCheck(this,c),this.coreService=e,this.dialog=t,this.modals={uploadStudentModal:!1},this.loading=!0,this.studentPDFs=[],this.WEBSITE_URL=s.a.WEBSITE_URL}return _createClass(c,[{key:"ngOnInit",value:function(){this.getStudentPDFs()}},{key:"uploadPDF",value:function(c){this.activeStudentPDF=c,this.modals.uploadStudentModal=!0}},{key:"getStudentPDFs",value:function(){var c=this;this.coreService.getRequest(s.a.API_URL+"offline-exams/"+this.exam.examId+"/student-pdfs").subscribe((function(e){c.studentPDFs=e,c.loading=!1}))}},{key:"deletePDFEntry",value:function(c){var e=this;this.dialog.showDialog({content:"Are you sure to delete this Entry?",callBack:function(){e.loading=!0,e.coreService.deleteRequest(s.a.API_URL+"offline-exams/student-pdfs/"+c.id).subscribe((function(t){e.loading=!1,t.success&&e.studentPDFs.splice(e.studentPDFs.indexOf(c),1)}))}})}},{key:"deleteSignedPDFEntry",value:function(c,e){var t=this;this.dialog.showDialog({content:'Are you sure to delete Signed PDF of "'.concat(c,'" ?'),callBack:function(){t.loading=!0,t.coreService.deleteRequest(s.a.API_URL+"offline-exams/student-signed-pdfs/"+e.id).subscribe((function(c){t.loading=!1,c.success&&(e.signedPDFPath=null)}))}})}}]),c}()).\u0275fac=function(c){return new(c||ce)(l.dc(d.a),l.dc(u.a))},ce.\u0275cmp=l.Xb({type:ce,selectors:[["student-pdfs"]],inputs:{exam:"exam"},decls:27,vars:7,consts:[[1,"pinnacle-table"],[4,"ngFor","ngForOf"],["modal","",1,"modal",3,"show","options"],[1,"dialog"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],[3,"examId","studentId",4,"ngIf"],["class","modal-footer",4,"ngIf"],[3,"show"],["download","","mat-mini-fab","","color","primary",3,"href"],["mat-mini-fab","",3,"disabled","click"],["mat-mini-fab","","color","warn",3,"click"],["download","","mat-mini-fab","","color","primary",3,"href","disabled"],[3,"examId","studentId"],[1,"modal-footer"],["mat-raised-button","","color","primary",3,"click"]],template:function(c,e){1&c&&(l.jc(0,"table",0),l.jc(1,"tr"),l.jc(2,"th"),l.Wc(3,"Name"),l.ic(),l.jc(4,"th"),l.Wc(5,"PDF"),l.ic(),l.jc(6,"th"),l.Wc(7,"Upload Signed PDF"),l.ic(),l.jc(8,"th"),l.Wc(9,"Delete Signed PDF"),l.ic(),l.jc(10,"th"),l.Wc(11,"Signed PDF"),l.ic(),l.jc(12,"th"),l.Wc(13,"Date"),l.ic(),l.jc(14,"th"),l.Wc(15,"Action"),l.ic(),l.ic(),l.Vc(16,Kc,25,6,"tr",1),l.ic(),l.jc(17,"div",2),l.jc(18,"div",3),l.jc(19,"div",4),l.Wc(20,"Upload Student PDF"),l.ic(),l.jc(21,"div",5),l.rc("click",(function(){return e.modals.uploadStudentModal=!1})),l.Wc(22,"\xd7"),l.ic(),l.jc(23,"div",6),l.Vc(24,Jc,1,2,"upload-student-pdf",7),l.ic(),l.Vc(25,Zc,3,0,"div",8),l.ic(),l.ic(),l.ec(26,"loading",9)),2&c&&(l.Pb(16),l.Bc("ngForOf",e.studentPDFs),l.Pb(1),l.Bc("show",e.modals.uploadStudentModal)("options",l.Cc(6,ee)),l.Pb(7),l.Bc("ngIf",e.modals.uploadStudentModal),l.Pb(1),l.Bc("ngIf",!1),l.Pb(1),l.Bc("show",e.loading))},directives:[i.j,p.a,i.k,j.a,g.a,v.a,g.b,Hc],styles:[""]}),ce);function ie(c,e){if(1&c&&(l.jc(0,"option",31),l.Wc(1),l.ic()),2&c){var t=e.$implicit;l.Bc("value",t.courseId),l.Pb(1),l.Yc(" ",t.course," ")}}function ne(c,e){if(1&c&&(l.jc(0,"option",31),l.Wc(1),l.ic()),2&c){var t=e.$implicit;l.Bc("value",t.batchId),l.Pb(1),l.Yc(" ",t.batch," ")}}function ae(c,e){if(1&c){var t=l.kc();l.jc(0,"button",32),l.rc("click",(function(){return l.Mc(t),l.vc().modals.showAddModal=!0})),l.jc(1,"mat-icon"),l.Wc(2,"add"),l.ic(),l.Wc(3," Add "),l.ic()}}function oe(c,e){if(1&c){var t=l.kc();l.jc(0,"button",13),l.rc("click",(function(){return l.Mc(t),l.vc().modals.showAddModal=!0})),l.jc(1,"mat-icon"),l.Wc(2,"add"),l.ic(),l.Wc(3," Add "),l.ic()}}function se(c,e){1&c&&(l.jc(0,"th"),l.Wc(1,"Action"),l.ic())}function re(c,e){if(1&c&&(l.jc(0,"div",37),l.Wc(1),l.ic()),2&c){var t=e.$implicit;l.Pb(1),l.ad("",t.subject," (",t.passMarks,"/",t.totalMarks,") ")}}var le=function(c){return{disabled:c}};function de(c,e){if(1&c){var t=l.kc();l.jc(0,"a",47),l.rc("click",(function(){l.Mc(t);var c=l.vc(2).$implicit;return l.vc(2).addSubjects(c)})),l.jc(1,"span",46),l.Wc(2,"class"),l.ic(),l.Wc(3,"Add Subjects"),l.ic()}if(2&c){var i=l.vc(2).$implicit;l.Bc("ngClass",l.Dc(1,le,i.isMarksInserted))}}function ue(c,e){if(1&c){var t=l.kc();l.jc(0,"a",47),l.rc("click",(function(){l.Mc(t);var c=l.vc(2).$implicit;return l.vc(2).editSubjects(c)})),l.jc(1,"span",46),l.Wc(2,"class"),l.ic(),l.Wc(3,"Edit Subjects"),l.ic()}if(2&c){var i=l.vc(2).$implicit;l.Bc("ngClass",l.Dc(1,le,0==i.subjectDetails.length))}}function me(c,e){if(1&c){var t=l.kc();l.jc(0,"a",47),l.rc("click",(function(){l.Mc(t);var c=l.vc(2).$implicit;return l.vc(2).insertMarks(c)})),l.jc(1,"span",46),l.Wc(2,"class"),l.ic(),l.Wc(3,"Insert Marks"),l.ic()}if(2&c){var i=l.vc(2).$implicit;l.Bc("ngClass",l.Dc(1,le,0==i.subjectDetails.length||i.isMarksInserted))}}function fe(c,e){if(1&c){var t=l.kc();l.jc(0,"a",47),l.rc("click",(function(){l.Mc(t);var c=l.vc(2).$implicit;return l.vc(2).uploadExcel(c)})),l.jc(1,"span",46),l.Wc(2,"class"),l.ic(),l.Wc(3,"Upload Excel"),l.ic()}if(2&c){var i=l.vc(2).$implicit;l.Bc("ngClass",l.Dc(1,le,0==i.subjectDetails.length||i.isMarksInserted))}}function he(c,e){if(1&c){var t=l.kc();l.jc(0,"a",47),l.rc("click",(function(){l.Mc(t);var c=l.vc(2).$implicit;return l.vc(2).editMarks(c)})),l.jc(1,"span",46),l.Wc(2,"class"),l.ic(),l.Wc(3,"Edit Marks"),l.ic()}if(2&c){var i=l.vc(2).$implicit;l.Bc("ngClass",l.Dc(1,le,0==i.subjectDetails.length||!i.isMarksInserted))}}function be(c,e){if(1&c){var t=l.kc();l.jc(0,"a",45),l.rc("click",(function(){l.Mc(t);var c=l.vc(2).$implicit;return l.vc(2).editExam(c)})),l.jc(1,"span",46),l.Wc(2,"class"),l.ic(),l.Wc(3,"Edit Exam"),l.ic()}}function ge(c,e){if(1&c){var t=l.kc();l.jc(0,"a",45),l.rc("click",(function(){l.Mc(t);var c=l.vc(2).$implicit;return l.vc(2).deleteExam(c)})),l.jc(1,"span",46),l.Wc(2,"class"),l.ic(),l.Wc(3,"Delete Exam"),l.ic()}}function ve(c,e){if(1&c){var t=l.kc();l.jc(0,"a",47),l.rc("click",(function(){l.Mc(t);var c=l.vc(2).$implicit;return l.vc(2).showReports(c)})),l.jc(1,"span",46),l.Wc(2,"class"),l.ic(),l.Wc(3,"Reports"),l.ic()}if(2&c){var i=l.vc(2).$implicit;l.Bc("ngClass",l.Dc(1,le,!i.isMarksInserted))}}var pe=function(c){return{top:c}};function je(c,e){if(1&c){var t=l.kc();l.jc(0,"td"),l.jc(1,"div",38),l.Wc(2," more_vert "),l.jc(3,"div",39),l.jc(4,"div",40),l.Wc(5,"arrow_right"),l.ic(),l.jc(6,"div",41),l.jc(7,"div",42),l.Vc(8,de,4,3,"a",43),l.Vc(9,ue,4,3,"a",43),l.Vc(10,me,4,3,"a",43),l.Vc(11,fe,4,3,"a",43),l.Vc(12,he,4,3,"a",43),l.ic(),l.jc(13,"div",42),l.Vc(14,be,4,0,"a",44),l.Vc(15,ge,4,0,"a",44),l.Vc(16,ve,4,3,"a",43),l.jc(17,"a",45),l.rc("click",(function(){l.Mc(t);var c=l.vc().$implicit;return l.vc(2).viewPDFs(c)})),l.jc(18,"span",46),l.Wc(19,"class"),l.ic(),l.Wc(20,"View PDFs"),l.ic(),l.jc(21,"a",45),l.rc("click",(function(){l.Mc(t);var c=l.vc().$implicit;return l.vc(2).deletePDFs(c)})),l.jc(22,"span",46),l.Wc(23,"class"),l.ic(),l.Wc(24,"Delete PDFs"),l.ic(),l.ic(),l.ic(),l.ic(),l.ic(),l.ic()}if(2&c){var i=l.vc().index,n=l.vc(2);l.Pb(3),l.Bc("ngClass",l.Dc(9,pe,i>6)),l.Pb(5),l.Bc("ngIf",n.permissions.add_exam_subjects),l.Pb(1),l.Bc("ngIf",n.permissions.edit_exam),l.Pb(1),l.Bc("ngIf",n.permissions.insert_marks),l.Pb(1),l.Bc("ngIf",n.permissions.insert_marks),l.Pb(1),l.Bc("ngIf",n.permissions.edit_marks),l.Pb(2),l.Bc("ngIf",n.permissions.edit_exam),l.Pb(1),l.Bc("ngIf",n.permissions.delete_exam),l.Pb(1),l.Bc("ngIf",n.permissions.view_reports)}}function xe(c,e){if(1&c&&(l.jc(0,"tr"),l.jc(1,"td"),l.Wc(2),l.ic(),l.jc(3,"td"),l.Wc(4),l.ic(),l.jc(5,"td"),l.Wc(6),l.ic(),l.jc(7,"td"),l.Vc(8,re,2,3,"div",36),l.ic(),l.jc(9,"td"),l.Wc(10),l.ic(),l.Vc(11,je,25,11,"td",34),l.ic()),2&c){var t=e.$implicit,i=l.vc(2);l.Pb(2),l.Xc(t.examName),l.Pb(2),l.Xc("S"==t.category?"Subjective":"Objective"),l.Pb(2),l.Xc(t.course+" - "+t.batch),l.Pb(2),l.Bc("ngForOf",t.subjectDetails),l.Pb(2),l.Yc(" ",t.examDate," "),l.Pb(1),l.Bc("ngIf",i.isActionColumn())}}function Me(c,e){if(1&c&&(l.jc(0,"table",33),l.jc(1,"tr"),l.jc(2,"th"),l.Wc(3,"Exam Name"),l.ic(),l.jc(4,"th"),l.Wc(5,"Category"),l.ic(),l.jc(6,"th"),l.Wc(7,"Course Batch"),l.ic(),l.jc(8,"th"),l.Wc(9,"Subjects"),l.ic(),l.jc(10,"th"),l.Wc(11,"Exam Date"),l.ic(),l.Vc(12,se,2,0,"th",34),l.ic(),l.Vc(13,xe,12,6,"tr",35),l.ic()),2&c){var t=l.vc();l.Pb(12),l.Bc("ngIf",t.isActionColumn()),l.Pb(1),l.Bc("ngForOf",t.exams)}}function ke(c,e){if(1&c&&(l.jc(0,"div",48),l.Wc(1),l.ic()),2&c){var t=l.vc();l.Pb(1),l.Xc(t.noRecordsText)}}function Pe(c,e){if(1&c&&l.ec(0,"add-offline-exam",49),2&c){var t=l.vc();l.Bc("callBack",t.callBack)("modal",t.modals)}}function Ce(c,e){if(1&c){var t=l.kc();l.jc(0,"div",50),l.jc(1,"button",51),l.rc("click",(function(){return l.Mc(t),l.vc().modals.showAddModal=!1})),l.Wc(2,"Close"),l.ic(),l.ic()}}function Ie(c,e){if(1&c&&l.ec(0,"edit-offline-exam",52),2&c){var t=l.vc();l.Bc("exam",t.activeExam)("modals",t.modals)}}function we(c,e){if(1&c){var t=l.kc();l.jc(0,"div",50),l.jc(1,"button",51),l.rc("click",(function(){return l.Mc(t),l.vc().modals.showEditModal=!1})),l.Wc(2,"Close"),l.ic(),l.ic()}}function Be(c,e){if(1&c&&l.ec(0,"add-exam-subjects",52),2&c){var t=l.vc();l.Bc("exam",t.activeExam)("modals",t.modals)}}function ye(c,e){if(1&c){var t=l.kc();l.jc(0,"div",50),l.jc(1,"button",51),l.rc("click",(function(){return l.Mc(t),l.vc().modals.showSubjectsModal=!1})),l.Wc(2,"Close"),l.ic(),l.ic()}}function We(c,e){if(1&c&&l.ec(0,"edit-exam-subjects",52),2&c){var t=l.vc();l.Bc("exam",t.activeExam)("modals",t.modals)}}function Fe(c,e){if(1&c){var t=l.kc();l.jc(0,"div",50),l.jc(1,"button",51),l.rc("click",(function(){return l.Mc(t),l.vc().modals.showEditSubjectsModal=!1})),l.Wc(2,"Close"),l.ic(),l.ic()}}function Se(c,e){if(1&c&&l.ec(0,"insert-marks",52),2&c){var t=l.vc();l.Bc("exam",t.activeExam)("modals",t.modals)}}function Oe(c,e){if(1&c){var t=l.kc();l.jc(0,"div",50),l.jc(1,"button",51),l.rc("click",(function(){return l.Mc(t),l.vc().modals.showInsertModal=!1})),l.Wc(2,"Close"),l.ic(),l.ic()}}function De(c,e){if(1&c&&l.ec(0,"edit-marks",53),2&c){var t=l.vc();l.Bc("exam",t.activeExam)}}function Ee(c,e){if(1&c){var t=l.kc();l.jc(0,"div",50),l.jc(1,"button",51),l.rc("click",(function(){return l.Mc(t),l.vc().modals.editInsertModal=!1})),l.Wc(2,"Close"),l.ic(),l.ic()}}function _e(c,e){if(1&c&&l.ec(0,"offline-exam-report",54),2&c){var t=l.vc();l.Bc("reports",t.reports)("exam",t.activeExam)("subjectDetails",t.subjectDetails)}}function $e(c,e){if(1&c){var t=l.kc();l.jc(0,"div",50),l.jc(1,"button",51),l.rc("click",(function(){return l.Mc(t),l.vc().modals.reportsModal=!1})),l.Wc(2,"Close"),l.ic(),l.ic()}}function Ve(c,e){if(1&c&&l.ec(0,"upload-marks-excel",52),2&c){var t=l.vc();l.Bc("exam",t.activeExam)("modals",t.modals)}}function Re(c,e){if(1&c){var t=l.kc();l.jc(0,"div",50),l.jc(1,"button",51),l.rc("click",(function(){return l.Mc(t),l.vc().modals.showUploadModal=!1})),l.Wc(2,"Close"),l.ic(),l.ic()}}function Ae(c,e){if(1&c&&l.ec(0,"student-pdfs",53),2&c){var t=l.vc();l.Bc("exam",t.activeExam)}}function Ne(c,e){if(1&c){var t=l.kc();l.jc(0,"div",50),l.jc(1,"button",51),l.rc("click",(function(){return l.Mc(t),l.vc().modals.viewPDFsModal=!1})),l.Wc(2,"Close"),l.ic(),l.ic()}}var Ue,qe,Te=function(){return{width:"700px"}},Xe=function(){return{width:"900px"}},Le=function(){return{width:"100%"}},Ye=function(){return{width:"60%"}},ze=[{path:"",component:(Ue=function(){function c(e,t,i){_classCallCheck(this,c),this.coreService=e,this.dialog=t,this.usersService=i,this.modals={showAddModal:!1,showInsertModal:!1,editInsertModal:!1,showEditModal:!1,reportsModal:!1,showUploadModal:!1,showSubjectsModal:!1,showEditSubjectsModal:!1,viewPDFsModal:!1},this.courses=[],this.courseId="",this.batches=[],this.batchId="",this.noRecordsText="Search by Exam name, Category, Course and Batch etc.",this.exams=[],this.permissions=r.a}return _createClass(c,[{key:"ngOnInit",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function c(){return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return this.getCourses(),this.callBack=function(){},c.next=4,this.usersService.getUserPermissions();case 4:this.permissions=c.sent;case 5:case"end":return c.stop()}}),c,this)})))}},{key:"getCourses",value:function(){var c=this;this.coreService.getRequest(s.a.API_URL+"courses").subscribe((function(e){c.courses=e}))}},{key:"setBatches",value:function(){var c=this,e=this.courses.find((function(e){return e.courseId==+c.courseId}));this.batches=e?e.batches:[],this.batchId=""}},{key:"addSubjects",value:function(c){this.activeExam=c,this.modals.showSubjectsModal=!0}},{key:"editSubjects",value:function(c){this.activeExam=c,this.modals.showEditSubjectsModal=!0}},{key:"editExam",value:function(c){this.activeExam=c,this.modals.showEditModal=!0}},{key:"insertMarks",value:function(c){this.activeExam=c,this.modals.showInsertModal=!0}},{key:"uploadExcel",value:function(c){this.activeExam=c,this.modals.showUploadModal=!0}},{key:"editMarks",value:function(c){this.activeExam=c,this.modals.editInsertModal=!0}},{key:"deleteExam",value:function(c){var e=this;this.dialog.showDialog({title:"Confirm Deletion",content:'Are you sure to delete Exam "'.concat(c.examName,'" ?'),callBack:function(){e.loading=!0,e.coreService.deleteRequest(s.a.API_URL+"offline-exams/"+c.examId).subscribe((function(t){e.loading=!1,t.success&&e.exams.splice(e.exams.indexOf(c),1)}))}})}},{key:"searchExams",value:function(c,e){var t=this;c=c||null,e=e||null;var i=this.courseId||0,n=this.batchId||0;this.loading=!0,this.coreService.getRequest(s.a.API_URL+"offline-exams/".concat(c,"/").concat(e,"/").concat(i,"/").concat(n)).subscribe((function(c){t.exams=c,t.loading=!1,0==t.exams.length&&(t.noRecordsText="No Records Available")}))}},{key:"isActionColumn",value:function(){return this.permissions.edit_exam||this.permissions.delete_exam||this.permissions.view_reports||this.permissions.add_exam_subjects||this.permissions.edit_marks||this.permissions.insert_marks}},{key:"showReports",value:function(c){var e=this;this.activeExam=c,this.loading=!0,this.coreService.getRequest(s.a.API_URL+"offline-exams/"+c.examId+"/report").subscribe((function(c){e.reports=c.batches,e.subjectDetails=c.subjectDetails,e.modals.reportsModal=!0,e.loading=!1}))}},{key:"viewPDFs",value:function(c){this.activeExam=c,this.modals.viewPDFsModal=!0}},{key:"deletePDFs",value:function(c){var e=this;this.activeExam=c,this.dialog.showDialog({content:'Are you sure to delete PDFs from Exam "'.concat(c.examName,'"'),callBack:function(){e.loading=!0,e.coreService.deleteRequest(s.a.API_URL+"offline-exams/"+c.examId+"/delete-pdfs").subscribe((function(c){e.loading=!1,e.dialog.showDialog({content:c.message})}))}})}}]),c}(),Ue.\u0275fac=function(c){return new(c||Ue)(l.dc(d.a),l.dc(u.a),l.dc(m.a))},Ue.\u0275cmp=l.Xb({type:Ue,selectors:[["app-offline-exams-home"]],decls:114,vars:61,consts:[["id","page-content"],[1,"row","offline-exams-row"],["id","filter-box"],["placeholder","Exam Name",1,"input-field"],["examName",""],[1,"select"],["examCategory",""],["value",""],["value","S"],["value","O"],[1,"select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"select",3,"ngModel","ngModelChange"],["mat-raised-button","",3,"click"],["id","add-extra","mat-raised-button","",3,"click",4,"ngIf"],["id","offline-exams-action"],["mat-raised-button","",3,"click",4,"ngIf"],[1,"pinnacle-table-wrapper"],["class","pinnacle-table big-heading",4,"ngIf"],["class","no-data perfect-centered",4,"ngIf"],["modal","",1,"modal",3,"show","options"],[1,"dialog"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],[3,"callBack","modal",4,"ngIf"],["class","modal-footer",4,"ngIf"],[3,"exam","modals",4,"ngIf"],[3,"exam",4,"ngIf"],[3,"reports","exam","subjectDetails",4,"ngIf"],[3,"show"],[3,"value"],["id","add-extra","mat-raised-button","",3,"click"],[1,"pinnacle-table","big-heading"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","assigned-items",4,"ngFor","ngForOf"],[1,"assigned-items"],[1,"material-icons","action"],[1,"action-pane",3,"ngClass"],[1,"material-icons","arrow"],[1,"row"],[1,"col-sm-6"],["class","action-link",3,"ngClass","click",4,"ngIf"],["class","action-link",3,"click",4,"ngIf"],[1,"action-link",3,"click"],[1,"material-icons"],[1,"action-link",3,"ngClass","click"],[1,"no-data","perfect-centered"],[3,"callBack","modal"],[1,"modal-footer"],["mat-raised-button","","color","primary",3,"click"],[3,"exam","modals"],[3,"exam"],[3,"reports","exam","subjectDetails"]],template:function(c,e){if(1&c){var t=l.kc();l.ec(0,"admin-header"),l.ec(1,"admin-sidebar"),l.jc(2,"div",0),l.jc(3,"div",1),l.jc(4,"div",2),l.ec(5,"input",3,4),l.jc(7,"select",5,6),l.jc(9,"option",7),l.Wc(10,"Select Category"),l.ic(),l.jc(11,"option",8),l.Wc(12,"Subjective"),l.ic(),l.jc(13,"option",9),l.Wc(14,"Objective"),l.ic(),l.ic(),l.jc(15,"select",10),l.rc("ngModelChange",(function(c){return e.courseId=c}))("change",(function(){return e.setBatches()})),l.jc(16,"option",7),l.Wc(17,"Select Course"),l.ic(),l.Vc(18,ie,2,2,"option",11),l.ic(),l.jc(19,"select",12),l.rc("ngModelChange",(function(c){return e.batchId=c})),l.jc(20,"option",7),l.Wc(21,"Select Batch"),l.ic(),l.Vc(22,ne,2,2,"option",11),l.ic(),l.jc(23,"button",13),l.rc("click",(function(){l.Mc(t);var c=l.Ic(6),i=l.Ic(8);return e.searchExams(c.value,i.value)})),l.jc(24,"mat-icon"),l.Wc(25,"search"),l.ic(),l.ic(),l.Vc(26,ae,4,0,"button",14),l.ic(),l.jc(27,"div",15),l.Vc(28,oe,4,0,"button",16),l.ic(),l.ic(),l.jc(29,"div",17),l.Vc(30,Me,14,2,"table",18),l.Vc(31,ke,2,1,"div",19),l.ic(),l.ic(),l.jc(32,"div",20),l.jc(33,"div",21),l.jc(34,"div",22),l.Wc(35,"Add Exam"),l.ic(),l.jc(36,"div",23),l.rc("click",(function(){return e.modals.showAddModal=!1})),l.Wc(37,"\xd7"),l.ic(),l.jc(38,"div",24),l.Vc(39,Pe,1,2,"add-offline-exam",25),l.ic(),l.Vc(40,Ce,3,0,"div",26),l.ic(),l.ic(),l.jc(41,"div",20),l.jc(42,"div",21),l.jc(43,"div",22),l.Wc(44,"Edit Exam"),l.ic(),l.jc(45,"div",23),l.rc("click",(function(){return e.modals.showEditModal=!1})),l.Wc(46,"\xd7"),l.ic(),l.jc(47,"div",24),l.Vc(48,Ie,1,2,"edit-offline-exam",27),l.ic(),l.Vc(49,we,3,0,"div",26),l.ic(),l.ic(),l.jc(50,"div",20),l.jc(51,"div",21),l.jc(52,"div",22),l.Wc(53),l.ic(),l.jc(54,"div",23),l.rc("click",(function(){return e.modals.showSubjectsModal=!1})),l.Wc(55,"\xd7"),l.ic(),l.jc(56,"div",24),l.Vc(57,Be,1,2,"add-exam-subjects",27),l.ic(),l.Vc(58,ye,3,0,"div",26),l.ic(),l.ic(),l.jc(59,"div",20),l.jc(60,"div",21),l.jc(61,"div",22),l.Wc(62),l.ic(),l.jc(63,"div",23),l.rc("click",(function(){return e.modals.showEditSubjectsModal=!1})),l.Wc(64,"\xd7"),l.ic(),l.jc(65,"div",24),l.Vc(66,We,1,2,"edit-exam-subjects",27),l.ic(),l.Vc(67,Fe,3,0,"div",26),l.ic(),l.ic(),l.jc(68,"div",20),l.jc(69,"div",21),l.jc(70,"div",22),l.Wc(71),l.ic(),l.jc(72,"div",23),l.rc("click",(function(){return e.modals.showInsertModal=!1})),l.Wc(73,"\xd7"),l.ic(),l.jc(74,"div",24),l.Vc(75,Se,1,2,"insert-marks",27),l.ic(),l.Vc(76,Oe,3,0,"div",26),l.ic(),l.ic(),l.jc(77,"div",20),l.jc(78,"div",21),l.jc(79,"div",22),l.Wc(80),l.ic(),l.jc(81,"div",23),l.rc("click",(function(){return e.modals.editInsertModal=!1})),l.Wc(82,"\xd7"),l.ic(),l.jc(83,"div",24),l.Vc(84,De,1,1,"edit-marks",28),l.ic(),l.Vc(85,Ee,3,0,"div",26),l.ic(),l.ic(),l.jc(86,"div",20),l.jc(87,"div",21),l.jc(88,"div",22),l.Wc(89),l.ic(),l.jc(90,"div",23),l.rc("click",(function(){return e.modals.reportsModal=!1})),l.Wc(91,"\xd7"),l.ic(),l.jc(92,"div",24),l.Vc(93,_e,1,3,"offline-exam-report",29),l.ic(),l.Vc(94,$e,3,0,"div",26),l.ic(),l.ic(),l.jc(95,"div",20),l.jc(96,"div",21),l.jc(97,"div",22),l.Wc(98),l.ic(),l.jc(99,"div",23),l.rc("click",(function(){return e.modals.showUploadModal=!1})),l.Wc(100,"\xd7"),l.ic(),l.jc(101,"div",24),l.Vc(102,Ve,1,2,"upload-marks-excel",27),l.ic(),l.Vc(103,Re,3,0,"div",26),l.ic(),l.ic(),l.jc(104,"div",20),l.jc(105,"div",21),l.jc(106,"div",22),l.Wc(107),l.ic(),l.jc(108,"div",23),l.rc("click",(function(){return e.modals.viewPDFsModal=!1})),l.Wc(109,"\xd7"),l.ic(),l.jc(110,"div",24),l.Vc(111,Ae,1,1,"student-pdfs",28),l.ic(),l.Vc(112,Ne,3,0,"div",26),l.ic(),l.ic(),l.ec(113,"loading",30)}2&c&&(l.Pb(15),l.Bc("ngModel",e.courseId),l.Pb(3),l.Bc("ngForOf",e.courses),l.Pb(1),l.Bc("ngModel",e.batchId),l.Pb(3),l.Bc("ngForOf",e.batches),l.Pb(4),l.Bc("ngIf",e.permissions.new_exam),l.Pb(2),l.Bc("ngIf",e.permissions.new_exam),l.Pb(2),l.Bc("ngIf",e.exams.length>0),l.Pb(1),l.Bc("ngIf",0==e.exams.length),l.Pb(1),l.Bc("show",e.modals.showAddModal)("options",l.Cc(52,Te)),l.Pb(7),l.Bc("ngIf",e.modals.showAddModal),l.Pb(1),l.Bc("ngIf",!1),l.Pb(1),l.Bc("show",e.modals.showEditModal)("options",l.Cc(53,Te)),l.Pb(7),l.Bc("ngIf",e.modals.showEditModal),l.Pb(1),l.Bc("ngIf",!1),l.Pb(1),l.Bc("show",e.modals.showSubjectsModal)("options",l.Cc(54,Xe)),l.Pb(3),l.Yc("Add Subjects in ",e.activeExam&&e.activeExam.examName,""),l.Pb(4),l.Bc("ngIf",e.modals.showSubjectsModal),l.Pb(1),l.Bc("ngIf",!1),l.Pb(1),l.Bc("show",e.modals.showEditSubjectsModal)("options",l.Cc(55,Xe)),l.Pb(3),l.Yc("Edit Subjects in ",e.activeExam&&e.activeExam.examName,""),l.Pb(4),l.Bc("ngIf",e.modals.showEditSubjectsModal),l.Pb(1),l.Bc("ngIf",!1),l.Pb(1),l.Bc("show",e.modals.showInsertModal)("options",l.Cc(56,Le)),l.Pb(3),l.Yc("Insert marks in ",e.activeExam&&e.activeExam.examName,""),l.Pb(4),l.Bc("ngIf",e.modals.showInsertModal),l.Pb(1),l.Bc("ngIf",!1),l.Pb(1),l.Bc("show",e.modals.editInsertModal)("options",l.Cc(57,Le)),l.Pb(3),l.Yc("Edit marks in ",e.activeExam&&e.activeExam.examName,""),l.Pb(4),l.Bc("ngIf",e.modals.editInsertModal),l.Pb(1),l.Bc("ngIf",!1),l.Pb(1),l.Bc("show",e.modals.reportsModal)("options",l.Cc(58,Le)),l.Pb(3),l.Yc("Report of ",e.activeExam&&e.activeExam.examName,""),l.Pb(4),l.Bc("ngIf",e.modals.reportsModal),l.Pb(1),l.Bc("ngIf",!1),l.Pb(1),l.Bc("show",e.modals.showUploadModal)("options",l.Cc(59,Ye)),l.Pb(3),l.Yc("Insert marks in ",e.activeExam&&e.activeExam.examName,""),l.Pb(4),l.Bc("ngIf",e.modals.showUploadModal),l.Pb(1),l.Bc("ngIf",!1),l.Pb(1),l.Bc("show",e.modals.viewPDFsModal)("options",l.Cc(60,Ye)),l.Pb(3),l.Yc("View PDFs [",e.activeExam&&e.activeExam.examName+" - "+e.activeExam.course+" "+e.activeExam.course,"] "),l.Pb(4),l.Bc("ngIf",e.modals.viewPDFsModal),l.Pb(1),l.Bc("ngIf",!1),l.Pb(1),l.Bc("show",e.loading))},directives:[f.a,h.a,b.o,b.u,b.s,b.k,b.n,i.j,g.b,v.a,i.k,p.a,j.a,i.i,S,V,T,z,tc,hc,Tc,Gc,te],styles:[".offline-exams-row[_ngcontent-%COMP%]{padding-bottom:15px;justify-content:space-between}#filter-box[_ngcontent-%COMP%]{width:calc(100% - 90px);display:flex;justify-content:flex-start;flex-wrap:wrap}#offline-exams-action[_ngcontent-%COMP%]{width:90px}.input-field[_ngcontent-%COMP%], .select[_ngcontent-%COMP%]{width:170px;margin-right:10px}.pinnacle-table-wrapper[_ngcontent-%COMP%]{max-height:74vh;min-height:74vh;overflow-y:auto}.action[_ngcontent-%COMP%]{position:relative;cursor:pointer}.action-pane[_ngcontent-%COMP%]{transform:scale(0);cursor:text;position:absolute;width:300px;height:auto;background-color:#fff;box-shadow:0 0 2px #888;z-index:2;left:-300px;top:-9px;transition:all .3s}.action-pane.top[_ngcontent-%COMP%]{top:-160px}.action-pane[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]{position:absolute;right:-35px;top:-8px;font-size:60px;color:#fff;text-shadow:1px 1px 1px #888}.action-link[_ngcontent-%COMP%]{font-family:Roboto;font-size:14px;display:block;color:#777;cursor:pointer;text-decoration:none;padding:12px 10px 12px 35px;border-bottom:1px solid #f5f5f5}.action-link.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.action-link[_ngcontent-%COMP%]:hover{background:#f5f5f5}.action-link[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{position:absolute;left:15px;font-size:16px}.action-link[_ngcontent-%COMP%]:last-child{border-bottom:none}.action-pane.top[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]{top:auto;bottom:-5px}.action[_ngcontent-%COMP%]:hover   .action-pane[_ngcontent-%COMP%]{transform:scale(1)}#add-extra[_ngcontent-%COMP%]{display:none}@media screen and (max-width:1163px){#add-extra[_ngcontent-%COMP%]{display:inline-block;margin-left:10px}#offline-exams-action[_ngcontent-%COMP%]{display:none}#filter-box[_ngcontent-%COMP%]{width:100%;height:83px;align-content:space-between}.input-field[_ngcontent-%COMP%], .select[_ngcontent-%COMP%]{width:calc(25% - 10px)}}@media screen and (max-width:690px){.input-field[_ngcontent-%COMP%], .select[_ngcontent-%COMP%]{width:calc(33.33% - 10px)}}@media screen and (max-width:530px){.input-field[_ngcontent-%COMP%], .select[_ngcontent-%COMP%]{width:calc(50% - 10px)}#filter-box[_ngcontent-%COMP%]{height:120px}}"]}),Ue)}],Qe=((qe=function c(){_classCallCheck(this,c)}).\u0275mod=l.bc({type:qe}),qe.\u0275inj=l.ac({factory:function(c){return new(c||qe)},imports:[[i.c,a.a,n.f.forChild(ze)]]}),qe)}}]);