function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,s=!1,c=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(r){s=!0,c=r}finally{try{n||null==o.return||o.return()}finally{if(s)throw c}}return i}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{gZbI:function(t,e,i){"use strict";i.r(e),i.d(e,"SpecialExamsModule",(function(){return Dt}));var n,s,c=i("ofXK"),a=i("tyNb"),o=i("n+G7"),r=i("SP9e"),l=i("fXoL"),u=i("4KEQ"),h=i("QeEr"),d=i("jhN1"),p=((s=function(){function t(e){_classCallCheck(this,t),this.coreService=e}return _createClass(t,[{key:"getOMRCoordinates",value:function(t){var e=this;this.coreService.getRequest(r.a.API_URL+"omr/"+t+"/omr-coords").subscribe((function(t){e.X1=t.X1,e.X2=t.X2,e.X3=t.X3,e.Y1=t.Y1,e.Y2=t.Y2,e.Y3=t.Y3}))}},{key:"setContextInFunctions",value:function(t){this.ctx=t}},{key:"checkIsRoundFilled",value:function(t,e){var i=[];return i.push(this.isCoordinatesBlack(t,e)),i.push(this.isCoordinatesBlack(t-8,e)),i.push(this.isCoordinatesBlack(t-7,e)),i.push(this.isCoordinatesBlack(t-6,e)),i.push(this.isCoordinatesBlack(t-5,e)),i.push(this.isCoordinatesBlack(t-4,e)),i.push(this.isCoordinatesBlack(t-3,e)),i.push(this.isCoordinatesBlack(t-2,e)),i.push(this.isCoordinatesBlack(t-1,e)),i.push(this.isCoordinatesBlack(t+1,e)),i.push(this.isCoordinatesBlack(t+2,e)),i.push(this.isCoordinatesBlack(t+3,e)),i.push(this.isCoordinatesBlack(t+4,e)),i.push(this.isCoordinatesBlack(t+5,e)),i.push(this.isCoordinatesBlack(t+6,e)),i.push(this.isCoordinatesBlack(t+7,e)),i.push(this.isCoordinatesBlack(t+8,e)),i.push(this.isCoordinatesBlack(t,e-8)),i.push(this.isCoordinatesBlack(t,e-7)),i.push(this.isCoordinatesBlack(t,e-6)),i.push(this.isCoordinatesBlack(t,e-5)),i.push(this.isCoordinatesBlack(t,e-4)),i.push(this.isCoordinatesBlack(t,e-3)),i.push(this.isCoordinatesBlack(t,e-2)),i.push(this.isCoordinatesBlack(t,e-1)),i.push(this.isCoordinatesBlack(t,e+1)),i.push(this.isCoordinatesBlack(t,e+2)),i.push(this.isCoordinatesBlack(t,e+3)),i.push(this.isCoordinatesBlack(t,e+4)),i.push(this.isCoordinatesBlack(t,e+5)),i.push(this.isCoordinatesBlack(t,e+6)),i.push(this.isCoordinatesBlack(t,e+7)),i.push(this.isCoordinatesBlack(t,e+8)),i.push(this.isCoordinatesBlack(t-7,e+1)),i.push(this.isCoordinatesBlack(t-6,e+2)),i.push(this.isCoordinatesBlack(t-6,e+1)),i.push(this.isCoordinatesBlack(t-5,e+3)),i.push(this.isCoordinatesBlack(t-5,e+2)),i.push(this.isCoordinatesBlack(t-5,e+1)),i.push(this.isCoordinatesBlack(t-7,e-1)),i.push(this.isCoordinatesBlack(t-6,e-2)),i.push(this.isCoordinatesBlack(t-6,e-1)),i.push(this.isCoordinatesBlack(t-5,e-3)),i.push(this.isCoordinatesBlack(t-5,e-2)),i.push(this.isCoordinatesBlack(t-5,e-1)),i.push(this.isCoordinatesBlack(t-1,e-7)),i.push(this.isCoordinatesBlack(t-2,e-6)),i.push(this.isCoordinatesBlack(t-1,e-6)),i.push(this.isCoordinatesBlack(t-3,e-5)),i.push(this.isCoordinatesBlack(t-2,e-5)),i.push(this.isCoordinatesBlack(t-1,e-5)),i.push(this.isCoordinatesBlack(t+1,e-7)),i.push(this.isCoordinatesBlack(t+2,e-6)),i.push(this.isCoordinatesBlack(t+1,e-6)),i.push(this.isCoordinatesBlack(t+3,e-5)),i.push(this.isCoordinatesBlack(t+2,e-5)),i.push(this.isCoordinatesBlack(t+1,e-5)),i.push(this.isCoordinatesBlack(t-1,e-1)),i.push(this.isCoordinatesBlack(t-2,e-2)),i.push(this.isCoordinatesBlack(t-3,e-3)),i.push(this.isCoordinatesBlack(t-4,e-4)),i.push(this.isCoordinatesBlack(t-4,e+4)),i.push(this.isCoordinatesBlack(t-3,e+3)),i.push(this.isCoordinatesBlack(t-2,e+2)),i.push(this.isCoordinatesBlack(t-1,e+1)),i.push(this.isCoordinatesBlack(t+1,e-1)),i.push(this.isCoordinatesBlack(t+2,e-2)),i.push(this.isCoordinatesBlack(t+3,e-3)),i.push(this.isCoordinatesBlack(t+4,e-4)),i.push(this.isCoordinatesBlack(t+1,e+1)),i.push(this.isCoordinatesBlack(t+2,e+2)),i.push(this.isCoordinatesBlack(t+3,e+3)),i.push(this.isCoordinatesBlack(t+4,e+4)),i.filter((function(t){return 1==t})).length>=50}},{key:"isCoordinatesBlack",value:function(t,e){var i=this.ctx.getImageData(t,e,1,1).data,n=i[0],s=i[1],c=i[2];return Math.round(Math.sqrt(n*n*.299+s*s*.587+c*c*.114))<150}},{key:"showRGBAByXY",value:function(t,e){var i=this.ctx.getImageData(t,e,1,1).data;console.log("rgba(".concat(i[0],", ").concat(i[1],", ").concat(i[2],", ").concat(i[3]/255,") ")+t+" "+e)}},{key:"setCorners",value:function(){var t=this.getNewX1Y1(),e=this.getNewX2Y2(),i=this.getNewX3Y3();this.XN1=t.XN1,this.YN1=t.YN1,this.XN2=e.XN2,this.YN2=e.YN2,this.XN3=i.XN3,this.YN3=i.YN3}},{key:"getNewX1Y1",value:function(){for(var t=0;t<200;t++)for(var e=0;e<100;e++)if(this.isCoordinatesBlack(e,t)&&!this.isCoordinatesBlack(e,t-2)&&!this.isCoordinatesBlack(e-2,t+2)&&!this.isCoordinatesBlack(e-2,t)&&(this.isCoordinatesBlack(e+10,t)||this.isCoordinatesBlack(e,t+10))&&this.isCoordinatesBlack(e+2,t+2))return{XN1:e,YN1:t}}},{key:"getNewX2Y2",value:function(){for(var t=0;t<200;t++)for(var e=1699;e>1600;e--)if(this.isCoordinatesBlack(e,t)&&!this.isCoordinatesBlack(e,t-2)&&!this.isCoordinatesBlack(e+2,t+2)&&!this.isCoordinatesBlack(e+2,t)&&(this.isCoordinatesBlack(e-10,t)||this.isCoordinatesBlack(e,t+10))&&this.isCoordinatesBlack(e-2,t+2))return{XN2:e,YN2:t}}},{key:"getNewX3Y3",value:function(){for(var t=2199;t>2100;t--)for(var e=0;e<100;e++)if(this.isCoordinatesBlack(e,t)&&!this.isCoordinatesBlack(e,t+2)&&!this.isCoordinatesBlack(e-2,t-2)&&!this.isCoordinatesBlack(e-2,t)&&(this.isCoordinatesBlack(e+10,t)||this.isCoordinatesBlack(e,t-10))&&this.isCoordinatesBlack(e+2,t-2))return{XN3:e,YN3:t}}},{key:"findNewXCoordinates",value:function(t,e){var i=Math.sqrt(Math.pow(this.X2-this.X1,2)+Math.pow(this.Y2-this.Y1,2)),n=Math.sqrt(Math.pow(this.X3-this.X1,2)+Math.pow(this.Y3-this.Y1,2)),s=Math.sqrt(Math.pow(this.XN2-this.XN1,2)+Math.pow(this.YN2-this.YN1,2)),c=Math.sqrt(Math.pow(this.XN3-this.XN1,2)+Math.pow(this.YN3-this.YN1,2));return Math.round(((c*((e*(this.X2-this.X1)+t*(this.Y1-this.Y2)+this.X1*this.Y2-this.X2*this.Y1)/i)*s/n+this.XN2*this.YN1-this.XN1*this.YN2)*(this.XN3-this.XN1)-(c*((e*(this.X3-this.X1)+t*(this.Y1-this.Y3)+this.X1*this.Y3-this.X3*this.Y1)/n)*s/i+this.XN3*this.YN1-this.XN1*this.YN3)*(this.XN2-this.XN1))/((this.YN1-this.YN2)*(this.XN3-this.XN1)-(this.YN1-this.YN3)*(this.XN2-this.XN1)))}},{key:"findNewYCoordinates",value:function(t,e){var i=Math.sqrt(Math.pow(this.X2-this.X1,2)+Math.pow(this.Y2-this.Y1,2)),n=Math.sqrt(Math.pow(this.X3-this.X1,2)+Math.pow(this.Y3-this.Y1,2)),s=Math.sqrt(Math.pow(this.XN2-this.XN1,2)+Math.pow(this.YN2-this.YN1,2)),c=Math.sqrt(Math.pow(this.XN3-this.XN1,2)+Math.pow(this.YN3-this.YN1,2));return Math.round(((c*((e*(this.X2-this.X1)+t*(this.Y1-this.Y2)+this.X1*this.Y2-this.X2*this.Y1)/i)*s/n+this.XN2*this.YN1-this.XN1*this.YN2)*(this.YN1-this.YN3)-(c*((e*(this.X3-this.X1)+t*(this.Y1-this.Y3)+this.X1*this.Y3-this.X3*this.Y1)/n)*s/i+this.XN3*this.YN1-this.XN1*this.YN3)*(this.YN1-this.YN2))/((this.XN2-this.XN1)*(this.YN1-this.YN3)-(this.XN3-this.XN1)*(this.YN1-this.YN2)))}}]),t}()).\u0275fac=function(t){return new(t||s)(l.nc(u.a))},s.\u0275prov=l.Zb({token:s,factory:s.\u0275fac,providedIn:"root"}),s),m=((n=function(){function t(e){_classCallCheck(this,t),this.functionsService=e}return _createClass(t,[{key:"setOMR",value:function(t){this.omr=t}},{key:"getXCoords",value:function(t,e){return this.functionsService.findNewXCoordinates(t[e].x,t[e].y)}},{key:"getYCoords",value:function(t,e){return this.functionsService.findNewYCoordinates(t[e].x,t[e].y)}},{key:"getQuestionTypes",value:function(){return JSON.parse(this.omr.questionsTypes)}},{key:"getCalculatedSet",value:function(){var t=this,e=JSON.parse(this.omr.coordinates).set,i={},n="";return Object.keys(e).forEach((function(n){null!=e[n].x&&null!=e[n].y&&(i[n]=t.functionsService.checkIsRoundFilled(t.getXCoords(e,n),t.getYCoords(e,n)))})),Object.keys(i).forEach((function(t){i[t]&&(n=t[0])})),n}},{key:"getCalculatedClass",value:function(){for(var t=this,e=JSON.parse(this.omr.coordinates).class,i={},n=1;n<=2;n++)for(var s=0;s<=9;s++)i[s+"_"+n]=e[s+"_"+n];var c={};Object.keys(i).forEach((function(e){null!=i[e].x&&null!=i[e].y&&(c[e]=t.functionsService.checkIsRoundFilled(t.getXCoords(i,e),t.getYCoords(i,e)))}));var a="";return Object.keys(c).forEach((function(t){c[t]&&(a+=t[0])})),a}},{key:"getCalculatedRollNo",value:function(){for(var t=JSON.parse(this.omr.coordinates).rollNo,e=this.omr.rollNoCount,i=JSON.parse(this.omr.rollNoAlphabetsIndex).length,n=e-i,s={},c="",a=1;a<=i;a++)for(var o=65;o<=90;o++){var r=String.fromCharCode(o)+a;s[r]=t[r]}for(var l=1;l<=n;l++)for(var u=0;u<=9;u++){var h=u+"_"+l;s[h]=t[h]}var d={};for(var p in s)s[p].x&&s[p].y&&(d[p]=this.functionsService.checkIsRoundFilled(this.getXCoords(s,p),this.getYCoords(s,p)));return Object.keys(d).forEach((function(t){d[t]&&(c+=t[0])})),c}},{key:"getCalculatedName",value:function(){for(var t=JSON.parse(this.omr.coordinates).name,e={},i=this.omr.nameCharactersCount,n="",s=1;s<=i;s++)for(var c=65;c<=90;c++){var a=String.fromCharCode(c)+s;e[a]=t[a]}var o={};for(var r in e)e[r].x&&e[r].y&&(o[r]=this.functionsService.checkIsRoundFilled(this.getXCoords(e,r),this.getYCoords(e,r)));return Object.keys(o).forEach((function(t){o[t]&&(n+=t[0])})),n}},{key:"getCalculatedMobile",value:function(){for(var t=JSON.parse(this.omr.coordinates).mobile,e={},i={},n="",s=1;s<=10;s++)for(var c=0;c<=9;c++){var a=c+"_"+s;e[a]=t[a]}for(var o in e)e[o].x&&e[o].y&&(i[o]=this.functionsService.checkIsRoundFilled(this.getXCoords(e,o),this.getYCoords(e,o)));return Object.keys(i).forEach((function(t){i[t]&&(n+=t[0])})),n}},{key:"getCalculatedResponse",value:function(){var t=this,e=JSON.parse(this.omr.coordinates).response,i={};Object.keys(e).forEach((function(n,s){if(!e[n].x||!e[n].y)return i[n]=!1;i[n]=t.functionsService.checkIsRoundFilled(t.getXCoords(e,n),t.getYCoords(e,n))}));var n=Object.fromEntries(Object.entries(i).filter((function(t){return isNaN(t[0][0])}))),s=Object.fromEntries(Object.entries(i).filter((function(t){return!isNaN(t[0][0])}))),c=Array.from(new Set(Object.keys(s).map((function(t){return t.split("-")[0]})))),a={};c.forEach((function(t){for(var e=1;e<=2;e++)for(var i=0;i<=9;i++)a[t+"-"+i+"-"+e]=s[t+"-"+i+"-"+e]})),s=a;var o=[],r=[];Object.keys(n).forEach((function(t,e){n[t]&&r.push(t[0]),e%4==3&&(o.push({option:r}),r=[])}));var l="";Object.keys(s).forEach((function(t,e){s[t]&&(l+=t.split("-")[1]),(e+1)%20==0&&e+1!=0&&(o.push({option:[l]}),l="")})),console.log(JSON.stringify(o,null,2));var u=o.findIndex((function(t){return!isNaN(t.option[0])}));-1==u&&(u=o.length);var h=o.slice(0,u),d=o.slice(u),p=0;return this.integerQuestionsIndex.forEach((function(t,e){h.splice.apply(h,[t,0].concat(_toConsumableArray(d.slice(p,p+1)))),p++})),o}}]),t}()).\u0275fac=function(t){return new(t||n)(l.nc(p))},n.\u0275prov=l.Zb({token:n,factory:n.\u0275fac,providedIn:"root"}),n),g=i("kmnG"),f=i("d3UM"),v=i("3Pt+"),b=i("qFsG"),C=i("bTqV"),k=i("5+WD"),j=i("V/o5"),M=i("FKr1"),x=i("QibW"),y=i("bSwM"),I=["form"];function B(t,e){if(1&t&&l.ec(0,"mat-option",26),2&t){var i=e.$implicit;l.Bc("value",i.classId)("innerText",i.className)}}function P(t,e){if(1&t&&l.ec(0,"mat-option",26),2&t){var i=e.$implicit;l.Bc("value",i.setId)("innerText",i.setName)}}function S(t,e){if(1&t){var i=l.kc();l.jc(0,"button",28),l.rc("click",(function(){return l.Mc(i),l.vc(2).scanSheet()})),l.Wc(1," Scan"),l.ic()}}function N(t,e){if(1&t){var i=l.kc();l.jc(0,"button",28),l.rc("click",(function(){return l.Mc(i),l.vc(2).showOMRImage()})),l.Wc(1,"Show OMR"),l.ic()}}function _(t,e){if(1&t&&(l.hc(0),l.Vc(1,S,2,0,"button",27),l.Vc(2,N,2,0,"button",27),l.gc()),2&t){var i=l.vc();l.Pb(1),l.Bc("ngIf",i.isOMRDetailsFetched),l.Pb(1),l.Bc("ngIf",i.isOMRDetailsFetched)}}function w(t,e){if(1&t&&l.ec(0,"mat-option",26),2&t){var i=e.$implicit;l.Bc("value",i.className)("innerText",i.className)}}function O(t,e){if(1&t&&l.ec(0,"mat-option",26),2&t){var i=e.$implicit;l.Bc("value",i.setName)("innerText",i.setName)}}function R(t,e){if(1&t&&l.ec(0,"mat-option",31),2&t){var i=e.$implicit;l.Bc("innerText",i.stream)("value",i.stream)}}function T(t,e){if(1&t){var i=l.kc();l.jc(0,"div",10),l.jc(1,"mat-form-field"),l.jc(2,"mat-label"),l.Wc(3,"Stream"),l.ic(),l.jc(4,"mat-select",29),l.rc("ngModelChange",(function(t){return l.Mc(i),l.vc().psatData.stream=t})),l.Vc(5,R,1,2,"mat-option",30),l.ic(),l.ic(),l.ic()}if(2&t){var n=l.vc();l.Pb(4),l.Bc("ngModel",n.psatData.stream)("required",n.psatData.streams.length>0),l.Pb(1),l.Bc("ngForOf",n.psatData.streams)}}function D(t,e){if(1&t){var i=l.kc();l.jc(0,"span",35),l.rc("click",(function(){l.Mc(i);var t=l.vc().$implicit;return l.vc().resetOption(t)})),l.ic()}if(2&t){var n=l.vc().index;l.Bc("innerText",n+1)}}function X(t,e){if(1&t){var i=l.kc();l.jc(0,"mat-radio-group",36),l.rc("ngModelChange",(function(t){return l.Mc(i),l.vc().$implicit.single=t})),l.ec(1,"mat-radio-button",37),l.ec(2,"mat-radio-button",37),l.ec(3,"mat-radio-button",37),l.ec(4,"mat-radio-button",37),l.ic()}if(2&t){var n=l.vc(),s=n.$implicit;l.Bc("name","ans_"+n.index)("ngModel",s.single),l.Pb(1),l.Bc("value","A"),l.Pb(1),l.Bc("value","B"),l.Pb(1),l.Bc("value","C"),l.Pb(1),l.Bc("value","D")}}function Y(t,e){if(1&t){var i=l.kc();l.hc(0),l.jc(1,"mat-checkbox",36),l.rc("ngModelChange",(function(t){return l.Mc(i),l.vc().$implicit.multiple.option_a=t})),l.ic(),l.jc(2,"mat-checkbox",36),l.rc("ngModelChange",(function(t){return l.Mc(i),l.vc().$implicit.multiple.option_b=t})),l.ic(),l.jc(3,"mat-checkbox",36),l.rc("ngModelChange",(function(t){return l.Mc(i),l.vc().$implicit.multiple.option_c=t})),l.ic(),l.jc(4,"mat-checkbox",36),l.rc("ngModelChange",(function(t){return l.Mc(i),l.vc().$implicit.multiple.option_d=t})),l.ic(),l.gc()}if(2&t){var n=l.vc(),s=n.index,c=n.$implicit;l.Pb(1),l.Bc("name","mul-a"+s)("ngModel",c.multiple.option_a),l.Pb(1),l.Bc("name","mul-b"+s)("ngModel",c.multiple.option_b),l.Pb(1),l.Bc("name","mul-c"+s)("ngModel",c.multiple.option_c),l.Pb(1),l.Bc("name","mul-d"+s)("ngModel",c.multiple.option_d)}}function W(t,e){if(1&t){var i=l.kc();l.jc(0,"input",36),l.rc("ngModelChange",(function(t){return l.Mc(i),l.vc().$implicit.single=t})),l.ic()}if(2&t){var n=l.vc(),s=n.$implicit;l.Bc("name","ans_"+n.index)("ngModel",s.single)}}var A=function(t){return{integer:t}},q=function(){return["S","M","I"]};function F(t,e){if(1&t&&(l.jc(0,"div",32),l.Vc(1,D,1,1,"span",33),l.Vc(2,X,5,6,"mat-radio-group",34),l.Vc(3,Y,5,8,"ng-container",5),l.Vc(4,W,1,2,"input",34),l.ic()),2&t){var i=e.index,n=l.vc();l.Bc("ngClass",l.Dc(5,A,"I"==n.questionType(i))),l.Pb(1),l.Bc("ngIf",l.Cc(7,q).includes(n.questionType(i))),l.Pb(1),l.Bc("ngIf","S"==n.questionType(i)),l.Pb(1),l.Bc("ngIf","M"==n.questionType(i)),l.Pb(1),l.Bc("ngIf","I"==n.questionType(i))}}var E,V,$,L=function(t){return{display:t}},U=(($=function(){function t(e,i,n,s,c){_classCallCheck(this,t),this.coreService=e,this.dialog=i,this.sanitizer=n,this.calculateService=s,this.functionsService=c,this.loading1=!0,this.loading2=!0,this.isOMRRead=!1,this.isOMRDetailsFetched=!1,this.showOMR=!1,this.image=new Image,this.psatData={name:null,rollNo:null,mobile:null,class:null,set:null,stream:null,classes:[],sets:[],streams:[],responseSheet:[]},this.questionTypes=[],this.classes=[],this.sets=[],this.integerQuestionsIndex=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.omrImage=document.getElementById("omr-image"),V=document.getElementById("canvas"),E=V.getContext("2d"),this.functionsService.setContextInFunctions(E),this.getExamDetails(),this.getClassSetOMR(this.examId)}},{key:"getExamDetails",value:function(){var t=this;this.coreService.getRequest(r.a.API_URL+"special-exams/"+this.examId+"/details").subscribe((function(e){t.examName=e.examName,t.loading1=!1}))}},{key:"getAnswerKey",value:function(){var t=this;this.coreService.getRequest(r.a.API_URL+"special-exams/set/"+this.setId+"/answer-key").subscribe((function(e){var i=JSON.parse(e.answerKey);t.questionTypes.length=0,i.forEach((function(e){t.questionTypes.push({type:e.questionType})})),t.questionTypes.forEach((function(e,i){"I"==e.type&&t.integerQuestionsIndex.push(i)})),t.loading2=!1}))}},{key:"setOMR",value:function(){var t=this;this.loading1=!0,this.loading2=!0,this.getAnswerKey();var e=this.sets.find((function(e){return e.setId==t.setId})).omr;if(void 0===e)return this.psatData.responseSheet.length=0,this.dialog.showDialog({content:"OMR does not exists in this class and set combination."});this.calculateService.setOMR(e),this.functionsService.getOMRCoordinates(e.omrId),this.setResponseSheetOptions(e),this.isOMRDetailsFetched=!0}},{key:"getClassSetOMR",value:function(t){var e=this;this.coreService.getRequest(r.a.API_URL+"special-exams/"+t+"/class-set-stream-omr").subscribe((function(t){e.loading2=!1,e.classes=t,e.psatData.classes=_toConsumableArray(t)}))}},{key:"setSet",value:function(){var t=this;this.setId="",this.sets=[],this.psatData.responseSheet.length=0;var e=this.classes.find((function(e){return e.classId==t.classId}));e&&(this.sets=e.sets)}},{key:"questionType",value:function(t){return this.questionTypes[t]&&this.questionTypes[t].type}},{key:"showOMRImage",value:function(){this.showOMR=!0}},{key:"readImage",value:function(t){var e=this;this.isOMRRead=!1;var i=t[0];this.isFileChoosed=!0;var n=new FileReader;n.readAsDataURL(i),n.onload=function(){e.omrImageData=e.sanitizer.bypassSecurityTrustResourceUrl(n.result.toString()),e.image.src=n.result.toString(),e.image.onload=function(){E.drawImage(e.image,0,0,1700,2200),e.isOMRRead=!0,e.functionsService.setCorners()}},n.onerror=function(t){console.log("Error: ",t)}}},{key:"setSetInForm",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(this.psatData.set=null),this.psatData.streams=[];var i=this.psatData.classes.find((function(e){return e.className==t.psatData.class}));i&&(this.psatData.sets=i.sets)}},{key:"setStreamInForm",value:function(){var t=this;this.psatData.stream=null;var e=this.psatData.sets.find((function(e){return e.setName==t.psatData.set}));e&&(this.psatData.streams=e.streams)}},{key:"scanSheet",value:function(){var t=this;this.calculateService.integerQuestionsIndex=this.integerQuestionsIndex,this.psatData.name=this.calculateService.getCalculatedName(),this.psatData.mobile=this.calculateService.getCalculatedMobile(),this.psatData.rollNo=this.calculateService.getCalculatedRollNo(),this.psatData.class=this.calculateService.getCalculatedClass()+"th",this.psatData.set=this.calculateService.getCalculatedSet();var e=this.calculateService.getCalculatedResponse();this.setSetInForm(),this.setStreamInForm(),this.psatData.responseSheet.length=0,e.forEach((function(e,i){var n={option_a:null,option_b:null,option_c:null,option_d:null};n.option_a=e.option.includes("A"),n.option_b=e.option.includes("B"),n.option_c=e.option.includes("C"),n.option_d=e.option.includes("D"),t.psatData.responseSheet[i]={single:e.option[0],multiple:n}})),this.isScanClicked=!0}},{key:"setResponseSheetOptions",value:function(t){this.psatData.responseSheet.length=0;for(var e=1;e<=t.totalQuestions;e++)this.psatData.responseSheet.push({single:null,multiple:{option_a:null,option_b:null,option_c:null,option_d:null}});this.loading1=!1}},{key:"resetOption",value:function(t){t.single=null,t.multiple.option_a=null,t.multiple.option_b=null,t.multiple.option_c=null,t.multiple.option_d=null}},{key:"submit",value:function(){var t=this,e=[];this.psatData.responseSheet.forEach((function(i,n){e.push({option:[]}),"S"==t.questionTypes[n].type||"I"==t.questionTypes[n].type?i.single&&e[n].option.push(i.single):(i.multiple.option_a&&e[n].option.push("A"),i.multiple.option_b&&e[n].option.push("B"),i.multiple.option_c&&e[n].option.push("C"),i.multiple.option_d&&e[n].option.push("D"))}));var i={name:this.psatData.name,rollNo:this.psatData.rollNo,mobile:this.psatData.mobile,responseSheet:e,questionTypes:this.questionTypes,examId:this.examId},n=this.classes.find((function(e){return e.className==t.psatData.class}));i.classId=n?n.classId:null;var s=this.sets.find((function(e){return e.setName==t.psatData.set}));i.setId=s?s.setId:null;var c=this.psatData.streams.find((function(e){return e.stream==t.psatData.stream}));i.streamId=c?c.streamId:null,this.loading1=!0,this.coreService.postRequest(r.a.API_URL+"special-exams/add-data",i).subscribe((function(e){t.loading1=!1,e.success&&t.form.resetForm(),t.dialog.showDialog({content:e.message})}))}}]),t}()).\u0275fac=function(t){return new(t||$)(l.dc(u.a),l.dc(h.a),l.dc(d.b),l.dc(m),l.dc(p))},$.\u0275cmp=l.Xb({type:$,selectors:[["add-special-exam-data"]],viewQuery:function(t,e){var i;1&t&&l.cd(I,!0),2&t&&l.Hc(i=l.sc())&&(e.form=i.first)},inputs:{examId:"examId"},decls:59,vars:22,consts:[[1,"content-title"],["type","file","name","image",3,"change"],["im",""],[3,"ngModel","ngModelChange","selectionChange"],[3,"value","innerText",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"content-box"],[3,"ngSubmit"],["form","ngForm"],[1,"row"],[1,"col-sm-4"],["matInput","","name","name","required","",3,"ngModel","ngModelChange"],["matInput","","name","rollNo","required","",3,"ngModel","ngModelChange"],["matInput","","name","mobile","required","",3,"ngModel","ngModelChange"],["name","class","required","",3,"ngModel","ngModelChange","selectionChange"],["name","set","required","",3,"ngModel","ngModelChange","selectionChange"],["class","col-sm-4",4,"ngIf"],[1,"row","response-sheet"],["class","response-item",3,"ngClass",4,"ngFor","ngForOf"],["id","submit","mat-raised-button","","color","primary",3,"disabled"],["id","canvas","width","1700","height","2200",2,"display","none"],["myCanvas",""],["id","omr-sheet","cdkDrag",""],[1,"close",3,"click"],["id","omr-image",3,"src"],[3,"show"],[3,"value","innerText"],["mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","",3,"click"],["name","stream",3,"ngModel","required","ngModelChange"],[3,"innerText","value",4,"ngFor","ngForOf"],[3,"innerText","value"],[1,"response-item",3,"ngClass"],[3,"innerText","click",4,"ngIf"],[3,"name","ngModel","ngModelChange",4,"ngIf"],[3,"innerText","click"],[3,"name","ngModel","ngModelChange"],[3,"value"]],template:function(t,e){if(1&t){var i=l.kc();l.jc(0,"div",0),l.Wc(1),l.jc(2,"input",1,2),l.rc("change",(function(){l.Mc(i);var t=l.Ic(3);return e.readImage(t.files)})),l.ic(),l.jc(4,"mat-form-field"),l.jc(5,"mat-label"),l.Wc(6,"Select Class"),l.ic(),l.jc(7,"mat-select",3),l.rc("ngModelChange",(function(t){return e.classId=t}))("selectionChange",(function(){return e.setSet()})),l.Vc(8,B,1,2,"mat-option",4),l.ic(),l.ic(),l.jc(9,"mat-form-field"),l.jc(10,"mat-label"),l.Wc(11,"Select Set"),l.ic(),l.jc(12,"mat-select",3),l.rc("ngModelChange",(function(t){return e.setId=t}))("selectionChange",(function(){return e.setOMR()})),l.Vc(13,P,1,2,"mat-option",4),l.ic(),l.ic(),l.Vc(14,_,3,2,"ng-container",5),l.ic(),l.jc(15,"div",6),l.jc(16,"form",7,8),l.rc("ngSubmit",(function(){return e.submit()})),l.jc(18,"div",9),l.jc(19,"div",10),l.jc(20,"mat-form-field"),l.jc(21,"mat-label"),l.Wc(22,"Name"),l.ic(),l.jc(23,"input",11),l.rc("ngModelChange",(function(t){return e.psatData.name=t})),l.ic(),l.ic(),l.ic(),l.jc(24,"div",10),l.jc(25,"mat-form-field"),l.jc(26,"mat-label"),l.Wc(27,"Roll No."),l.ic(),l.jc(28,"input",12),l.rc("ngModelChange",(function(t){return e.psatData.rollNo=t})),l.ic(),l.ic(),l.ic(),l.jc(29,"div",10),l.jc(30,"mat-form-field"),l.jc(31,"mat-label"),l.Wc(32,"Mobile"),l.ic(),l.jc(33,"input",13),l.rc("ngModelChange",(function(t){return e.psatData.mobile=t})),l.ic(),l.ic(),l.ic(),l.jc(34,"div",10),l.jc(35,"mat-form-field"),l.jc(36,"mat-label"),l.Wc(37,"Class"),l.ic(),l.jc(38,"mat-select",14),l.rc("ngModelChange",(function(t){return e.psatData.class=t}))("selectionChange",(function(){return e.setSetInForm(!0)})),l.Vc(39,w,1,2,"mat-option",4),l.ic(),l.ic(),l.ic(),l.jc(40,"div",10),l.jc(41,"mat-form-field"),l.jc(42,"mat-label"),l.Wc(43,"Set"),l.ic(),l.jc(44,"mat-select",15),l.rc("ngModelChange",(function(t){return e.psatData.set=t}))("selectionChange",(function(){return e.setStreamInForm()})),l.Vc(45,O,1,2,"mat-option",4),l.ic(),l.ic(),l.ic(),l.Vc(46,T,6,3,"div",16),l.ic(),l.jc(47,"div",17),l.Vc(48,F,5,8,"div",18),l.ic(),l.jc(49,"button",19),l.Wc(50,"Submit"),l.ic(),l.ic(),l.ic(),l.jc(51,"canvas",20,21),l.Wc(53," Your browser does not support the HTML5 canvas tag."),l.ic(),l.jc(54,"div",22),l.jc(55,"div",23),l.rc("click",(function(){return e.showOMR=!1})),l.Wc(56,"\xd7"),l.ic(),l.ec(57,"img",24),l.ic(),l.ec(58,"loading",25)}if(2&t){var n=l.Ic(17);l.Pb(1),l.Yc("Add ",e.examName," Data "),l.Pb(6),l.Bc("ngModel",e.classId),l.Pb(1),l.Bc("ngForOf",e.classes),l.Pb(4),l.Bc("ngModel",e.setId),l.Pb(1),l.Bc("ngForOf",e.sets),l.Pb(1),l.Bc("ngIf",e.isOMRRead),l.Pb(9),l.Bc("ngModel",e.psatData.name),l.Pb(5),l.Bc("ngModel",e.psatData.rollNo),l.Pb(5),l.Bc("ngModel",e.psatData.mobile),l.Pb(5),l.Bc("ngModel",e.psatData.class),l.Pb(1),l.Bc("ngForOf",e.psatData.classes),l.Pb(5),l.Bc("ngModel",e.psatData.set),l.Pb(1),l.Bc("ngForOf",e.psatData.sets),l.Pb(1),l.Bc("ngIf",e.psatData.streams.length>0),l.Pb(2),l.Bc("ngForOf",e.psatData.responseSheet),l.Pb(1),l.Bc("disabled",n.invalid),l.Pb(5),l.Tc(l.Dc(20,L,e.showOMR?"block":"none")),l.Pb(3),l.Bc("src",e.omrImageData,l.Pc),l.Pb(1),l.Bc("show",e.loading1||e.loading2)}},directives:[g.b,g.e,f.a,v.k,v.n,c.j,c.k,v.v,v.l,v.m,b.a,v.b,v.r,C.b,k.a,j.a,M.h,c.i,x.b,x.a,y.a],styles:["[class*=col-][_ngcontent-%COMP%]{padding:0 5px}.content-title[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:200px;margin-left:10px}.content-title[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}.row.response-sheet[_ngcontent-%COMP%]{flex-direction:column;max-height:420px}.response-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:150px;margin-bottom:5px}.response-item.integer[_ngcontent-%COMP%]{justify-content:flex-start}.response-item.response-item.integer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:10px}.response-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:50px;border:2px solid;border-radius:0;outline:none;padding:5px;height:25px}.response-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:20px;text-align:center}#submit[_ngcontent-%COMP%]{margin-top:15px}#omr-sheet[_ngcontent-%COMP%]{position:absolute;max-width:500px;top:10px;left:20px;border:2px solid;z-index:4}#omr-image[_ngcontent-%COMP%]{max-width:100%;display:block}#omr-sheet[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{right:5px;top:5px}mat-checkbox[_ngcontent-%COMP%]{margin-right:-1px;margin-bottom:2px}"]}),$),J=i("mrSG");function Q(t,e){if(1&t){var i=l.kc();l.jc(0,"div",4),l.jc(1,"div",13),l.jc(2,"mat-form-field"),l.jc(3,"mat-label"),l.Wc(4,"Name"),l.ic(),l.jc(5,"input",14),l.rc("ngModelChange",(function(t){return l.Mc(i),l.vc().data.name=t})),l.ic(),l.ic(),l.ic(),l.jc(6,"div",13),l.jc(7,"mat-form-field"),l.jc(8,"mat-label"),l.Wc(9,"Roll No"),l.ic(),l.jc(10,"input",15),l.rc("ngModelChange",(function(t){return l.Mc(i),l.vc().data.rollNo=t})),l.ic(),l.ic(),l.ic(),l.jc(11,"div",13),l.jc(12,"mat-form-field"),l.jc(13,"mat-label"),l.Wc(14,"Mobile"),l.ic(),l.jc(15,"input",16),l.rc("ngModelChange",(function(t){return l.Mc(i),l.vc().data.mobile=t})),l.ic(),l.ic(),l.ic(),l.ic()}if(2&t){var n=l.vc();l.Pb(5),l.Bc("ngModel",n.data.name),l.Pb(5),l.Bc("ngModel",n.data.rollNo),l.Pb(5),l.Bc("ngModel",n.data.mobile)}}function K(t,e){if(1&t){var i=l.kc();l.jc(0,"mat-radio-group",21),l.rc("ngModelChange",(function(t){return l.Mc(i),l.vc().$implicit.single=t})),l.ec(1,"mat-radio-button",22),l.ec(2,"mat-radio-button",22),l.ec(3,"mat-radio-button",22),l.ec(4,"mat-radio-button",22),l.ic()}if(2&t){var n=l.vc(),s=n.$implicit;l.Bc("name","ans_"+n.index)("ngModel",s.single),l.Pb(1),l.Bc("value","A"),l.Pb(1),l.Bc("value","B"),l.Pb(1),l.Bc("value","C"),l.Pb(1),l.Bc("value","D")}}function H(t,e){if(1&t){var i=l.kc();l.hc(0),l.jc(1,"mat-checkbox",23),l.rc("ngModelChange",(function(t){return l.Mc(i),l.vc().$implicit.multiple.option_a=t})),l.ic(),l.jc(2,"mat-checkbox",23),l.rc("ngModelChange",(function(t){return l.Mc(i),l.vc().$implicit.multiple.option_b=t})),l.ic(),l.jc(3,"mat-checkbox",23),l.rc("ngModelChange",(function(t){return l.Mc(i),l.vc().$implicit.multiple.option_c=t})),l.ic(),l.jc(4,"mat-checkbox",23),l.rc("ngModelChange",(function(t){return l.Mc(i),l.vc().$implicit.multiple.option_d=t})),l.ic(),l.gc()}if(2&t){var n=l.vc(),s=n.index,c=n.$implicit;l.Pb(1),l.Bc("name","mul-a"+s)("ngModel",c.multiple.option_a),l.Pb(1),l.Bc("name","mul-b"+s)("ngModel",c.multiple.option_b),l.Pb(1),l.Bc("name","mul-c"+s)("ngModel",c.multiple.option_c),l.Pb(1),l.Bc("name","mul-d"+s)("ngModel",c.multiple.option_d)}}function G(t,e){if(1&t&&(l.jc(0,"div",17),l.jc(1,"span",18),l.rc("click",(function(){return e.$implicit.single=null})),l.ic(),l.Vc(2,K,5,6,"mat-radio-group",19),l.Vc(3,H,5,8,"ng-container",20),l.ic()),2&t){var i=e.index,n=l.vc();l.Pb(1),l.Bc("innerText",i+1),l.Pb(1),l.Bc("ngIf",n.showSingle(i)),l.Pb(1),l.Bc("ngIf",!n.showSingle(i))}}function z(t,e){if(1&t){var i=l.kc();l.jc(0,"button",24),l.rc("click",(function(){return l.Mc(i),l.vc().update()})),l.Wc(1,"Update"),l.ic()}}var Z,tt=((Z=function(){function t(e,i){_classCallCheck(this,t),this.coreService=e,this.dialog=i,this.filter={rollNo:null},this.responseSheet=[],this.data={name:null,rollNo:null,mobile:null,classId:null,setId:null,id:null},this.questionTypes=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.getExamDetails()}},{key:"getExamDetails",value:function(){var t=this;this.coreService.getRequest(r.a.API_URL+"special-exams/"+this.examId+"/details").subscribe((function(e){t.examName=e.examName}))}},{key:"getAnswerKey",value:function(t){return Object(J.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){i.coreService.getRequest(r.a.API_URL+"special-exams/set/"+t+"/answer-key").subscribe((function(t){var n=JSON.parse(t.answerKey);i.questionTypes.length=0,n.forEach((function(t){i.questionTypes.push({type:t.questionType})})),e(null)}))})));case 1:case"end":return e.stop()}}),e)})))}},{key:"getOMRDetails",value:function(t){return Object(J.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){i.coreService.getRequest(r.a.API_URL+"omr/omr-details/"+t).subscribe((function(t){e(i.questionTypes=JSON.parse(t.questionsTypes))}))})));case 1:case"end":return e.stop()}}),e)})))}},{key:"searchData",value:function(){var t=this;this.loading=!0,this.responseSheet=[];var e=r.a.API_URL+"special-exams/get-result-for-edit?rollNo="+encodeURIComponent(this.filter.rollNo)+"&examId="+this.examId;this.coreService.getRequest(e).subscribe((function(e){return Object(J.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.loading=!1,this.isDataAvailable=e.success,!e.success){t.next=5;break}return this.data=e.data,t.next=4,this.getAnswerKey(e.data.setId);case 4:return t.abrupt("return",this.parseData(JSON.parse(e.data.responseSheet)));case 5:this.dialog.showDialog({content:"No records found with given rollNo."});case 6:case"end":return t.stop()}}),t,this)})))}))}},{key:"showSingle",value:function(t){return this.questionTypes.length>0&&"S"==this.questionTypes[t].type}},{key:"parseData",value:function(t){var e=this,i=[];t.forEach((function(t,n){if(e.showSingle(n))i.push({single:t.option[0]});else{var s={option_a:null,option_b:null,option_c:null,option_d:null};s.option_a=t.option.includes("A"),s.option_b=t.option.includes("B"),s.option_c=t.option.includes("C"),s.option_d=t.option.includes("D"),i.push({multiple:s})}e.responseSheet=i}))}},{key:"getFinalData",value:function(){var t=this,e=[];return this.responseSheet.forEach((function(i,n){if(e.push({subject:i.subject,option:[]}),"S"==t.questionTypes[n].type||"I"==t.questionTypes[n].type)i.single&&e[n].option.push(i.single);else{if(!i.multiple)return;i.multiple.option_a&&e[n].option.push("A"),i.multiple.option_b&&e[n].option.push("B"),i.multiple.option_c&&e[n].option.push("C"),i.multiple.option_d&&e[n].option.push("D")}})),e}},{key:"update",value:function(){var t=this;this.loading=!0;var e=r.a.API_URL+"special-exams/response-sheet",i={rollNo:this.data.rollNo,name:this.data.name,id:this.data.id,classId:this.data.classId,setId:this.data.setId,mobile:this.data.mobile,responseSheet:this.getFinalData()};this.coreService.putRequest(e,i).subscribe((function(e){t.loading=!1,t.dialog.showDialog({content:e.message})}))}}]),t}()).\u0275fac=function(t){return new(t||Z)(l.dc(u.a),l.dc(h.a))},Z.\u0275cmp=l.Xb({type:Z,selectors:[["edit-data"]],inputs:{examId:"examId"},decls:20,vars:6,consts:[[1,"content-title"],[1,"content-box"],[3,"ngSubmit"],["form","ngForm"],[1,"row"],[1,"col-sm-4"],["matInput","","name","rollNo",3,"ngModel","ngModelChange"],["id","submit","mat-raised-button","","color","primary"],["class","row",4,"ngIf"],[1,"row","response-sheet"],["class","response-item",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],[3,"show"],[1,"col-sm-3"],["name","name","matInput","",3,"ngModel","ngModelChange"],["name","rollNo","matInput","",3,"ngModel","ngModelChange"],["name","mobile","matInput","",3,"ngModel","ngModelChange"],[1,"response-item"],[3,"innerText","click"],["required","",3,"name","ngModel","ngModelChange",4,"ngIf"],[4,"ngIf"],["required","",3,"name","ngModel","ngModelChange"],[3,"value"],[3,"name","ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(l.jc(0,"div",0),l.Wc(1),l.ic(),l.jc(2,"div",1),l.jc(3,"form",2,3),l.rc("ngSubmit",(function(){return e.searchData()})),l.jc(5,"div",4),l.jc(6,"div",5),l.jc(7,"mat-form-field"),l.jc(8,"mat-label"),l.Wc(9,"Roll No."),l.ic(),l.jc(10,"input",6),l.rc("ngModelChange",(function(t){return e.filter.rollNo=t})),l.ic(),l.ic(),l.ic(),l.jc(11,"div",5),l.jc(12,"button",7),l.Wc(13,"Search"),l.ic(),l.ic(),l.ic(),l.Vc(14,Q,16,3,"div",8),l.ec(15,"br"),l.ic(),l.jc(16,"div",9),l.Vc(17,G,4,3,"div",10),l.ic(),l.Vc(18,z,2,0,"button",11),l.ic(),l.ec(19,"loading",12)),2&t&&(l.Pb(1),l.Yc("Edit ",e.examName," Data"),l.Pb(9),l.Bc("ngModel",e.filter.rollNo),l.Pb(4),l.Bc("ngIf",e.isDataAvailable),l.Pb(3),l.Bc("ngForOf",e.responseSheet),l.Pb(1),l.Bc("ngIf",e.responseSheet.length),l.Pb(1),l.Bc("show",e.loading))},directives:[v.v,v.l,v.m,g.b,g.e,b.a,v.b,v.k,v.n,C.b,c.k,c.j,j.a,x.b,v.r,x.a,y.a],styles:["[class*=col-][_ngcontent-%COMP%]{padding:0 5px}.row.response-sheet[_ngcontent-%COMP%]{flex-direction:column;max-height:420px}.response-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:140px;margin-bottom:5px}.response-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:20px;text-align:center}mat-checkbox[_ngcontent-%COMP%]{margin-right:-1px;margin-bottom:2px}"]}),Z),et=i("icpI");function it(t,e){if(1&t&&(l.jc(0,"div",11),l.jc(1,"div",12),l.ec(2,"img",13),l.ic(),l.jc(3,"div",10),l.jc(4,"p"),l.jc(5,"span"),l.Wc(6,"Name:"),l.ic(),l.ec(7,"span",14),l.ic(),l.jc(8,"p"),l.jc(9,"span"),l.Wc(10,"Rank:"),l.ic(),l.ec(11,"span",14),l.ic(),l.jc(12,"p"),l.jc(13,"span"),l.Wc(14,"Marks:"),l.ic(),l.ec(15,"span",14),l.ic(),l.ic(),l.jc(16,"div",10),l.jc(17,"p"),l.jc(18,"span"),l.Wc(19,"Class:"),l.ic(),l.ec(20,"span",14),l.ic(),l.jc(21,"p"),l.jc(22,"span"),l.Wc(23,"Roll No.:"),l.ic(),l.ec(24,"span",14),l.ic(),l.ic(),l.ic()),2&t){var i=l.vc();l.Pb(7),l.Bc("innerText",i.result.name),l.Pb(4),l.Bc("innerText",i.result.rank),l.Pb(4),l.Bc("innerText",i.result.marks),l.Pb(5),l.Bc("innerText",i.result.class),l.Pb(4),l.Bc("innerText",i.result.rollNo)}}var nt,st=function(){return["Unattempted",10]},ct=function(){return["Correct",20]},at=function(){return["Wrong",4]},ot=function(t,e,i){return[t,e,i]},rt=((nt=function(){function t(e,i){var n=this;_classCallCheck(this,t),this.routes=e,this.coreService=i,this.showChart=!1,this.chartOptions={pieHole:0,legend:{position:"left"},colors:["#28a745","#1a73cc","#f44336"],sliceVisibilityThreshold:0},this.matMarks=0,this.routes.params.subscribe((function(t){n.getPSATById(t.id)}))}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"getPSATById",value:function(t){var e=this;this.coreService.getRequest(r.a.API_URL+"psat/result/"+t).subscribe((function(t){e.result=t,e.calculateMarks()}))}},{key:"calculateMarks",value:function(){var t=JSON.parse(this.result.result).filter((function(t){return"MAT"==t.subject})),e=4*t.filter((function(t){return"C"==t.status})).length,i=t.filter((function(t){return"W"==t.status})).length;this.matMarks=e-i}}]),t}()).\u0275fac=function(t){return new(t||nt)(l.dc(a.a),l.dc(u.a))},nt.\u0275cmp=l.Xb({type:nt,selectors:[["psat-analysis-report"]],inputs:{result:"result"},decls:78,vars:41,consts:[[1,"print-container"],["class","row top-row align-items-center",4,"ngIf"],[1,"row","second-row","align-items-center"],[1,"col-sm-6"],[1,"text-center"],[1,"box"],[1,"row"],[1,"chart-wrapper"],[1,"chart",3,"type","data","options"],[2,"padding-left","10px"],[1,"col-sm-4"],[1,"row","top-row","align-items-center"],[1,"col-sm-4","text-center"],["src","assets/images/logo.jpg","id","logo-img"],[3,"innerText"]],template:function(t,e){1&t&&(l.jc(0,"div",0),l.Vc(1,it,25,5,"div",1),l.jc(2,"div",2),l.jc(3,"div",3),l.jc(4,"h2",4),l.Wc(5,"SCORE AND COMPARISON"),l.ic(),l.jc(6,"table"),l.jc(7,"tr"),l.jc(8,"th"),l.Wc(9,"Subject"),l.ic(),l.jc(10,"th"),l.Wc(11,"Your Score"),l.ic(),l.jc(12,"th"),l.Wc(13,"80%ile"),l.ic(),l.jc(14,"th"),l.Wc(15,"50%ile"),l.ic(),l.ic(),l.jc(16,"tr"),l.jc(17,"td"),l.Wc(18,"MAT"),l.ic(),l.jc(19,"td"),l.Wc(20,"80"),l.ic(),l.jc(21,"td"),l.Wc(22,"19"),l.ic(),l.jc(23,"td"),l.Wc(24,"26"),l.ic(),l.ic(),l.jc(25,"tr"),l.jc(26,"td"),l.Wc(27,"Maths"),l.ic(),l.jc(28,"td"),l.Wc(29,"80"),l.ic(),l.jc(30,"td"),l.Wc(31,"19"),l.ic(),l.jc(32,"td"),l.Wc(33,"26"),l.ic(),l.ic(),l.jc(34,"tr"),l.jc(35,"td"),l.Wc(36,"Science"),l.ic(),l.jc(37,"td"),l.Wc(38,"80"),l.ic(),l.jc(39,"td"),l.Wc(40,"19"),l.ic(),l.jc(41,"td"),l.Wc(42,"26"),l.ic(),l.ic(),l.ic(),l.ic(),l.jc(43,"div",3),l.jc(44,"div",5),l.jc(45,"h2"),l.Wc(46,"Overall"),l.ic(),l.jc(47,"div",6),l.jc(48,"div",7),l.ec(49,"google-chart",8),l.ic(),l.jc(50,"div",9),l.jc(51,"b"),l.Wc(52,"Accuracy:48%"),l.ic(),l.ic(),l.ic(),l.ic(),l.ic(),l.ic(),l.jc(53,"div",6),l.jc(54,"div",10),l.jc(55,"div",5),l.jc(56,"h2"),l.Wc(57,"MAT"),l.ic(),l.jc(58,"div",7),l.ec(59,"google-chart",8),l.ic(),l.jc(60,"b"),l.Wc(61,"Accuracy:48%"),l.ic(),l.ic(),l.ic(),l.jc(62,"div",10),l.jc(63,"div",5),l.jc(64,"h2"),l.Wc(65,"Maths"),l.ic(),l.jc(66,"div",7),l.ec(67,"google-chart",8),l.ic(),l.jc(68,"b"),l.Wc(69,"Accuracy:48%"),l.ic(),l.ic(),l.ic(),l.jc(70,"div",10),l.jc(71,"div",5),l.jc(72,"h2"),l.Wc(73,"Science"),l.ic(),l.jc(74,"div",7),l.ec(75,"google-chart",8),l.ic(),l.jc(76,"b"),l.Wc(77,"Accuracy:48%"),l.ic(),l.ic(),l.ic(),l.ic(),l.ic()),2&t&&(l.Pb(1),l.Bc("ngIf",e.result),l.Pb(48),l.Bc("type","PieChart")("data",l.Fc(16,ot,l.Cc(13,st),l.Cc(14,ct),l.Cc(15,at)))("options",e.chartOptions),l.Pb(10),l.Bc("type","PieChart")("data",l.Fc(23,ot,l.Cc(20,st),l.Cc(21,ct),l.Cc(22,at)))("options",e.chartOptions),l.Pb(8),l.Bc("type","PieChart")("data",l.Fc(30,ot,l.Cc(27,st),l.Cc(28,ct),l.Cc(29,at)))("options",e.chartOptions),l.Pb(8),l.Bc("type","PieChart")("data",l.Fc(37,ot,l.Cc(34,st),l.Cc(35,ct),l.Cc(36,at)))("options",e.chartOptions))},directives:[c.k,et.a],styles:["[class*=col-][_ngcontent-%COMP%]{padding:10px 15px}.print-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background:#fff;left:0}#logo-img[_ngcontent-%COMP%]{max-width:225px}.top-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:4px}.top-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.top-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-style:italic;text-decoration:underline;font-weight:500}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%;border-collapse:collapse}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:2px solid;padding:2px 10px}.box[_ngcontent-%COMP%]{border:1px solid #00a;border-radius:20px;padding:5px 10px}.box[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{text-align:center;font-size:18px;margin-top:0;margin-bottom:0}.chart-wrapper[_ngcontent-%COMP%]{overflow:hidden;height:130px}.chart[_ngcontent-%COMP%]{width:450px;height:175px;position:relative;top:-20px;left:-55px}"]}),nt),lt=i("ZMsq");function ut(t,e){if(1&t&&l.ec(0,"mat-option",24),2&t){var i=e.$implicit;l.Bc("value",i.classId)("innerText",i.className)}}function ht(t,e){if(1&t&&l.ec(0,"mat-option",24),2&t){var i=e.$implicit;l.Bc("value",i.setId)("innerText",i.setName)}}function dt(t,e){if(1&t&&l.ec(0,"mat-option",24),2&t){var i=e.$implicit;l.Bc("value",i.streamId)("innerText",i.stream)}}function pt(t,e){if(1&t){var i=l.kc();l.jc(0,"div",5),l.jc(1,"mat-form-field"),l.jc(2,"mat-label"),l.Wc(3,"Stream"),l.ic(),l.jc(4,"mat-select",25),l.rc("ngModelChange",(function(t){return l.Mc(i),l.vc().streamId=t})),l.Vc(5,dt,1,2,"mat-option",7),l.ic(),l.ic(),l.ic()}if(2&t){var n=l.vc();l.Pb(4),l.Bc("ngModel",n.streamId),l.Pb(1),l.Bc("ngForOf",n.streams)}}function mt(t,e){if(1&t){var i=l.kc();l.jc(0,"tr"),l.jc(1,"td"),l.jc(2,"span",27),l.rc("click",(function(){l.Mc(i);var t=e.$implicit;return l.vc(2).showDetailedReport(t)})),l.ic(),l.ic(),l.ec(3,"td",28),l.ec(4,"td",28),l.ec(5,"td",28),l.ec(6,"td",28),l.ec(7,"td",28),l.ec(8,"td",28),l.ec(9,"td",28),l.ic()}if(2&t){var n=e.$implicit;l.Pb(2),l.Bc("innerText",n.name),l.Pb(1),l.Bc("innerText",n.mobile),l.Pb(1),l.Bc("innerText",n.rollNo),l.Pb(1),l.Bc("innerText",n.marks),l.Pb(1),l.Bc("innerText",n.correct),l.Pb(1),l.Bc("innerText",n.wrong),l.Pb(1),l.Bc("innerText",n.skipped),l.Pb(1),l.Bc("innerText",n.rank)}}function gt(t,e){if(1&t&&(l.jc(0,"table",26),l.jc(1,"tr"),l.jc(2,"th"),l.Wc(3,"Name"),l.ic(),l.jc(4,"th"),l.Wc(5,"Mobile"),l.ic(),l.jc(6,"th"),l.Wc(7,"Roll No."),l.ic(),l.jc(8,"th"),l.Wc(9,"Marks"),l.ic(),l.jc(10,"th"),l.Wc(11,"Correct"),l.ic(),l.jc(12,"th"),l.Wc(13,"Wrong"),l.ic(),l.jc(14,"th"),l.Wc(15,"Skipped"),l.ic(),l.jc(16,"th"),l.Wc(17,"Rank"),l.ic(),l.ic(),l.Vc(18,mt,10,8,"tr",22),l.ic()),2&t){var i=l.vc();l.Pb(18),l.Bc("ngForOf",i.results)}}function ft(t,e){if(1&t&&(l.jc(0,"tr"),l.ec(1,"td",28),l.ec(2,"td",28),l.ec(3,"td",28),l.ec(4,"td",28),l.ec(5,"td",28),l.ic()),2&t){var i=e.$implicit,n=e.index;l.Pb(1),l.Bc("innerText",n+1),l.Pb(1),l.Bc("innerText",i.subject),l.Pb(1),l.Bc("innerText",i.bonus?"Bonus":i.status),l.Pb(1),l.Bc("innerText",i.choosed),l.Pb(1),l.Bc("innerText",i.correct)}}var vt,bt=function(){return{width:"600px"}},Ct=((vt=function(){function t(e,i,n,s){_classCallCheck(this,t),this.coreService=e,this.dialog=i,this.router=n,this.routes=s,this.loading1=!0,this.loading2=!0,this.classes=[],this.classId="",this.sets=[],this.setId="",this.streams=[],this.streamId="",this.name="",this.mobile="",this.results=[],this.detailedReport=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.getClassSetStream(this.examId),this.getExamDetails()}},{key:"getExamDetails",value:function(){var t=this;this.coreService.getRequest(r.a.API_URL+"special-exams/"+this.examId+"/details").subscribe((function(e){t.examName=e.examName,t.loading1=!1}))}},{key:"getClassSetStream",value:function(t){var e=this;this.coreService.getRequest(r.a.API_URL+"special-exams/"+t+"/class-set-stream-omr").subscribe((function(t){e.classes=t,e.loading2=!1}))}},{key:"setSets",value:function(){var t=this;this.setId="",this.streamId="",this.streams=[];var e=this.classes.find((function(e){return e.classId==t.classId}));e&&(this.sets=e.sets)}},{key:"setStreams",value:function(){var t=this;this.streamId="",this.streams=[];var e=this.sets.find((function(e){return e.setId==t.setId}));e&&(this.streams=e.streams)}},{key:"showDetailedReport",value:function(t){var e=this;this.loading1=!0,this.coreService.getRequest(r.a.API_URL+"special-exams/results/"+t.id).subscribe((function(i){e.loading1=!1,e.showReport=!0,e.activeReport={mobile:t.mobile},e.detailedReport=i}))}},{key:"showAnalysisReport",value:function(t){this.router.navigate([]).then((function(e){window.open("/test/psat-result/"+t.mobile,"_blank")}))}},{key:"search",value:function(){var t=this;this.loading1=!0;for(var e=r.a.API_URL+"special-exams/results",i={classId:this.classId,setId:this.setId,streamId:this.streamId,name:this.name,mobile:this.mobile,examId:this.examId},n=[],s=0,c=Object.entries(i);s<c.length;s++){var a=_slicedToArray(c[s],2),o=a[0],l=a[1];n.push(encodeURIComponent(o)+"="+encodeURIComponent(l))}e+="?"+n.join("&"),this.coreService.getRequest(e).subscribe((function(e){t.results=e.result,t.setRank(t.results,e.myClassMarks),t.loading1=!1}))}},{key:"setRank",value:function(t,e){t.forEach((function(t){var i=e.find((function(e){return e.id==t.id}));t.rank=e.indexOf(i)+1}))}}]),t}()).\u0275fac=function(t){return new(t||vt)(l.dc(u.a),l.dc(h.a),l.dc(a.b),l.dc(a.a))},vt.\u0275cmp=l.Xb({type:vt,selectors:[["special-exams-result"]],inputs:{examId:"examId"},decls:57,vars:15,consts:[[1,"content-title"],[1,"content-box"],[3,"ngSubmit"],["searchForm","ngForm"],[1,"row","align-items-center"],[1,"col-sm-3"],["name","class",3,"ngModel","ngModelChange","selectionChange"],[3,"value","innerText",4,"ngFor","ngForOf"],["name","set",3,"ngModel","ngModelChange","selectionChange"],["class","col-sm-3",4,"ngIf"],["name","name","matInput","",3,"ngModel","ngModelChange"],["name","mobile","matInput","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"disabled"],["class","pinnacle-table big-heading ptqe-table",4,"ngIf"],["modal","",1,"modal",3,"show","options"],[1,"dialog"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],[1,"text-center"],["mat-raised-button","","color","primary",3,"click"],[1,"pinnacle-table"],[4,"ngFor","ngForOf"],[3,"show"],[3,"value","innerText"],["name","stream",3,"ngModel","ngModelChange"],[1,"pinnacle-table","big-heading","ptqe-table"],[2,"cursor","pointer",3,"innerText","click"],[3,"innerText"]],template:function(t,e){1&t&&(l.jc(0,"div",0),l.Wc(1),l.ic(),l.jc(2,"div",1),l.jc(3,"form",2,3),l.rc("ngSubmit",(function(){return e.search()})),l.jc(5,"div",4),l.jc(6,"div",5),l.jc(7,"mat-form-field"),l.jc(8,"mat-label"),l.Wc(9,"Class"),l.ic(),l.jc(10,"mat-select",6),l.rc("ngModelChange",(function(t){return e.classId=t}))("selectionChange",(function(){return e.setSets()})),l.Vc(11,ut,1,2,"mat-option",7),l.ic(),l.ic(),l.ic(),l.jc(12,"div",5),l.jc(13,"mat-form-field"),l.jc(14,"mat-label"),l.Wc(15,"Set"),l.ic(),l.jc(16,"mat-select",8),l.rc("ngModelChange",(function(t){return e.setId=t}))("selectionChange",(function(){return e.setStreams()})),l.Vc(17,ht,1,2,"mat-option",7),l.ic(),l.ic(),l.ic(),l.Vc(18,pt,6,2,"div",9),l.jc(19,"div",5),l.jc(20,"mat-form-field"),l.jc(21,"mat-label"),l.Wc(22,"Name"),l.ic(),l.jc(23,"input",10),l.rc("ngModelChange",(function(t){return e.name=t})),l.ic(),l.ic(),l.ic(),l.jc(24,"div",5),l.jc(25,"mat-form-field"),l.jc(26,"mat-label"),l.Wc(27,"Mobile"),l.ic(),l.jc(28,"input",11),l.rc("ngModelChange",(function(t){return e.mobile=t})),l.ic(),l.ic(),l.ic(),l.jc(29,"div",5),l.jc(30,"button",12),l.Wc(31,"Search"),l.ic(),l.ic(),l.ic(),l.ic(),l.ic(),l.Vc(32,gt,19,1,"table",13),l.jc(33,"div",14),l.jc(34,"div",15),l.jc(35,"div",16),l.Wc(36,"Detailed Report"),l.ic(),l.jc(37,"div",17),l.rc("click",(function(){return e.showReport=!1})),l.Wc(38,"\xd7"),l.ic(),l.jc(39,"div",18),l.jc(40,"div",19),l.jc(41,"button",20),l.rc("click",(function(){return e.showAnalysisReport(e.activeReport)})),l.Wc(42,"Analysis Report"),l.ic(),l.ic(),l.jc(43,"table",21),l.jc(44,"tr"),l.jc(45,"th"),l.Wc(46,"SNo."),l.ic(),l.jc(47,"th"),l.Wc(48,"Subject"),l.ic(),l.jc(49,"th"),l.Wc(50,"Status"),l.ic(),l.jc(51,"th"),l.Wc(52,"Your Answer"),l.ic(),l.jc(53,"th"),l.Wc(54,"Correct Answer"),l.ic(),l.ic(),l.Vc(55,ft,6,5,"tr",22),l.ic(),l.ic(),l.ic(),l.ic(),l.ec(56,"loading",23)),2&t&&(l.Pb(1),l.Yc("",e.examName," Result"),l.Pb(9),l.Bc("ngModel",e.classId),l.Pb(1),l.Bc("ngForOf",e.classes),l.Pb(5),l.Bc("ngModel",e.setId),l.Pb(1),l.Bc("ngForOf",e.sets),l.Pb(1),l.Bc("ngIf",e.streams.length>0),l.Pb(5),l.Bc("ngModel",e.name),l.Pb(5),l.Bc("ngModel",e.mobile),l.Pb(2),l.Bc("disabled",!e.classId),l.Pb(2),l.Bc("ngIf",e.results.length>0),l.Pb(1),l.Bc("show",e.showReport)("options",l.Cc(14,bt)),l.Pb(22),l.Bc("ngForOf",e.detailedReport),l.Pb(1),l.Bc("show",e.loading1||e.loading2))},directives:[v.v,v.l,v.m,g.b,g.e,f.a,v.k,v.n,c.j,c.k,b.a,v.b,C.b,lt.a,j.a,M.h],styles:["[class*=col-][_ngcontent-%COMP%]{padding:0 5px}.ptqe-table[_ngcontent-%COMP%]{margin-top:20px}"]}),vt);function kt(t,e){if(1&t&&l.ec(0,"mat-option",13),2&t){var i=e.$implicit;l.Bc("value",i.classId)("innerText",i.className)}}function jt(t,e){if(1&t&&l.ec(0,"mat-option",13),2&t){var i=e.$implicit;l.Bc("value",i.setId)("innerText",i.setName)}}function Mt(t,e){if(1&t&&l.ec(0,"mat-option",13),2&t){var i=e.$implicit;l.Bc("value",i.streamId)("innerText",i.stream)}}function xt(t,e){if(1&t){var i=l.kc();l.jc(0,"div",5),l.jc(1,"mat-form-field"),l.jc(2,"mat-label"),l.Wc(3,"Stream"),l.ic(),l.jc(4,"mat-select",14),l.rc("ngModelChange",(function(t){return l.Mc(i),l.vc().streamId=t})),l.Vc(5,Mt,1,2,"mat-option",7),l.ic(),l.ic(),l.ic()}if(2&t){var n=l.vc();l.Pb(4),l.Bc("ngModel",n.streamId)("required",n.streams.length>0),l.Pb(1),l.Bc("ngForOf",n.streams)}}var yt,It=((yt=function(){function t(e,i){_classCallCheck(this,t),this.coreService=e,this.dialog=i,this.loading1=!0,this.loading2=!0,this.classes=[],this.classId="",this.sets=[],this.setId="",this.streams=[],this.streamId=""}return _createClass(t,[{key:"ngOnInit",value:function(){this.getClassSetOMR(this.examId),this.getExamDetails()}},{key:"getExamDetails",value:function(){var t=this;this.coreService.getRequest(r.a.API_URL+"special-exams/"+this.examId+"/details").subscribe((function(e){t.examName=e.examName,t.loading1=!1}))}},{key:"getClassSetOMR",value:function(t){var e=this;this.coreService.getRequest(r.a.API_URL+"special-exams/"+t+"/class-set-stream-omr").subscribe((function(t){e.classes=t,e.loading2=!1}))}},{key:"setSet",value:function(){var t=this;this.setId="",this.sets=[],this.streamId="",this.streams=[];var e=this.classes.find((function(e){return e.classId==t.classId}));e&&(this.sets=e.sets)}},{key:"setStreams",value:function(){var t=this;this.streamId="",this.streams=[];var e=this.sets.find((function(e){return e.setId==t.setId}));e&&(this.streams=e.streams)}},{key:"regenerate",value:function(){var t=this;this.loading1=!0,this.coreService.putRequest(r.a.API_URL+"special-exams/regenerate-result",{classId:this.classId,setId:this.setId,streamId:this.streamId}).subscribe((function(e){t.loading1=!1,t.dialog.showDialog({content:e.message})}))}}]),t}()).\u0275fac=function(t){return new(t||yt)(l.dc(u.a),l.dc(h.a))},yt.\u0275cmp=l.Xb({type:yt,selectors:[["regenerate-result"]],inputs:{examId:"examId"},decls:23,vars:8,consts:[[1,"content-title"],[1,"content-box"],[3,"ngSubmit"],["reForm","ngForm"],[1,"row","align-items-center"],[1,"col-sm-4"],["name","class","required","",3,"ngModel","ngModelChange","selectionChange"],[3,"value","innerText",4,"ngFor","ngForOf"],["name","set","required","",3,"ngModel","ngModelChange","selectionChange"],["class","col-sm-4",4,"ngIf"],[1,"col-sm-3"],["mat-raised-button","","color","primary",3,"disabled"],[3,"show"],[3,"value","innerText"],["name","stream",3,"ngModel","required","ngModelChange"]],template:function(t,e){if(1&t&&(l.jc(0,"div",0),l.Wc(1),l.ic(),l.jc(2,"div",1),l.jc(3,"form",2,3),l.rc("ngSubmit",(function(){return e.regenerate()})),l.jc(5,"div",4),l.jc(6,"div",5),l.jc(7,"mat-form-field"),l.jc(8,"mat-label"),l.Wc(9,"Class"),l.ic(),l.jc(10,"mat-select",6),l.rc("ngModelChange",(function(t){return e.classId=t}))("selectionChange",(function(){return e.setSet()})),l.Vc(11,kt,1,2,"mat-option",7),l.ic(),l.ic(),l.ic(),l.jc(12,"div",5),l.jc(13,"mat-form-field"),l.jc(14,"mat-label"),l.Wc(15,"Set"),l.ic(),l.jc(16,"mat-select",8),l.rc("ngModelChange",(function(t){return e.setId=t}))("selectionChange",(function(){return e.setStreams()})),l.Vc(17,jt,1,2,"mat-option",7),l.ic(),l.ic(),l.ic(),l.Vc(18,xt,6,3,"div",9),l.jc(19,"div",10),l.jc(20,"button",11),l.Wc(21,"Regenerate"),l.ic(),l.ic(),l.ic(),l.ic(),l.ic(),l.ec(22,"loading",12)),2&t){var i=l.Ic(4);l.Pb(1),l.Yc("Regenerate ",e.examName," Result"),l.Pb(9),l.Bc("ngModel",e.classId),l.Pb(1),l.Bc("ngForOf",e.classes),l.Pb(5),l.Bc("ngModel",e.setId),l.Pb(1),l.Bc("ngForOf",e.sets),l.Pb(1),l.Bc("ngIf",e.streams.length>0),l.Pb(2),l.Bc("disabled",i.invalid),l.Pb(2),l.Bc("show",e.loading1||e.loading2)}},directives:[v.v,v.l,v.m,g.b,g.e,f.a,v.r,v.k,v.n,c.j,c.k,C.b,j.a,M.h],styles:["[class*=col-][_ngcontent-%COMP%]{padding:0 5px}"]}),yt),Bt=i("aCk2"),Pt=i("G0I0");function St(t,e){if(1&t&&l.ec(0,"add-special-exam-data",4),2&t){var i=l.vc();l.Bc("examId",i.examId)}}function Nt(t,e){if(1&t&&l.ec(0,"edit-data",4),2&t){var i=l.vc();l.Bc("examId",i.examId)}}function _t(t,e){if(1&t&&l.ec(0,"special-exams-result",4),2&t){var i=l.vc();l.Bc("examId",i.examId)}}function wt(t,e){if(1&t&&l.ec(0,"regenerate-result",4),2&t){var i=l.vc();l.Bc("examId",i.examId)}}var Ot,Rt,Tt=[{path:"",component:(Ot=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){if(sessionStorage.getItem("selectedComponent")){var t=JSON.parse(sessionStorage.getItem("selectedComponent"));this.activeComponent=t.link,this.examId=t.examId}}},{key:"showSelectedComponent",value:function(t){var e=this;this.activeComponent="",sessionStorage.setItem("selectedComponent",JSON.stringify(t)),setTimeout((function(){e.activeComponent=t.link})),this.examId=t.examId}}]),t}(),Ot.\u0275fac=function(t){return new(t||Ot)},Ot.\u0275cmp=l.Xb({type:Ot,selectors:[["app-special-exams-home"]],decls:8,vars:5,consts:[[3,"onSpecialExams"],["id","page-content"],[3,"ngSwitch"],[3,"examId",4,"ngSwitchCase"],[3,"examId"]],template:function(t,e){1&t&&(l.jc(0,"admin-header",0),l.rc("onSpecialExams",(function(t){return e.showSelectedComponent(t)})),l.ic(),l.ec(1,"admin-sidebar"),l.jc(2,"div",1),l.hc(3,2),l.Vc(4,St,1,1,"add-special-exam-data",3),l.Vc(5,Nt,1,1,"edit-data",3),l.Vc(6,_t,1,1,"special-exams-result",3),l.Vc(7,wt,1,1,"regenerate-result",3),l.gc(),l.ic()),2&t&&(l.Pb(3),l.Bc("ngSwitch",e.activeComponent),l.Pb(1),l.Bc("ngSwitchCase","add"),l.Pb(1),l.Bc("ngSwitchCase","edit"),l.Pb(1),l.Bc("ngSwitchCase","result"),l.Pb(1),l.Bc("ngSwitchCase","regenerate"))},directives:[Bt.a,Pt.a,c.m,c.n,U,tt,Ct,It],styles:[""]}),Ot)},{path:":examId",component:U},{path:":examId/edit",component:tt},{path:":examId/result",component:Ct},{path:":examId/regenerate-result",component:It},{path:"psat-analysis-report/:id",component:rt}],Dt=((Rt=function t(){_classCallCheck(this,t)}).\u0275mod=l.bc({type:Rt}),Rt.\u0275inj=l.ac({factory:function(t){return new(t||Rt)},imports:[[c.c,o.a,a.f.forChild(Tt)]]}),Rt)}}]);