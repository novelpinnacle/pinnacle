function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var c=Object.prototype.toString.call(e).slice(8,-1);return"Object"===c&&e.constructor&&(c=e.constructor.name),"Map"===c||"Set"===c?Array.from(e):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var c=0,n=new Array(t);c<t;c++)n[c]=e[c];return n}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var c=[],n=!0,i=!1,a=void 0;try{for(var r,o=e[Symbol.iterator]();!(n=(r=o.next()).done)&&(c.push(r.value),!t||c.length!==t);n=!0);}catch(s){i=!0,a=s}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return c}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var c=0;c<t.length;c++){var n=t[c];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,c){return t&&_defineProperties(e.prototype,t),c&&_defineProperties(e,c),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{"7qhN":function(e,t,c){"use strict";c.r(t),c.d(t,"UtilitiesModule",(function(){return sc}));var n,i,a=c("tyNb"),r=c("n+G7"),o=c("fXoL"),s=c("aCk2"),l=c("G0I0"),d=((n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xb({type:n,selectors:[["app-utilities-home"]],decls:3,vars:0,consts:[["id","page-content"]],template:function(e,t){1&e&&(o.ec(0,"admin-header"),o.ec(1,"admin-sidebar"),o.ec(2,"div",0))},directives:[s.a,l.a],styles:[""]}),n),u=c("SP9e"),m=c("4KEQ"),g=c("QeEr"),f=c("kmnG"),h=c("qFsG"),p=c("3Pt+"),b=c("bTqV"),v=c("V/o5"),M=((i=function(){function e(t,c){_classCallCheck(this,e),this.coreService=t,this.dialog=c,this.form={numbers:null,message:null}}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"sendSMS",value:function(){var e=this;this.loading=!0;var t="numbers="+this.form.numbers+"&message="+encodeURIComponent(this.form.message);this.coreService.urlEncodedRequest(u.a.WEBSITE_URL+"pinnacle-common-api/send-sms-by-numbers.php",t).subscribe((function(t){e.dialog.showDialog({content:t.message}),e.loading=!1}))}},{key:"isValidNumbers",value:function(){for(var e=this.form.numbers.split(","),t=new RegExp("^[0-9]{10,10}$"),c=0;c<e.length;c++)if(!t.test(e[c]))return!1;return!0}}]),e}()).\u0275fac=function(e){return new(e||i)(o.dc(m.a),o.dc(g.a))},i.\u0275cmp=o.Xb({type:i,selectors:[["app-send-smsby-numbers"]],decls:17,vars:4,consts:[["id","page-content"],[1,"content-title"],[1,"content-box"],["id","numbers","matInput","","required","",3,"ngModel","ngModelChange"],["matInput","","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"show"]],template:function(e,t){1&e&&(o.ec(0,"admin-header"),o.ec(1,"admin-sidebar"),o.jc(2,"div",0),o.jc(3,"div",1),o.Wc(4,"Send SMS By Number(s)"),o.ic(),o.jc(5,"div",2),o.jc(6,"mat-form-field"),o.jc(7,"mat-label"),o.Wc(8,"Enter mobile numbers like 7973770361,9812723799,8273897222 or just 7973770361"),o.ic(),o.jc(9,"textarea",3),o.rc("ngModelChange",(function(e){return t.form.numbers=e})),o.ic(),o.ic(),o.jc(10,"mat-form-field"),o.jc(11,"mat-label"),o.Wc(12,"Enter Message"),o.ic(),o.jc(13,"textarea",4),o.rc("ngModelChange",(function(e){return t.form.message=e})),o.ic(),o.ic(),o.jc(14,"button",5),o.rc("click",(function(){return t.sendSMS()})),o.Wc(15,"Send"),o.ic(),o.ic(),o.ic(),o.ec(16,"loading",6)),2&e&&(o.Pb(9),o.Bc("ngModel",t.form.numbers),o.Pb(4),o.Bc("ngModel",t.form.message),o.Pb(1),o.Bc("disabled",!t.form.message||!t.form.numbers||!t.isValidNumbers()),o.Pb(2),o.Bc("show",t.loading))},directives:[s.a,l.a,f.b,f.e,h.a,p.b,p.r,p.k,p.n,b.b,v.a],styles:["#numbers[_ngcontent-%COMP%]{height:200px}"]}),i),j=c("d3UM"),C=c("ofXK"),y=c("QibW"),P=c("FKr1");function k(e,t){if(1&e&&(o.jc(0,"mat-option",11),o.Wc(1),o.ic()),2&e){var c=t.$implicit;o.Bc("value",c.courseId),o.Pb(1),o.Xc(c.course)}}function x(e,t){if(1&e&&(o.jc(0,"mat-option",11),o.Wc(1),o.ic()),2&e){var c=t.$implicit;o.Bc("value",c.batchId),o.Pb(1),o.Xc(c.batch)}}var I,B=((I=function(){function e(t,c){_classCallCheck(this,e),this.coreService=t,this.dialog=c,this.form={courseId:null,batchId:null,message:null,recipient:null}}return _createClass(e,[{key:"ngOnInit",value:function(){this.getCourses()}},{key:"getCourses",value:function(){var e=this;this.coreService.getRequest(u.a.API_URL+"courses").subscribe((function(t){e.courses=t}))}},{key:"setBatches",value:function(){var e=this,t=this.courses.find((function(t){return t.courseId==e.form.courseId}));this.batches=t.batches,this.form.batchId=null}},{key:"sendSMS",value:function(){var e=this;this.loading=!0;var t="courseId="+this.form.courseId+"&batchId="+this.form.batchId+"&recipient="+this.form.recipient+"&message="+encodeURIComponent(this.form.message);this.coreService.urlEncodedRequest(u.a.WEBSITE_URL+"pinnacle-common-api/send-sms-by-batch.php",t).subscribe((function(t){e.dialog.showDialog({content:t.message}),e.loading=!1}))}}]),e}()).\u0275fac=function(e){return new(e||I)(o.dc(m.a),o.dc(g.a))},I.\u0275cmp=o.Xb({type:I,selectors:[["app-send-smsby-batch"]],decls:34,vars:11,consts:[["id","page-content"],[1,"content-title"],[1,"content-box"],["smsForm","ngForm"],["id","course"],["name","courseId","required","",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["id","batch"],["name","batchId","required","",3,"ngModel","ngModelChange"],["name","message","matInput","","required","",3,"ngModel","ngModelChange"],["name","recipient","required","",3,"ngModel","ngModelChange"],[3,"value"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"show"]],template:function(e,t){if(1&e&&(o.ec(0,"admin-header"),o.ec(1,"admin-sidebar"),o.jc(2,"div",0),o.jc(3,"div",1),o.Wc(4,"Send SMS By Batch"),o.ic(),o.jc(5,"div",2),o.jc(6,"form",null,3),o.jc(8,"mat-form-field",4),o.jc(9,"mat-label"),o.Wc(10,"Select Course"),o.ic(),o.jc(11,"mat-select",5),o.rc("ngModelChange",(function(e){return t.form.courseId=e}))("selectionChange",(function(){return t.setBatches()})),o.Vc(12,k,2,2,"mat-option",6),o.ic(),o.ic(),o.jc(13,"mat-form-field",7),o.jc(14,"mat-label"),o.Wc(15,"Select Batch"),o.ic(),o.jc(16,"mat-select",8),o.rc("ngModelChange",(function(e){return t.form.batchId=e})),o.Vc(17,x,2,2,"mat-option",6),o.ic(),o.ic(),o.jc(18,"mat-form-field"),o.jc(19,"mat-label"),o.Wc(20,"Enter Message"),o.ic(),o.jc(21,"textarea",9),o.rc("ngModelChange",(function(e){return t.form.message=e})),o.ic(),o.ic(),o.jc(22,"div"),o.Wc(23,"Send SMS To"),o.ic(),o.jc(24,"mat-radio-group",10),o.rc("ngModelChange",(function(e){return t.form.recipient=e})),o.jc(25,"mat-radio-button",11),o.Wc(26,"Parent"),o.ic(),o.jc(27,"mat-radio-button",11),o.Wc(28,"Student"),o.ic(),o.jc(29,"mat-radio-button",11),o.Wc(30,"Both"),o.ic(),o.ic(),o.jc(31,"button",12),o.rc("click",(function(){return t.sendSMS()})),o.Wc(32,"Send"),o.ic(),o.ic(),o.ic(),o.ic(),o.ec(33,"loading",13)),2&e){var c=o.Ic(7);o.Pb(11),o.Bc("ngModel",t.form.courseId),o.Pb(1),o.Bc("ngForOf",t.courses),o.Pb(4),o.Bc("ngModel",t.form.batchId),o.Pb(1),o.Bc("ngForOf",t.batches),o.Pb(4),o.Bc("ngModel",t.form.message),o.Pb(3),o.Bc("ngModel",t.form.recipient),o.Pb(1),o.Bc("value","Parent"),o.Pb(2),o.Bc("value","Student"),o.Pb(2),o.Bc("value","Both"),o.Pb(2),o.Bc("disabled",c.invalid),o.Pb(2),o.Bc("show",t.loading)}},directives:[s.a,l.a,p.v,p.l,p.m,f.b,f.e,j.a,p.r,p.k,p.n,C.j,h.a,p.b,y.b,y.a,b.b,v.a,P.h],styles:["#batch[_ngcontent-%COMP%], #course[_ngcontent-%COMP%]{width:200px;margin-right:10px}.mat-radio-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:300px;margin-top:10px;margin-bottom:15px}"]}),I),w=c("CGWC");function O(e,t){if(1&e&&(o.jc(0,"option",12),o.Wc(1),o.ic()),2&e){var c=t.$implicit;o.Bc("value",c.courseId),o.Pb(1),o.Xc(c.course)}}function T(e,t){if(1&e&&(o.jc(0,"option",12),o.Wc(1),o.ic()),2&e){var c=t.$implicit;o.Bc("value",c.batchId),o.Pb(1),o.Xc(c.batch)}}function W(e,t){if(1&e&&(o.jc(0,"th"),o.Wc(1),o.ic()),2&e){var c=t.$implicit;o.Pb(1),o.Xc(c.subject+" ("+c.cnt+")")}}function R(e,t){if(1&e&&(o.jc(0,"td"),o.jc(1,"div",16),o.jc(2,"div",17),o.Wc(3),o.ic(),o.ic(),o.ic()),2&e){var c=t.$implicit,n=o.vc().$implicit,i=o.vc(2);o.Pb(2),o.Uc("width",i.getStudentWatchPercentage(n.data,c.onlineLectureIds,c.cnt)+"%"),o.Pb(1),o.Yc(" ",i.getStudentWatchedCount(n.data,c.onlineLectureIds)," ")}}function S(e,t){if(1&e&&(o.jc(0,"tr"),o.jc(1,"td"),o.Wc(2),o.ic(),o.jc(3,"td"),o.Wc(4),o.ic(),o.Vc(5,R,4,3,"td",15),o.ic()),2&e){var c=t.$implicit,n=o.vc(2);o.Pb(2),o.Xc(c.name),o.Pb(2),o.Xc(c.rollNo),o.Pb(1),o.Bc("ngForOf",n.subjectsData)}}function _(e,t){if(1&e&&(o.jc(0,"div",13),o.jc(1,"table",14),o.jc(2,"tr"),o.jc(3,"th"),o.Wc(4,"Name"),o.ic(),o.jc(5,"th"),o.Wc(6,"Roll No"),o.ic(),o.Vc(7,W,2,1,"th",15),o.ic(),o.Vc(8,S,6,3,"tr",15),o.ic(),o.ic()),2&e){var c=o.vc();o.Pb(7),o.Bc("ngForOf",c.subjectsData),o.Pb(1),o.Bc("ngForOf",c.candidatesData)}}function F(e,t){if(1&e&&(o.ec(0,"div",18),o.wc(1,"safe")),2&e){var c=o.vc();o.Bc("innerHTML",o.xc(1,1,c.defaultEmptyMessage),o.Nc)}}var N,A=((N=function(){function e(t,c){_classCallCheck(this,e),this.coreService=t,this.dialog=c,this.defaultEmptyMessage="Please search by Course &amp; Batch",this.courseId="",this.batchId="",this.subjectsData=[],this.candidatesData=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getCourses()}},{key:"getCourses",value:function(){var e=this;this.loading=!0,this.coreService.getRequest(u.a.API_URL+"courses").subscribe((function(t){e.courses=t,e.loading=!1}))}},{key:"setBatches",value:function(){var e=this,t=this.courses.find((function(t){return t.courseId==+e.courseId}));t&&(this.batches=t.batches,this.batchId="")}},{key:"search",value:function(){var e=this;this.loading=!0,this.coreService.getRequest(u.a.API_URL+"online-lectures/finished-by-students/"+this.batchId).subscribe((function(t){e.loading=!1,e.subjectsData=t.subjectsData,e.candidatesData=t.candidatesData,0==e.candidatesData.length&&(e.defaultEmptyMessage="No records found")}))}},{key:"getStudentWatchedCount",value:function(e,t){return e?(e=(e=e.split(",")).filter((function(e){return e})),(t=(t=t.split(",")).filter((function(e){return e}))).filter((function(t){return e.includes(t)})).length):0}},{key:"getStudentWatchPercentage",value:function(e,t,c){var n=this.getStudentWatchedCount(e,t)/c*100;return n=+n.toFixed(2)}}]),e}()).\u0275fac=function(e){return new(e||N)(o.dc(m.a),o.dc(g.a))},N.\u0275cmp=o.Xb({type:N,selectors:[["app-finished-lectures"]],decls:19,vars:8,consts:[["id","page-content"],[1,"row","finished-row"],[1,"row"],["form","ngForm"],["name","course","required","",1,"select",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["name","batch","required","",1,"select",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"disabled","click"],["class","pinnacle-table-wrapper",4,"ngIf"],["class","no-data perfect-centered",3,"innerHTML",4,"ngIf"],[3,"show"],[3,"value"],[1,"pinnacle-table-wrapper"],[1,"pinnacle-table"],[4,"ngFor","ngForOf"],[1,"progress"],[1,"progress-bar"],[1,"no-data","perfect-centered",3,"innerHTML"]],template:function(e,t){if(1&e&&(o.ec(0,"admin-header"),o.ec(1,"admin-sidebar"),o.jc(2,"div",0),o.jc(3,"div",1),o.jc(4,"form",2,3),o.jc(6,"select",4),o.rc("ngModelChange",(function(e){return t.courseId=e}))("change",(function(){return t.setBatches()})),o.jc(7,"option",5),o.Wc(8,"Select Course"),o.ic(),o.Vc(9,O,2,2,"option",6),o.ic(),o.jc(10,"select",7),o.rc("ngModelChange",(function(e){return t.batchId=e})),o.jc(11,"option",5),o.Wc(12,"Select Batch"),o.ic(),o.Vc(13,T,2,2,"option",6),o.ic(),o.jc(14,"button",8),o.rc("click",(function(){return t.search()})),o.Wc(15,"Search"),o.ic(),o.ic(),o.ic(),o.Vc(16,_,9,2,"div",9),o.Vc(17,F,2,3,"div",10),o.ic(),o.ec(18,"loading",11)),2&e){var c=o.Ic(5);o.Pb(6),o.Bc("ngModel",t.courseId),o.Pb(3),o.Bc("ngForOf",t.courses),o.Pb(1),o.Bc("ngModel",t.batchId),o.Pb(3),o.Bc("ngForOf",t.batches),o.Pb(1),o.Bc("disabled",c.invalid),o.Pb(2),o.Bc("ngIf",t.candidatesData.length>0),o.Pb(1),o.Bc("ngIf",0==t.candidatesData.length),o.Pb(1),o.Bc("show",t.loading)}},directives:[s.a,l.a,p.v,p.l,p.m,p.s,p.r,p.k,p.n,p.o,p.u,C.j,b.b,C.k,v.a],pipes:[w.a],styles:[".select[_ngcontent-%COMP%]{width:200px;margin-right:10px}.finished-row[_ngcontent-%COMP%]{padding-bottom:15px}.progress[_ngcontent-%COMP%]{width:100%;height:20px;background:#f1f1f1;border-radius:4px}.progress-bar[_ngcontent-%COMP%]{background:var(--primary-bg-color-light);height:100%;border-radius:4px;color:#fff;text-align:center}@media screen and (max-width:516px){form[_ngcontent-%COMP%]{justify-content:space-between;width:100%;height:83px;align-content:space-between}.select[_ngcontent-%COMP%]{width:calc(50% - 5px);margin-right:0}}"]}),N),q=c("bSwM"),E=["referenceImageSRC"],$=["referenceImageTarget"];function V(e,t){if(1&e){var c=o.kc();o.hc(0),o.jc(1,"div",47),o.ec(2,"span",48),o.ec(3,"br"),o.jc(4,"mat-checkbox",49),o.rc("change",(function(e){o.Mc(c);var n=t.index;return o.vc(2).setRollNoIndex(n+1,e.checked)})),o.ic(),o.ic(),o.gc()}if(2&e){var n=t.index,i=o.vc(2);o.Pb(2),o.Bc("innerText",n+1),o.Pb(2),o.Bc("checked",i.step1.rollNoAlphabetsIndex.includes(n+1))}}function D(e,t){if(1&e&&(o.hc(0),o.ec(1,"br"),o.jc(2,"p"),o.Wc(3,"Please choose the Alphabets in Roll No."),o.ic(),o.Vc(4,V,5,2,"ng-container",46),o.gc()),2&e){var c=o.vc();o.Pb(4),o.Bc("ngForOf",c.createRange(c.step1.rollNoCount-0))}}function K(e,t){if(1&e){var c=o.kc();o.hc(0),o.jc(1,"div",50),o.ec(2,"div",51),o.jc(3,"mat-radio-group",52),o.rc("ngModelChange",(function(e){return o.Mc(c),t.$implicit.type=e})),o.jc(4,"mat-radio-button",53),o.Wc(5,"Single"),o.ic(),o.jc(6,"mat-radio-button",53),o.Wc(7,"Multi"),o.ic(),o.jc(8,"mat-radio-button",53),o.Wc(9,"Integer"),o.ic(),o.ic(),o.ic(),o.gc()}if(2&e){var n=t.$implicit,i=t.index;o.Pb(2),o.Bc("innerText",i+1),o.Pb(1),o.Bc("ngModel",n.type),o.Pb(1),o.Bc("value","S"),o.Pb(2),o.Bc("value","M"),o.Pb(2),o.Bc("value","I")}}function L(e,t){if(1&e&&(o.hc(0),o.jc(1,"p"),o.Wc(2,"Please set Question Type"),o.ic(),o.Vc(3,K,10,5,"ng-container",46),o.gc()),2&e){var c=o.vc();o.Pb(3),o.Bc("ngForOf",c.step3.questionsTypes)}}function X(e,t){if(1&e){var c=o.kc();o.jc(0,"div",54),o.jc(1,"h3"),o.Wc(2,"Mark OMR Reference Points "),o.ic(),o.jc(3,"button",55),o.rc("click",(function(){return o.Mc(c),o.vc().setForMark("omr","X1Y1")})),o.Wc(4,"First Corner"),o.ic(),o.jc(5,"button",55),o.rc("click",(function(){return o.Mc(c),o.vc().setForMark("omr","X2Y2")})),o.Wc(6,"Second Corner"),o.ic(),o.jc(7,"button",55),o.rc("click",(function(){return o.Mc(c),o.vc().setForMark("omr","X3Y3")})),o.Wc(8,"Third Corner"),o.ic(),o.ic()}if(2&e){var n=o.vc();o.Pb(3),o.Bc("color",n.isCoordinatesMarked("omr","X1Y1")?"primary":n.isCurrentMark("omr","X1Y1")?"warn":""),o.Pb(2),o.Bc("color",n.isCoordinatesMarked("omr","X2Y2")?"primary":n.isCurrentMark("omr","X2Y2")?"warn":""),o.Pb(2),o.Bc("color",n.isCoordinatesMarked("omr","X3Y3")?"primary":n.isCurrentMark("omr","X3Y3")?"warn":"")}}function U(e,t){if(1&e){var c=o.kc();o.jc(0,"div"),o.jc(1,"button",58),o.rc("click",(function(){o.Mc(c);var e=t.$implicit;return o.vc(3).setForMark("name",e)})),o.ic(),o.ic()}if(2&e){var n=t.$implicit,i=o.vc(3);o.Pb(1),o.Bc("color",i.isCoordinatesMarked("name",n)?"primary":i.isCurrentMark("name",n)?"warn":"")("innerText",n)}}function Y(e,t){if(1&e&&(o.jc(0,"div",57),o.Vc(1,U,2,2,"div",46),o.ic()),2&e){var c=o.vc(2);o.Pb(1),o.Bc("ngForOf",c.objectKeys(c.coordinates.name))}}function Q(e,t){if(1&e&&(o.hc(0),o.jc(1,"h3"),o.Wc(2,"Mark Name Reference Points"),o.ic(),o.Vc(3,Y,2,1,"div",56),o.gc()),2&e){var c=o.vc();o.Pb(3),o.Bc("ngIf",c.coordinates)}}function H(e,t){if(1&e){var c=o.kc();o.hc(0),o.jc(1,"button",58),o.rc("click",(function(){o.Mc(c);var e=t.$implicit;return o.vc(3).setForMark("class",e)})),o.ic(),o.gc()}if(2&e){var n=t.$implicit,i=o.vc(3);o.Pb(1),o.Bc("color",i.isCoordinatesMarked("class",n)?"primary":i.isCurrentMark("class",n)?"warn":"")("innerText",n.replace("_","-"))}}function z(e,t){if(1&e&&(o.jc(0,"div",12),o.Vc(1,H,2,2,"ng-container",46),o.ic()),2&e){var c=o.vc(2);o.Pb(1),o.Bc("ngForOf",c.objectKeys(c.coordinates.class))}}function J(e,t){if(1&e&&(o.hc(0),o.jc(1,"h3"),o.Wc(2,"Mark Class Reference Points"),o.ic(),o.Vc(3,z,2,1,"div",59),o.gc()),2&e){var c=o.vc();o.Pb(3),o.Bc("ngIf",c.coordinates)}}function G(e,t){if(1&e){var c=o.kc();o.hc(0),o.jc(1,"button",58),o.rc("click",(function(){o.Mc(c);var e=t.$implicit;return o.vc(3).setForMark("set",e)})),o.ic(),o.gc()}if(2&e){var n=t.$implicit,i=o.vc(3);o.Pb(1),o.Bc("color",i.isCoordinatesMarked("set",n)?"primary":i.isCurrentMark("set",n)?"warn":"")("innerText",n)}}function Z(e,t){if(1&e&&(o.jc(0,"div",12),o.Vc(1,G,2,2,"ng-container",46),o.ic()),2&e){var c=o.vc(2);o.Pb(1),o.Bc("ngForOf",c.objectKeys(c.coordinates.set))}}function ee(e,t){if(1&e&&(o.hc(0),o.jc(1,"h3"),o.Wc(2,"Mark Set Reference Points"),o.ic(),o.Vc(3,Z,2,1,"div",59),o.gc()),2&e){var c=o.vc();o.Pb(3),o.Bc("ngIf",c.coordinates)}}function te(e,t){if(1&e){var c=o.kc();o.hc(0),o.jc(1,"button",58),o.rc("click",(function(){o.Mc(c);var e=t.$implicit;return o.vc(3).setForMark("rollNo",e)})),o.ic(),o.gc()}if(2&e){var n=t.$implicit,i=o.vc(3);o.Pb(1),o.Bc("color",i.isCoordinatesMarked("rollNo",n)?"primary":i.isCurrentMark("rollNo",n)?"warn":"")("innerText",n.replace("_","-"))}}function ce(e,t){if(1&e&&(o.jc(0,"div",12),o.Vc(1,te,2,2,"ng-container",46),o.ic()),2&e){var c=o.vc(2);o.Pb(1),o.Bc("ngForOf",c.objectKeys(c.coordinates.rollNo))}}function ne(e,t){if(1&e&&(o.hc(0),o.jc(1,"h3"),o.Wc(2,"Mark RollNo Reference Points"),o.ic(),o.Vc(3,ce,2,1,"div",59),o.gc()),2&e){var c=o.vc();o.Pb(3),o.Bc("ngIf",c.coordinates)}}function ie(e,t){if(1&e){var c=o.kc();o.hc(0),o.jc(1,"button",58),o.rc("click",(function(){o.Mc(c);var e=t.$implicit;return o.vc(3).setForMark("mobile",e)})),o.ic(),o.gc()}if(2&e){var n=t.$implicit,i=o.vc(3);o.Pb(1),o.Bc("color",i.isCoordinatesMarked("mobile",n)?"primary":i.isCurrentMark("mobile",n)?"warn":"")("innerText",n.replace("_","-"))}}function ae(e,t){if(1&e&&(o.jc(0,"div",12),o.Vc(1,ie,2,2,"ng-container",46),o.ic()),2&e){var c=o.vc(2);o.Pb(1),o.Bc("ngForOf",c.objectKeys(c.coordinates.mobile))}}function re(e,t){if(1&e&&(o.hc(0),o.jc(1,"h3"),o.Wc(2,"Mark Mobile Reference Points"),o.ic(),o.Vc(3,ae,2,1,"div",59),o.gc()),2&e){var c=o.vc();o.Pb(3),o.Bc("ngIf",c.coordinates)}}var oe=function(e){return{small:e}};function se(e,t){if(1&e){var c=o.kc();o.hc(0),o.jc(1,"button",60),o.rc("click",(function(){o.Mc(c);var e=t.$implicit;return o.vc(3).setForMark("response",e)})),o.ic(),o.gc()}if(2&e){var n=t.$implicit,i=o.vc(3);o.Pb(1),o.Bc("ngClass",o.Dc(3,oe,3==n.split("_").length))("color",i.isCoordinatesMarked("response",n)?"primary":i.isCurrentMark("response",n)?"warn":"")("innerText",n)}}function le(e,t){if(1&e&&(o.jc(0,"div",12),o.Vc(1,se,2,5,"ng-container",46),o.ic()),2&e){var c=o.vc(2);o.Pb(1),o.Bc("ngForOf",c.objectKeys(c.coordinates.response))}}function de(e,t){if(1&e&&(o.hc(0),o.jc(1,"h3"),o.Wc(2,"Mark Response Reference Points"),o.ic(),o.Vc(3,le,2,1,"div",59),o.gc()),2&e){var c=o.vc();o.Pb(3),o.Bc("ngIf",c.coordinates)}}var ue,me,ge,fe=function(e){return{activetab:e}},he=function(e,t){return{showTab:e,hideTab:t}},pe=function(e){return{active:e}},be=((ge=function(){function e(t,c){_classCallCheck(this,e),this.dialog=t,this.coreService=c,this.modals={exampleOMR:!1},this.currentTab=1,this.currentOMRTab="omr",this.WEBSITE_URL=u.a.WEBSITE_URL,this.step1={omrName:null,isName:null,nameCharactersCount:null,rollNoCount:null,isClass:null,isSet:null,isMobile:null,isRollNo:null,rollNoAlphabetsIndex:[]},this.step2={referenceImage:null},this.imageWidth=170,this.imageHeight=220,this.step3={questionsCount:null,questionsTypes:[]},this.coordinates={},this.masterCoordinates={},this.image=new Image,this.dummyArr=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.setImageEvent(),this.setCanvasAndContext()}},{key:"setCanvasAndContext",value:function(){var e=this;(me=document.getElementById("canvas")).addEventListener("click",(function(t){if(!e.coordsToMark)return e.dialog.showDialog({content:"Please choose points first"});e.coordsToMark.x=t.offsetX,e.coordsToMark.y=t.offsetY,e.masterCoordinates[e.key1][e.key2].x=t.offsetX,e.masterCoordinates[e.key1][e.key2].y=t.offsetY,e.setImageOnCanvas(),e.prepareCoordinatesObjectAndSave()}))}},{key:"setImageOnCanvas",value:function(){var e=this;this.image.src=this.step2.referenceImage,this.image.onload=function(){e.imageHeight=e.image.height,e.imageWidth=e.image.width,setTimeout((function(){(ue=me.getContext("2d")).drawImage(e.image,0,0,e.imageWidth,e.imageHeight),e.showMarkedPointsAtOMR()}))}}},{key:"setOMRImage",value:function(e){this.referenceImage=e.target.files[0]}},{key:"isErrorInImage",value:function(){try{return this.dummyArr.push(this.referenceImageSRC.nativeElement),this.dummyArr.push(this.referenceImageTarget.nativeElement),!1}catch(e){return!0}}},{key:"setImageEvent",value:function(){var e=this;if(this.isErrorInImage())return setTimeout((function(){return e.setImageEvent()}),1e3);this.showSelectedImage(this.referenceImageSRC.nativeElement,this.referenceImageTarget.nativeElement),this.dummyArr.splice(0,0)}},{key:"showSelectedImage",value:function(e,t){var c=new FileReader;c.onload=function(e){t.src=this.result},e.addEventListener("change",(function(){c.readAsDataURL(e.files[0])}))}},{key:"createRange",value:function(e){return isNaN(e)||e<1?[]:new Array(e)}},{key:"saveStep1AndNext",value:function(){var e=this;this.loading=!0,this.coreService.postRequest(u.a.API_URL+"omr/step-1",this.step1).subscribe((function(t){e.loading=!1,e.omrId=t.omrId,e.currentTab=2}))}},{key:"uploadReferenceImage",value:function(){var e=this;this.loading=!0;var t=u.a.API_URL+"omr/"+this.omrId+"/update-reference-image",c=new FormData;c.append("image",this.referenceImage),c.append("omrName",this.step1.omrName),this.coreService.uploadRequest(t,c).subscribe((function(t){e.loading=!1,t.success&&(e.currentTab=3,e.step2.referenceImage=e.WEBSITE_URL+"uploads/"+t.referenceImage,e.setImageOnCanvas())}))}},{key:"saveStep3",value:function(){var e=this;this.loading=!0;var t=u.a.API_URL+"omr/"+this.omrId+"/update-questions-types",c={questionsTypes:this.step3.questionsTypes,totalQuestions:this.step3.questionsCount};this.prepareCoordinatesObjectAndSave(),this.coreService.putRequest(t,c).subscribe((function(t){e.loading=!1,t.success&&(e.currentTab=4)}))}},{key:"prepareCoordinatesObjectAndSave",value:function(){var e=this;if(this.step1.isName){this.coordinates.name={};for(var t=0;t<26;t++)for(var c=1;c<=this.step1.nameCharactersCount;c++){var n=String.fromCodePoint(t+65)+c;this.coordinates.name[n]=n in(this.masterCoordinates.name||{})?this.masterCoordinates.name[n]:{x:null,y:null}}}if(this.step1.isRollNo){var i=this.step1.rollNoAlphabetsIndex.length;this.coordinates.rollNo={};for(var a=1;a<=this.step1.rollNoCount;a++)if(this.step1.rollNoAlphabetsIndex.includes(a))for(var r=0;r<26;r++){var o=String.fromCharCode(r+65)+a;this.coordinates.rollNo[o]=o in(this.masterCoordinates.rollNo||{})?this.masterCoordinates.rollNo[o]:{x:null,y:null}}else for(var s=0;s<10;s++){var l="".concat(s,"_").concat(a-i);this.coordinates.rollNo[l]=l in(this.masterCoordinates.rollNo||{})?this.masterCoordinates.rollNo[l]:{x:null,y:null}}}if(this.step1.isClass){this.coordinates.class={};for(var d=1;d<=2;d++)for(var m=0;m<10;m++){var g="".concat(m,"_").concat(d);this.coordinates.class[g]=g in(this.masterCoordinates.class||{})?this.masterCoordinates.class[g]:{x:null,y:null}}}if(this.step1.isSet){this.coordinates.set={};for(var f=65;f<75;f++){var h=String.fromCharCode(f);this.coordinates.set[h]=h in(this.masterCoordinates.set||{})?this.masterCoordinates.set[h]:{x:null,y:null}}}if(this.step1.isMobile){this.coordinates.mobile={};for(var p=1;p<=10;p++)for(var b=0;b<10;b++){var v="".concat(b,"_").concat(p);this.coordinates.mobile[v]=v in(this.masterCoordinates.mobile||{})?this.masterCoordinates.mobile[v]:{x:null,y:null}}}this.coordinates.response={};for(var M=1;M<=this.step3.questionsCount;M++)if("I"!=this.step3.questionsTypes[M-1].type)for(var j=65;j<=68;j++){var C=String.fromCharCode(j)+M;this.coordinates.response[C]=C in(this.masterCoordinates.response||{})?this.masterCoordinates.response[C]:{x:null,y:null}}else for(var y=0;y<=9;y++)for(var P=1;P<=2;P++){var k=M+"-"+y+"-"+P;this.coordinates.response[k]=k in(this.masterCoordinates.response||{})?this.masterCoordinates.response[k]:{x:null,y:null}}this.coordinates.omr="omr"in this.masterCoordinates?this.masterCoordinates.omr:{X1Y1:{x:null,y:null},X2Y2:{x:null,y:null},X3Y3:{x:null,y:null}},this.loading=!0,this.coreService.putRequest(u.a.API_URL+"omr/"+this.omrId+"/coordinates-object",this.coordinates).subscribe((function(t){e.loading=!1,e.masterCoordinates=Object.assign({},e.coordinates)}))}},{key:"showMarkedPointsAtOMR",value:function(){var e=this;if(!ue)return setTimeout((function(){return e.showMarkedPointsAtOMR()}),1e3);if(ue.fillStyle="green",this.coordinates)for(var t=0,c=Object.entries(this.coordinates);t<c.length;t++)for(var n=_slicedToArray(c[t],2)[1],i=0,a=Object.entries(n);i<a.length;i++){var r=_slicedToArray(a[i],2)[1];r.x&&r.y&&ue.fillRect(r.x-3.5,r.y-3.5,8,8)}}},{key:"isCoordinatesMarked",value:function(e,t){return!(!this.coordinates||!this.coordinates[e])&&this.coordinates[e][t].x&&this.coordinates[e][t].y}},{key:"setForMark",value:function(e,t){this.key1=e,this.key2=t,this.coordsToMark=this.coordinates[e][t],this.coordinates[e][t].x=null,this.coordinates[e][t].y=null,this.masterCoordinates[e][t].x=null,this.masterCoordinates[e][t].y=null,this.setImageOnCanvas()}},{key:"isCurrentMark",value:function(e,t){if(this.coordinates&&this.coordinates[e]&&this.coordinates[e][t])return this.coordinates[e][t]==this.coordsToMark}},{key:"setRollNoIndex",value:function(e,t){t?this.step1.rollNoAlphabetsIndex.includes(e)||this.step1.rollNoAlphabetsIndex.push(e):this.step1.rollNoAlphabetsIndex.splice(this.step1.rollNoAlphabetsIndex.indexOf(e),1)}},{key:"setQuestionsCountAndType",value:function(){var e=this.step3.questionsCount;this.step3.questionsTypes=[];for(var t=0;t<e;t++)this.step3.questionsTypes.push({type:null})}},{key:"objectKeys",value:function(e){return e?Object.keys(e):[]}}]),e}()).\u0275fac=function(e){return new(e||ge)(o.dc(g.a),o.dc(m.a))},ge.\u0275cmp=o.Xb({type:ge,selectors:[["app-add-omr"]],viewQuery:function(e,t){var c;1&e&&(o.cd(E,!0),o.cd($,!0)),2&e&&(o.Hc(c=o.sc())&&(t.referenceImageSRC=c.first),o.Hc(c=o.sc())&&(t.referenceImageTarget=c.first))},decls:139,vars:71,consts:[["id","page-content"],[1,"row",2,"align-items","flex-start"],[1,"col-12","col-lg-12"],[1,"custom-shadow",2,"background-color","#fff"],["id","tab-header"],[1,"tab-header-item",3,"ngClass","click"],[1,"material-icons"],[1,"tab-step"],[1,"tab-step-desc"],["id","tab-content"],[3,"ngClass"],["step1Form","ngForm"],[1,"row"],[1,"field-col"],["matInput","","name","omrName","required","",3,"ngModel","ngModelChange"],[1,"row","align-items-center"],[1,"checkbox-col"],["name","isName",3,"ngModel","ngModelChange"],["matInput","","type","number","name","nameCharacterCount","required","",3,"ngModel","ngModelChange"],["name","isClass",3,"ngModel","ngModelChange"],["name","isSet",3,"ngModel","ngModelChange"],["name","isMobile",3,"ngModel","ngModelChange"],[1,"row",2,"align-items","flex-start","padding-top","15px"],[1,"checkbox-col",2,"padding-top","15px"],["name","isRollNo",3,"ngModel","ngModelChange"],["type","number","matInput","","name","rollNoCount","required","",3,"ngModel","ngModelChange"],["rollNo","ngModel"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["type","file",2,"margin-bottom","10px",3,"change"],["referenceImageSRC",""],[2,"max-width","400px","display","block"],["referenceImageTarget",""],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"col-sm-2"],["id","qc","matInput","","name","questionsCount","required","",3,"ngModel","ngModelChange"],["questionsCount","ngModel"],[1,"row","align-items-center","justify-content-between"],[2,"margin","0"],[1,"items-tabs"],[3,"ngClass","click"],[1,"items-row"],["id","omr-content",4,"ngIf"],[2,"width","100%","overflow","auto","margin-top","10px"],["id","canvas",3,"width","height"],[3,"show"],[4,"ngFor","ngForOf"],[2,"display","inline-block","text-align","center","margin-right","5px"],[3,"innerText"],[3,"checked","change"],[1,"question-type-item"],[1,"question-type-index",3,"innerText"],[3,"ngModel","ngModelChange"],[3,"value"],["id","omr-content"],["mat-raised-button","",3,"color","click"],["class","row name-row",4,"ngIf"],[1,"row","name-row"],["mat-mini-fab","",1,"round-buttons",3,"color","innerText","click"],["class","row",4,"ngIf"],["mat-mini-fab","",1,"round-buttons",3,"ngClass","color","innerText","click"]],template:function(e,t){if(1&e&&(o.ec(0,"admin-header"),o.ec(1,"admin-sidebar"),o.jc(2,"div",0),o.jc(3,"div",1),o.jc(4,"div",2),o.jc(5,"div",3),o.jc(6,"div",4),o.jc(7,"div",5),o.rc("click",(function(){return t.currentTab=1})),o.jc(8,"p",6),o.Wc(9,"create"),o.ic(),o.jc(10,"div",7),o.Wc(11,"Step 1"),o.ic(),o.jc(12,"div",8),o.Wc(13,"What to Include"),o.ic(),o.ic(),o.jc(14,"div",5),o.rc("click",(function(){return t.currentTab=2})),o.jc(15,"p",6),o.Wc(16,"settings"),o.ic(),o.jc(17,"div",7),o.Wc(18,"Step 2"),o.ic(),o.jc(19,"div",8),o.Wc(20,"Reference OMR"),o.ic(),o.ic(),o.jc(21,"div",5),o.rc("click",(function(){return t.currentTab=3})),o.jc(22,"p",6),o.Wc(23,"stars"),o.ic(),o.jc(24,"div",7),o.Wc(25,"Step 3"),o.ic(),o.jc(26,"div",8),o.Wc(27,"Question Types"),o.ic(),o.ic(),o.jc(28,"div",5),o.rc("click",(function(){return t.currentTab=4})),o.jc(29,"p",6),o.Wc(30,"subject"),o.ic(),o.jc(31,"div",7),o.Wc(32,"Step 4"),o.ic(),o.jc(33,"div",8),o.Wc(34,"OMR Ref. Points"),o.ic(),o.ic(),o.ic(),o.jc(35,"div",9),o.jc(36,"div",10),o.jc(37,"form",null,11),o.jc(39,"div",12),o.jc(40,"div",13),o.jc(41,"mat-form-field"),o.jc(42,"mat-label"),o.Wc(43,"OMR Name"),o.ic(),o.jc(44,"input",14),o.rc("ngModelChange",(function(e){return t.step1.omrName=e})),o.ic(),o.ic(),o.ic(),o.ic(),o.jc(45,"div",15),o.jc(46,"div",16),o.jc(47,"mat-checkbox",17),o.rc("ngModelChange",(function(e){return t.step1.isName=e})),o.Wc(48,"Name"),o.ic(),o.ic(),o.jc(49,"div",13),o.jc(50,"mat-form-field"),o.jc(51,"mat-label"),o.Wc(52,"Character Count"),o.ic(),o.jc(53,"input",18),o.rc("ngModelChange",(function(e){return t.step1.nameCharactersCount=e})),o.ic(),o.ic(),o.ic(),o.ic(),o.jc(54,"div",12),o.jc(55,"div",16),o.jc(56,"mat-checkbox",19),o.rc("ngModelChange",(function(e){return t.step1.isClass=e})),o.Wc(57,"Class"),o.ic(),o.ic(),o.ic(),o.jc(58,"div",12),o.jc(59,"div",16),o.jc(60,"mat-checkbox",20),o.rc("ngModelChange",(function(e){return t.step1.isSet=e})),o.Wc(61,"Set"),o.ic(),o.ic(),o.ic(),o.jc(62,"div",12),o.jc(63,"div",16),o.jc(64,"mat-checkbox",21),o.rc("ngModelChange",(function(e){return t.step1.isMobile=e})),o.Wc(65,"Mobile"),o.ic(),o.ic(),o.ic(),o.jc(66,"div",22),o.jc(67,"div",23),o.jc(68,"mat-checkbox",24),o.rc("ngModelChange",(function(e){return t.step1.isRollNo=e})),o.Wc(69,"RollNo"),o.ic(),o.ic(),o.jc(70,"div",13),o.jc(71,"mat-form-field"),o.jc(72,"mat-label"),o.Wc(73,"RollNo Count"),o.ic(),o.jc(74,"input",25,26),o.rc("ngModelChange",(function(e){return t.step1.rollNoCount=e})),o.ic(),o.ic(),o.Vc(76,D,5,1,"ng-container",27),o.ic(),o.ic(),o.jc(77,"button",28),o.rc("click",(function(){return t.saveStep1AndNext()})),o.Wc(78,"Next"),o.ic(),o.ic(),o.ic(),o.jc(79,"div",10),o.jc(80,"p"),o.Wc(81,"Select the reference image for OMR "),o.ic(),o.jc(82,"input",29,30),o.rc("change",(function(e){return t.setOMRImage(e)})),o.ic(),o.ec(84,"img",31,32),o.jc(86,"p"),o.jc(87,"b"),o.Wc(88,"Note:"),o.ic(),o.Wc(89," Image should be HD with High Clarity. Borders of the image must be dark black "),o.ic(),o.jc(90,"button",33),o.rc("click",(function(){return t.uploadReferenceImage()})),o.Wc(91,"Next"),o.ic(),o.ic(),o.jc(92,"div",10),o.jc(93,"div",12),o.jc(94,"div",34),o.jc(95,"mat-form-field"),o.jc(96,"mat-label"),o.Wc(97,"Total Questions"),o.ic(),o.jc(98,"input",35,36),o.rc("ngModelChange",(function(e){return t.step3.questionsCount=e})),o.ic(),o.ic(),o.ic(),o.jc(100,"div",34),o.jc(101,"button",28),o.rc("click",(function(){return t.setQuestionsCountAndType()})),o.Wc(102,"Set"),o.ic(),o.ic(),o.ic(),o.Vc(103,L,4,1,"ng-container",27),o.jc(104,"button",28),o.rc("click",(function(){return t.saveStep3()})),o.Wc(105,"Next"),o.ic(),o.ic(),o.jc(106,"div",10),o.jc(107,"div",37),o.jc(108,"h2",38),o.Wc(109,"Reference OMR"),o.ic(),o.jc(110,"button",28),o.rc("click",(function(){return t.modals.exampleOMR=!0})),o.Wc(111," See Example OMR "),o.ic(),o.ic(),o.jc(112,"div",39),o.jc(113,"div",40),o.rc("click",(function(){return t.currentOMRTab="omr"})),o.Wc(114,"OMR"),o.ic(),o.jc(115,"div",40),o.rc("click",(function(){return t.currentOMRTab="name"})),o.Wc(116,"Name"),o.ic(),o.jc(117,"div",40),o.rc("click",(function(){return t.currentOMRTab="class"})),o.Wc(118,"Class"),o.ic(),o.jc(119,"div",40),o.rc("click",(function(){return t.currentOMRTab="set"})),o.Wc(120,"Set"),o.ic(),o.jc(121,"div",40),o.rc("click",(function(){return t.currentOMRTab="rollno"})),o.Wc(122,"RollNo "),o.ic(),o.jc(123,"div",40),o.rc("click",(function(){return t.currentOMRTab="mobile"})),o.Wc(124,"Mobile "),o.ic(),o.jc(125,"div",40),o.rc("click",(function(){return t.currentOMRTab="response"})),o.Wc(126," Response"),o.ic(),o.ic(),o.jc(127,"div",41),o.Vc(128,X,9,3,"div",42),o.Vc(129,Q,4,1,"ng-container",27),o.Vc(130,J,4,1,"ng-container",27),o.Vc(131,ee,4,1,"ng-container",27),o.Vc(132,ne,4,1,"ng-container",27),o.Vc(133,re,4,1,"ng-container",27),o.Vc(134,de,4,1,"ng-container",27),o.ic(),o.jc(135,"div",43),o.jc(136,"canvas",44),o.Wc(137," Your browser does not support the HTML5 canvas tag. "),o.ic(),o.ic(),o.ic(),o.ic(),o.ic(),o.ic(),o.ic(),o.ic(),o.ec(138,"loading",45)),2&e){var c=o.Ic(75);o.Pb(7),o.Bc("ngClass",o.Dc(37,fe,1==t.currentTab)),o.Pb(7),o.Bc("ngClass",o.Dc(39,fe,2==t.currentTab)),o.Pb(7),o.Bc("ngClass",o.Dc(41,fe,3==t.currentTab)),o.Pb(7),o.Bc("ngClass",o.Dc(43,fe,4==t.currentTab)),o.Pb(8),o.Bc("ngClass",o.Ec(45,he,1==t.currentTab,1!=t.currentTab)),o.Pb(8),o.Bc("ngModel",t.step1.omrName),o.Pb(3),o.Bc("ngModel",t.step1.isName),o.Pb(6),o.Bc("ngModel",t.step1.nameCharactersCount),o.Pb(3),o.Bc("ngModel",t.step1.isClass),o.Pb(4),o.Bc("ngModel",t.step1.isSet),o.Pb(4),o.Bc("ngModel",t.step1.isMobile),o.Pb(4),o.Bc("ngModel",t.step1.isRollNo),o.Pb(6),o.Bc("ngModel",t.step1.rollNoCount),o.Pb(2),o.Bc("ngIf",c.valid),o.Pb(3),o.Bc("ngClass",o.Ec(48,he,2==t.currentTab,2!=t.currentTab)),o.Pb(11),o.Bc("disabled",!t.referenceImage),o.Pb(2),o.Bc("ngClass",o.Ec(51,he,3==t.currentTab,3!=t.currentTab)),o.Pb(6),o.Bc("ngModel",t.step3.questionsCount),o.Pb(5),o.Bc("ngIf",t.step3.questionsTypes.length>0),o.Pb(3),o.Bc("ngClass",o.Ec(54,he,4==t.currentTab,4!=t.currentTab)),o.Pb(7),o.Bc("ngClass",o.Dc(57,pe,"omr"==t.currentOMRTab)),o.Pb(2),o.Bc("ngClass",o.Dc(59,pe,"name"==t.currentOMRTab)),o.Pb(2),o.Bc("ngClass",o.Dc(61,pe,"class"==t.currentOMRTab)),o.Pb(2),o.Bc("ngClass",o.Dc(63,pe,"set"==t.currentOMRTab)),o.Pb(2),o.Bc("ngClass",o.Dc(65,pe,"rollno"==t.currentOMRTab)),o.Pb(2),o.Bc("ngClass",o.Dc(67,pe,"mobile"==t.currentOMRTab)),o.Pb(2),o.Bc("ngClass",o.Dc(69,pe,"response"==t.currentOMRTab)),o.Pb(3),o.Bc("ngIf","omr"==t.currentOMRTab),o.Pb(1),o.Bc("ngIf","name"==t.currentOMRTab),o.Pb(1),o.Bc("ngIf","class"==t.currentOMRTab),o.Pb(1),o.Bc("ngIf","set"==t.currentOMRTab),o.Pb(1),o.Bc("ngIf","rollno"==t.currentOMRTab),o.Pb(1),o.Bc("ngIf","mobile"==t.currentOMRTab),o.Pb(1),o.Bc("ngIf","response"==t.currentOMRTab),o.Pb(2),o.Bc("width",t.imageWidth)("height",t.imageHeight),o.Pb(2),o.Bc("show",t.loading)}},directives:[s.a,l.a,C.i,p.v,p.l,p.m,f.b,f.e,h.a,p.b,p.r,p.k,p.n,q.a,p.p,C.k,b.b,v.a,C.j,y.b,y.a],styles:["#tab-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;cursor:pointer}.tab-header-item[_ngcontent-%COMP%]{width:16.66%;padding:10px 20px 10px 50px;background:#fcfcfc;opacity:.6;border-right:1px solid #c5c5c5;border-bottom:1px solid #c5c5c5;position:relative}.tab-header-item[_ngcontent-%COMP%]:last-child{border-right:none}.tab-header-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;left:10px;top:.8em}.tab-step[_ngcontent-%COMP%]{font-size:15px}.tab-step-desc[_ngcontent-%COMP%]{font-size:12px}#tab-content[_ngcontent-%COMP%]{padding:15px}.hideTab[_ngcontent-%COMP%]{display:none}.showTab[_ngcontent-%COMP%]{display:block}.activetab[_ngcontent-%COMP%]{opacity:1;border-bottom:none;background:#fff}[class*=col-][_ngcontent-%COMP%]{padding:0 5px}.checkbox-col[_ngcontent-%COMP%]{width:80px}.field-col[_ngcontent-%COMP%]{width:calc(100% - 80px)}.field-col[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{max-width:200px}.question-type-item[_ngcontent-%COMP%]{display:flex;margin-bottom:10px}.question-type-index[_ngcontent-%COMP%]{width:20px;text-align:center}.question-type-item[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{margin-left:10px;display:flex;justify-content:space-between;width:250px}canvas[_ngcontent-%COMP%]{border:1px solid #f1f1f1}.items-row[_ngcontent-%COMP%]{border:1px solid #c5c5c5;border-top:none;padding:5px}.items-row[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:5px}.items-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}.items-tabs[_ngcontent-%COMP%]{display:flex;align-items:center}.items-tabs[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border:1px solid #c5c5c5;border-right:0;padding:10px 20px;opacity:.6;cursor:pointer}.items-tabs[_ngcontent-%COMP%] > div.active[_ngcontent-%COMP%]{opacity:1;border-bottom:1px solid #fff}.round-buttons[_ngcontent-%COMP%]{margin-bottom:10px}.small[_ngcontent-%COMP%]{font-size:10px}#omr-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}.name-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.name-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:5%;text-align:center}.name-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:0}"]}),ge),ve=c("NFeN");function Me(e,t){if(1&e&&(o.jc(0,"tr"),o.ec(1,"td",5),o.ec(2,"td",5),o.ec(3,"td",5),o.ec(4,"td",5),o.ec(5,"td",5),o.ec(6,"td",5),o.ec(7,"td",5),o.jc(8,"td"),o.jc(9,"button",6),o.jc(10,"mat-icon"),o.Wc(11,"create"),o.ic(),o.ic(),o.ic(),o.ic()),2&e){var c=t.$implicit;o.Pb(1),o.Bc("innerText",c.omrName),o.Pb(1),o.Bc("innerText",c.isName),o.Pb(1),o.Bc("innerText",c.nameCharactersCount),o.Pb(1),o.Bc("innerText",c.isRollNo),o.Pb(1),o.Bc("innerText",c.isClass),o.Pb(1),o.Bc("innerText",c.isSet),o.Pb(1),o.Bc("innerText",c.isMobile),o.Pb(2),o.Bc("routerLink","/users/utilities/edit-omr/"+c.omrId)}}var je,Ce=((je=function(){function e(t){_classCallCheck(this,e),this.coreService=t,this.loading=!0,this.omrs=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getOMRs()}},{key:"getOMRs",value:function(){var e=this;this.coreService.getRequest(u.a.API_URL+"omr/").subscribe((function(t){e.loading=!1,e.omrs=t}))}}]),e}()).\u0275fac=function(e){return new(e||je)(o.dc(m.a))},je.\u0275cmp=o.Xb({type:je,selectors:[["app-omrs"]],decls:25,vars:2,consts:[["id","page-content"],[1,"content-title"],[1,"pinnacle-table"],[4,"ngFor","ngForOf"],[3,"show"],[3,"innerText"],["mat-mini-fab","","color","primary",3,"routerLink"]],template:function(e,t){1&e&&(o.ec(0,"admin-header"),o.ec(1,"admin-sidebar"),o.jc(2,"div",0),o.jc(3,"div",1),o.Wc(4,"OMRs"),o.ic(),o.jc(5,"table",2),o.jc(6,"tr"),o.jc(7,"th"),o.Wc(8,"Name"),o.ic(),o.jc(9,"th"),o.Wc(10,"isName"),o.ic(),o.jc(11,"th"),o.Wc(12,"Name Count"),o.ic(),o.jc(13,"th"),o.Wc(14,"isRollNo"),o.ic(),o.jc(15,"th"),o.Wc(16,"isClass"),o.ic(),o.jc(17,"th"),o.Wc(18,"isSet"),o.ic(),o.jc(19,"th"),o.Wc(20,"isMobile"),o.ic(),o.jc(21,"th"),o.Wc(22,"Action"),o.ic(),o.ic(),o.Vc(23,Me,12,8,"tr",3),o.ic(),o.ic(),o.ec(24,"loading",4)),2&e&&(o.Pb(23),o.Bc("ngForOf",t.omrs),o.Pb(1),o.Bc("show",t.loading))},directives:[s.a,l.a,C.j,v.a,b.b,a.c,ve.a],styles:[""]}),je),ye=c("ZMsq"),Pe=["referenceImageSRC"],ke=["referenceImageTarget"];function xe(e,t){if(1&e){var c=o.kc();o.hc(0),o.jc(1,"div",51),o.ec(2,"span",52),o.ec(3,"br"),o.jc(4,"mat-checkbox",53),o.rc("change",(function(e){o.Mc(c);var n=t.index;return o.vc(2).setRollNoIndex(n+1,e.checked)})),o.ic(),o.ic(),o.gc()}if(2&e){var n=t.index,i=o.vc(2);o.Pb(2),o.Bc("innerText",n+1),o.Pb(2),o.Bc("checked",i.step1.rollNoAlphabetsIndex.includes(n+1))}}function Ie(e,t){if(1&e&&(o.hc(0),o.ec(1,"br"),o.jc(2,"p"),o.Wc(3,"Please choose the Alphabets in Roll No."),o.ic(),o.Vc(4,xe,5,2,"ng-container",50),o.gc()),2&e){var c=o.vc();o.Pb(4),o.Bc("ngForOf",c.createRange(c.step1.rollNoCount-0))}}function Be(e,t){if(1&e&&o.ec(0,"img",54,55),2&e){var c=o.vc();o.Bc("src",c.step2.referenceImage,o.Pc)}}function we(e,t){if(1&e){var c=o.kc();o.hc(0),o.jc(1,"div",56),o.ec(2,"div",57),o.jc(3,"mat-radio-group",58),o.rc("ngModelChange",(function(e){return o.Mc(c),t.$implicit.type=e})),o.jc(4,"mat-radio-button",59),o.Wc(5,"MCQ"),o.ic(),o.jc(6,"mat-radio-button",59),o.Wc(7,"Integer"),o.ic(),o.ic(),o.ic(),o.gc()}if(2&e){var n=t.$implicit,i=t.index;o.Pb(2),o.Bc("innerText",i+1),o.Pb(1),o.Bc("ngModel",n.type),o.Pb(1),o.Bc("value","M"),o.Pb(2),o.Bc("value","I")}}function Oe(e,t){if(1&e&&(o.hc(0),o.jc(1,"p"),o.Wc(2,"Please set Question Type"),o.ic(),o.Vc(3,we,8,4,"ng-container",50),o.gc()),2&e){var c=o.vc();o.Pb(3),o.Bc("ngForOf",c.step3.questionsTypes)}}function Te(e,t){if(1&e){var c=o.kc();o.jc(0,"div",60),o.jc(1,"h3"),o.Wc(2,"Mark OMR Reference Points "),o.ic(),o.jc(3,"button",61),o.rc("click",(function(){return o.Mc(c),o.vc().setForMark("omr","X1Y1")})),o.Wc(4,"First Corner"),o.ic(),o.jc(5,"button",61),o.rc("click",(function(){return o.Mc(c),o.vc().setForMark("omr","X2Y2")})),o.Wc(6,"Second Corner"),o.ic(),o.jc(7,"button",61),o.rc("click",(function(){return o.Mc(c),o.vc().setForMark("omr","X3Y3")})),o.Wc(8,"Third Corner"),o.ic(),o.ic()}if(2&e){var n=o.vc();o.Pb(3),o.Bc("color",n.isCoordinatesMarked("omr","X1Y1")?"primary":n.isCurrentMark("omr","X1Y1")?"warn":""),o.Pb(2),o.Bc("color",n.isCoordinatesMarked("omr","X2Y2")?"primary":n.isCurrentMark("omr","X2Y2")?"warn":""),o.Pb(2),o.Bc("color",n.isCoordinatesMarked("omr","X3Y3")?"primary":n.isCurrentMark("omr","X3Y3")?"warn":"")}}function We(e,t){if(1&e){var c=o.kc();o.jc(0,"div"),o.jc(1,"button",64),o.rc("click",(function(){o.Mc(c);var e=t.$implicit;return o.vc(3).setForMark("name",e)})),o.ic(),o.ic()}if(2&e){var n=t.$implicit,i=o.vc(3);o.Pb(1),o.Bc("color",i.isCoordinatesMarked("name",n)?"primary":i.isCurrentMark("name",n)?"warn":"")("innerText",n)}}function Re(e,t){if(1&e&&(o.jc(0,"div",63),o.Vc(1,We,2,2,"div",50),o.ic()),2&e){var c=o.vc(2);o.Pb(1),o.Bc("ngForOf",c.objectKeys(c.coordinates.name))}}function Se(e,t){if(1&e&&(o.hc(0),o.jc(1,"h3"),o.Wc(2,"Mark Name Reference Points"),o.ic(),o.Vc(3,Re,2,1,"div",62),o.gc()),2&e){var c=o.vc();o.Pb(3),o.Bc("ngIf",c.coordinates)}}function _e(e,t){if(1&e){var c=o.kc();o.hc(0),o.jc(1,"button",64),o.rc("click",(function(){o.Mc(c);var e=t.$implicit;return o.vc(3).setForMark("class",e)})),o.ic(),o.gc()}if(2&e){var n=t.$implicit,i=o.vc(3);o.Pb(1),o.Bc("color",i.isCoordinatesMarked("class",n)?"primary":i.isCurrentMark("class",n)?"warn":"")("innerText",n.replace("_","-"))}}function Fe(e,t){if(1&e&&(o.jc(0,"div",12),o.Vc(1,_e,2,2,"ng-container",50),o.ic()),2&e){var c=o.vc(2);o.Pb(1),o.Bc("ngForOf",c.objectKeys(c.coordinates.class))}}function Ne(e,t){if(1&e&&(o.hc(0),o.jc(1,"h3"),o.Wc(2,"Mark Class Reference Points"),o.ic(),o.Vc(3,Fe,2,1,"div",65),o.gc()),2&e){var c=o.vc();o.Pb(3),o.Bc("ngIf",c.coordinates)}}function Ae(e,t){if(1&e){var c=o.kc();o.hc(0),o.jc(1,"button",64),o.rc("click",(function(){o.Mc(c);var e=t.$implicit;return o.vc(3).setForMark("set",e)})),o.ic(),o.gc()}if(2&e){var n=t.$implicit,i=o.vc(3);o.Pb(1),o.Bc("color",i.isCoordinatesMarked("set",n)?"primary":i.isCurrentMark("set",n)?"warn":"")("innerText",n)}}function qe(e,t){if(1&e&&(o.jc(0,"div",12),o.Vc(1,Ae,2,2,"ng-container",50),o.ic()),2&e){var c=o.vc(2);o.Pb(1),o.Bc("ngForOf",c.objectKeys(c.coordinates.set))}}function Ee(e,t){if(1&e&&(o.hc(0),o.jc(1,"h3"),o.Wc(2,"Mark Set Reference Points"),o.ic(),o.Vc(3,qe,2,1,"div",65),o.gc()),2&e){var c=o.vc();o.Pb(3),o.Bc("ngIf",c.coordinates)}}function $e(e,t){if(1&e){var c=o.kc();o.hc(0),o.jc(1,"button",64),o.rc("click",(function(){o.Mc(c);var e=t.$implicit;return o.vc(3).setForMark("rollNo",e)})),o.ic(),o.gc()}if(2&e){var n=t.$implicit,i=o.vc(3);o.Pb(1),o.Bc("color",i.isCoordinatesMarked("rollNo",n)?"primary":i.isCurrentMark("rollNo",n)?"warn":"")("innerText",n.replace("_","-"))}}function Ve(e,t){if(1&e&&(o.jc(0,"div",12),o.Vc(1,$e,2,2,"ng-container",50),o.ic()),2&e){var c=o.vc(2);o.Pb(1),o.Bc("ngForOf",c.objectKeys(c.coordinates.rollNo))}}function De(e,t){if(1&e&&(o.hc(0),o.jc(1,"h3"),o.Wc(2,"Mark RollNo Reference Points"),o.ic(),o.Vc(3,Ve,2,1,"div",65),o.gc()),2&e){var c=o.vc();o.Pb(3),o.Bc("ngIf",c.coordinates)}}function Ke(e,t){if(1&e){var c=o.kc();o.hc(0),o.jc(1,"button",64),o.rc("click",(function(){o.Mc(c);var e=t.$implicit;return o.vc(3).setForMark("mobile",e)})),o.ic(),o.gc()}if(2&e){var n=t.$implicit,i=o.vc(3);o.Pb(1),o.Bc("color",i.isCoordinatesMarked("mobile",n)?"primary":i.isCurrentMark("mobile",n)?"warn":"")("innerText",n.replace("_","-"))}}function Le(e,t){if(1&e&&(o.jc(0,"div",12),o.Vc(1,Ke,2,2,"ng-container",50),o.ic()),2&e){var c=o.vc(2);o.Pb(1),o.Bc("ngForOf",c.objectKeys(c.coordinates.mobile))}}function Xe(e,t){if(1&e&&(o.hc(0),o.jc(1,"h3"),o.Wc(2,"Mark Mobile Reference Points"),o.ic(),o.Vc(3,Le,2,1,"div",65),o.gc()),2&e){var c=o.vc();o.Pb(3),o.Bc("ngIf",c.coordinates)}}var Ue=function(e){return{small:e}};function Ye(e,t){if(1&e){var c=o.kc();o.hc(0),o.jc(1,"button",66),o.rc("click",(function(){o.Mc(c);var e=t.$implicit;return o.vc(3).setForMark("response",e)})),o.ic(),o.gc()}if(2&e){var n=t.$implicit,i=o.vc(3);o.Pb(1),o.Bc("ngClass",o.Dc(3,Ue,3==n.split("_").length))("color",i.isCoordinatesMarked("response",n)?"primary":i.isCurrentMark("response",n)?"warn":"")("innerText",n)}}function Qe(e,t){if(1&e&&(o.jc(0,"div",12),o.Vc(1,Ye,2,5,"ng-container",50),o.ic()),2&e){var c=o.vc(2);o.Pb(1),o.Bc("ngForOf",c.objectKeys(c.coordinates.response))}}function He(e,t){if(1&e&&(o.hc(0),o.jc(1,"h3"),o.Wc(2,"Mark Response Reference Points"),o.ic(),o.Vc(3,Qe,2,1,"div",65),o.gc()),2&e){var c=o.vc();o.Pb(3),o.Bc("ngIf",c.coordinates)}}var ze,Je,Ge,Ze=function(e){return{activetab:e}},et=function(e,t){return{showTab:e,hideTab:t}},tt=function(e){return{active:e}},ct=function(){return{width:"500px"}},nt=((Ge=function(){function e(t,c,n){_classCallCheck(this,e),this.dialog=t,this.coreService=c,this.routes=n,this.modals={exampleOMR:!1},this.currentTab=1,this.currentOMRTab="omr",this.WEBSITE_URL=u.a.WEBSITE_URL,this.step1={omrName:null,isName:null,nameCharactersCount:null,rollNoCount:null,isClass:null,isSet:null,isMobile:null,isRollNo:null,rollNoAlphabetsIndex:[]},this.step2={referenceImage:null},this.imageWidth=170,this.imageHeight=220,this.step3={questionsCount:null,questionsTypes:[]},this.coordinates={},this.masterCoordinates={},this.image=new Image,this.dummyArr=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.setImageEvent(),this.setCanvasAndContext(),this.routes.params.subscribe((function(t){return e.getOMRDetails(t.omrId)}))}},{key:"setCanvasAndContext",value:function(){var e=this;(Je=document.getElementById("canvas")).addEventListener("click",(function(t){if(!e.coordsToMark)return e.dialog.showDialog({content:"Please choose points first"});e.coordsToMark.x=t.offsetX,e.coordsToMark.y=t.offsetY,e.masterCoordinates[e.key1][e.key2].x=t.offsetX,e.masterCoordinates[e.key1][e.key2].y=t.offsetY,e.setImageOnCanvas(),e.prepareCoordinatesObjectAndSave()}))}},{key:"setImageOnCanvas",value:function(){var e=this;this.image.src=this.step2.referenceImage,this.image.onload=function(){e.imageHeight=e.image.height,e.imageWidth=e.image.width,setTimeout((function(){(ze=Je.getContext("2d")).drawImage(e.image,0,0,e.imageWidth,e.imageHeight),e.showMarkedPointsAtOMR()}))}}},{key:"getOMRDetails",value:function(e){var t=this;this.loading=!0,this.omrId=e,this.coreService.getRequest(u.a.API_URL+"omr/omr-details/"+e).subscribe((function(e){t.loading=!1,t.step1=e,t.step1.rollNoAlphabetsIndex=JSON.parse(e.rollNoAlphabetsIndex),t.step2.referenceImage=t.WEBSITE_URL+"uploads/"+e.referenceImage,t.step3.questionsCount=e.totalQuestions,t.step3.questionsTypes=JSON.parse(e.questionsTypes),t.coordinates=JSON.parse(e.coordinates)||{},t.masterCoordinates=JSON.parse(e.coordinates)||{},t.setImageOnCanvas()}))}},{key:"setReferenceImage",value:function(e){this.referenceImage=e.target.files[0]}},{key:"isErrorInImage",value:function(){try{return this.dummyArr.push(this.referenceImageSRC.nativeElement),this.dummyArr.push(this.referenceImageTarget.nativeElement),!1}catch(e){return!0}}},{key:"setImageEvent",value:function(){var e=this;if(this.isErrorInImage())return setTimeout((function(){return e.setImageEvent()}),1e3);this.showSelectedImage(this.referenceImageSRC.nativeElement,this.referenceImageTarget.nativeElement),this.dummyArr.splice(0,0)}},{key:"showSelectedImage",value:function(e,t){var c=new FileReader;c.onload=function(e){t.src=this.result},e.addEventListener("change",(function(){c.readAsDataURL(e.files[0])}))}},{key:"createRange",value:function(e){return isNaN(e)||e<1?[]:new Array(e)}},{key:"saveStep1AndNext",value:function(){var e=this;this.loading=!0,this.prepareCoordinatesObjectAndSave(),this.coreService.putRequest(u.a.API_URL+"omr/step-1/"+this.omrId,this.step1).subscribe((function(t){e.loading=!1,t.success&&(e.currentTab=2)}))}},{key:"uploadReferenceImage",value:function(){var e=this;if(null==this.referenceImage)return this.currentTab=3;this.loading=!0;var t=u.a.API_URL+"omr/"+this.omrId+"/update-reference-image",c=new FormData;c.append("image",this.referenceImage),c.append("omrName",this.step1.omrName),this.coreService.uploadRequest(t,c).subscribe((function(t){e.loading=!1,t.success&&(e.currentTab=3)}))}},{key:"saveStep3",value:function(){var e=this;this.loading=!0;var t=u.a.API_URL+"omr/"+this.omrId+"/update-questions-types",c={questionsTypes:this.step3.questionsTypes,totalQuestions:this.step3.questionsCount};this.prepareCoordinatesObjectAndSave(),this.coreService.putRequest(t,c).subscribe((function(t){e.loading=!1,t.success&&(e.currentTab=4)}))}},{key:"prepareCoordinatesObjectAndSave",value:function(){var e=this;if(this.step1.isName){this.coordinates.name={};for(var t=0;t<26;t++)for(var c=1;c<=this.step1.nameCharactersCount;c++){var n=String.fromCodePoint(t+65)+c;this.coordinates.name[n]=n in(this.masterCoordinates.name||{})?this.masterCoordinates.name[n]:{x:null,y:null}}}if(this.step1.isRollNo){var i=this.step1.rollNoAlphabetsIndex.length;this.coordinates.rollNo={};for(var a=65;a<=90;a++)for(var r=1;r<=i;r++){var o=String.fromCharCode(a)+r;this.coordinates.rollNo[o]=o in(this.masterCoordinates.rollNo||{})?this.masterCoordinates.rollNo[o]:{x:null,y:null}}for(var s=0;s<10;s++)for(var l=1;l<=this.step1.rollNoCount-i;l++){var d="".concat(s,"_").concat(l);this.coordinates.rollNo[d]=d in(this.masterCoordinates.rollNo||{})?this.masterCoordinates.rollNo[d]:{x:null,y:null}}}if(this.step1.isClass){this.coordinates.class={};for(var m=0;m<10;m++)for(var g=1;g<=2;g++){var f="".concat(m,"_").concat(g);this.coordinates.class[f]=f in(this.masterCoordinates.class||{})?this.masterCoordinates.class[f]:{x:null,y:null}}}if(this.step1.isSet){this.coordinates.set={};for(var h=65;h<75;h++){var p=String.fromCharCode(h);this.coordinates.set[p]=p in(this.masterCoordinates.set||{})?this.masterCoordinates.set[p]:{x:null,y:null}}}if(this.step1.isMobile){this.coordinates.mobile={};for(var b=0;b<10;b++)for(var v=1;v<=10;v++){var M="".concat(b,"_").concat(v);this.coordinates.mobile[M]=M in(this.masterCoordinates.mobile||{})?this.masterCoordinates.mobile[M]:{x:null,y:null}}}this.coordinates.response={};for(var j=1;j<=this.step3.questionsCount;j++)if("I"!=this.step3.questionsTypes[j-1].type)for(var C=65;C<=68;C++){var y=String.fromCharCode(C)+j;this.coordinates.response[y]=y in(this.masterCoordinates.response||{})?this.masterCoordinates.response[y]:{x:null,y:null}}else for(var P=0;P<=9;P++)for(var k=1;k<=2;k++){var x=j+"-"+P+"-"+k;this.coordinates.response[x]=x in(this.masterCoordinates.response||{})?this.masterCoordinates.response[x]:{x:null,y:null}}this.coordinates.omr="omr"in this.masterCoordinates?this.masterCoordinates.omr:{X1Y1:{x:null,y:null},X2Y2:{x:null,y:null},X3Y3:{x:null,y:null}},this.loading=!0,this.coreService.putRequest(u.a.API_URL+"omr/"+this.omrId+"/coordinates-object",this.coordinates).subscribe((function(t){e.loading=!1}))}},{key:"showMarkedPointsAtOMR",value:function(){var e=this;if(!ze)return setTimeout((function(){return e.showMarkedPointsAtOMR()}),1e3);if(ze.fillStyle="green",this.coordinates)for(var t=0,c=Object.entries(this.coordinates);t<c.length;t++)for(var n=_slicedToArray(c[t],2)[1],i=0,a=Object.entries(n);i<a.length;i++){var r=_slicedToArray(a[i],2)[1];r.x&&r.y&&ze.fillRect(r.x-3.5,r.y-3.5,8,8)}}},{key:"isCoordinatesMarked",value:function(e,t){return!(!this.coordinates||!this.coordinates[e])&&this.coordinates[e][t].x&&this.coordinates[e][t].y}},{key:"setForMark",value:function(e,t){this.key1=e,this.key2=t,console.log(e,t,this.coordinates),this.coordsToMark=this.coordinates[e][t],this.coordinates[e][t].x=null,this.coordinates[e][t].y=null,this.masterCoordinates[e][t].x=null,this.masterCoordinates[e][t].y=null,this.setImageOnCanvas()}},{key:"isCurrentMark",value:function(e,t){if(this.coordinates&&this.coordinates[e]&&this.coordinates[e][t])return this.coordinates[e][t]==this.coordsToMark}},{key:"setRollNoIndex",value:function(e,t){t?this.step1.rollNoAlphabetsIndex.includes(e)||this.step1.rollNoAlphabetsIndex.push(e):this.step1.rollNoAlphabetsIndex.splice(this.step1.rollNoAlphabetsIndex.indexOf(e),1)}},{key:"setQuestionsCountAndType",value:function(){var e=this.step3.questionsCount;this.step3.questionsTypes=[];for(var t=0;t<e;t++)this.step3.questionsTypes.push({type:null})}},{key:"objectKeys",value:function(e){return e?Object.keys(e):[]}}]),e}()).\u0275fac=function(e){return new(e||Ge)(o.dc(g.a),o.dc(m.a),o.dc(a.a))},Ge.\u0275cmp=o.Xb({type:Ge,selectors:[["app-edit-omr"]],viewQuery:function(e,t){var c;1&e&&(o.cd(Pe,!0),o.cd(ke,!0)),2&e&&(o.Hc(c=o.sc())&&(t.referenceImageSRC=c.first),o.Hc(c=o.sc())&&(t.referenceImageTarget=c.first))},decls:146,vars:75,consts:[["id","page-content"],[1,"row",2,"align-items","flex-start"],[1,"col-12","col-lg-12"],[1,"custom-shadow",2,"background-color","#fff"],["id","tab-header"],[1,"tab-header-item",3,"ngClass","click"],[1,"material-icons"],[1,"tab-step"],[1,"tab-step-desc"],["id","tab-content"],[3,"ngClass"],["step1Form","ngForm"],[1,"row"],[1,"field-col"],["matInput","","name","omrName","required","",3,"ngModel","ngModelChange"],[1,"row","align-items-center"],[1,"checkbox-col"],["name","isName",3,"ngModel","ngModelChange"],["matInput","","type","number","name","nameCharacterCount","required","",3,"ngModel","ngModelChange"],["name","isClass",3,"ngModel","ngModelChange"],["name","isSet",3,"ngModel","ngModelChange"],["name","isMobile",3,"ngModel","ngModelChange"],[1,"row",2,"align-items","flex-start","padding-top","15px"],[1,"checkbox-col",2,"padding-top","15px"],["name","isRollNo",3,"ngModel","ngModelChange"],["type","number","matInput","","name","rollNoCount","required","",3,"ngModel","ngModelChange"],["rollNo","ngModel"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["type","file",2,"margin-bottom","10px",3,"change"],["referenceImageSRC",""],["style","max-width: 400px;display: block;",3,"src",4,"ngIf"],[1,"col-sm-2"],["id","qc","matInput","","name","questionsCount","required","",3,"ngModel","ngModelChange"],["questionsCount","ngModel"],[1,"row","align-items-center","justify-content-between"],[2,"margin","0"],[1,"items-tabs"],[3,"ngClass","click"],[1,"items-row"],["id","omr-content",4,"ngIf"],[2,"width","100%","overflow","auto","margin-top","10px"],["id","canvas",3,"width","height"],["modal","",1,"modal",3,"show","options"],[1,"dialog"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],[3,"src"],[3,"show"],[4,"ngFor","ngForOf"],[2,"display","inline-block","text-align","center","margin-right","5px"],[3,"innerText"],[3,"checked","change"],[2,"max-width","400px","display","block",3,"src"],["referenceImageTarget",""],[1,"question-type-item"],[1,"question-type-index",3,"innerText"],[3,"ngModel","ngModelChange"],[3,"value"],["id","omr-content"],["mat-raised-button","",3,"color","click"],["class","row name-row",4,"ngIf"],[1,"row","name-row"],["mat-mini-fab","",1,"round-buttons",3,"color","innerText","click"],["class","row",4,"ngIf"],["mat-mini-fab","",1,"round-buttons",3,"ngClass","color","innerText","click"]],template:function(e,t){if(1&e&&(o.ec(0,"admin-header"),o.ec(1,"admin-sidebar"),o.jc(2,"div",0),o.jc(3,"div",1),o.jc(4,"div",2),o.jc(5,"div",3),o.jc(6,"div",4),o.jc(7,"div",5),o.rc("click",(function(){return t.currentTab=1})),o.jc(8,"p",6),o.Wc(9,"create"),o.ic(),o.jc(10,"div",7),o.Wc(11,"Step 1"),o.ic(),o.jc(12,"div",8),o.Wc(13,"What to Include"),o.ic(),o.ic(),o.jc(14,"div",5),o.rc("click",(function(){return t.currentTab=2})),o.jc(15,"p",6),o.Wc(16,"settings"),o.ic(),o.jc(17,"div",7),o.Wc(18,"Step 2"),o.ic(),o.jc(19,"div",8),o.Wc(20,"Reference OMR"),o.ic(),o.ic(),o.jc(21,"div",5),o.rc("click",(function(){return t.currentTab=3})),o.jc(22,"p",6),o.Wc(23,"stars"),o.ic(),o.jc(24,"div",7),o.Wc(25,"Step 3"),o.ic(),o.jc(26,"div",8),o.Wc(27,"Question Types"),o.ic(),o.ic(),o.jc(28,"div",5),o.rc("click",(function(){return t.currentTab=4})),o.jc(29,"p",6),o.Wc(30,"subject"),o.ic(),o.jc(31,"div",7),o.Wc(32,"Step 4"),o.ic(),o.jc(33,"div",8),o.Wc(34,"OMR Ref. Points"),o.ic(),o.ic(),o.ic(),o.jc(35,"div",9),o.jc(36,"div",10),o.jc(37,"form",null,11),o.jc(39,"div",12),o.jc(40,"div",13),o.jc(41,"mat-form-field"),o.jc(42,"mat-label"),o.Wc(43,"OMR Name"),o.ic(),o.jc(44,"input",14),o.rc("ngModelChange",(function(e){return t.step1.omrName=e})),o.ic(),o.ic(),o.ic(),o.ic(),o.jc(45,"div",15),o.jc(46,"div",16),o.jc(47,"mat-checkbox",17),o.rc("ngModelChange",(function(e){return t.step1.isName=e})),o.Wc(48,"Name"),o.ic(),o.ic(),o.jc(49,"div",13),o.jc(50,"mat-form-field"),o.jc(51,"mat-label"),o.Wc(52,"Character Count"),o.ic(),o.jc(53,"input",18),o.rc("ngModelChange",(function(e){return t.step1.nameCharactersCount=e})),o.ic(),o.ic(),o.ic(),o.ic(),o.jc(54,"div",12),o.jc(55,"div",16),o.jc(56,"mat-checkbox",19),o.rc("ngModelChange",(function(e){return t.step1.isClass=e})),o.Wc(57,"Class"),o.ic(),o.ic(),o.ic(),o.jc(58,"div",12),o.jc(59,"div",16),o.jc(60,"mat-checkbox",20),o.rc("ngModelChange",(function(e){return t.step1.isSet=e})),o.Wc(61,"Set"),o.ic(),o.ic(),o.ic(),o.jc(62,"div",12),o.jc(63,"div",16),o.jc(64,"mat-checkbox",21),o.rc("ngModelChange",(function(e){return t.step1.isMobile=e})),o.Wc(65,"Mobile"),o.ic(),o.ic(),o.ic(),o.jc(66,"div",22),o.jc(67,"div",23),o.jc(68,"mat-checkbox",24),o.rc("ngModelChange",(function(e){return t.step1.isRollNo=e})),o.Wc(69,"RollNo"),o.ic(),o.ic(),o.jc(70,"div",13),o.jc(71,"mat-form-field"),o.jc(72,"mat-label"),o.Wc(73,"RollNo Count"),o.ic(),o.jc(74,"input",25,26),o.rc("ngModelChange",(function(e){return t.step1.rollNoCount=e})),o.ic(),o.ic(),o.Vc(76,Ie,5,1,"ng-container",27),o.ic(),o.ic(),o.jc(77,"button",28),o.rc("click",(function(){return t.saveStep1AndNext()})),o.Wc(78,"Next"),o.ic(),o.ic(),o.ic(),o.jc(79,"div",10),o.jc(80,"p"),o.Wc(81,"Select the reference image for OMR "),o.ic(),o.jc(82,"input",29,30),o.rc("change",(function(e){return t.setReferenceImage(e)})),o.ic(),o.Vc(84,Be,2,1,"img",31),o.jc(85,"p"),o.jc(86,"b"),o.Wc(87,"Note:"),o.ic(),o.Wc(88," Image should be HD with High Clarity. Borders of the image must be dark black "),o.ic(),o.jc(89,"button",28),o.rc("click",(function(){return t.uploadReferenceImage()})),o.Wc(90,"Next"),o.ic(),o.ic(),o.jc(91,"div",10),o.jc(92,"div",12),o.jc(93,"div",32),o.jc(94,"mat-form-field"),o.jc(95,"mat-label"),o.Wc(96,"Total Questions"),o.ic(),o.jc(97,"input",33,34),o.rc("ngModelChange",(function(e){return t.step3.questionsCount=e})),o.ic(),o.ic(),o.ic(),o.jc(99,"div",32),o.jc(100,"button",28),o.rc("click",(function(){return t.setQuestionsCountAndType()})),o.Wc(101,"Set"),o.ic(),o.ic(),o.ic(),o.Vc(102,Oe,4,1,"ng-container",27),o.jc(103,"button",28),o.rc("click",(function(){return t.saveStep3()})),o.Wc(104,"Next"),o.ic(),o.ic(),o.jc(105,"div",10),o.jc(106,"div",35),o.jc(107,"h2",36),o.Wc(108,"Reference OMR"),o.ic(),o.jc(109,"button",28),o.rc("click",(function(){return t.modals.exampleOMR=!0})),o.Wc(110," See Example OMR "),o.ic(),o.ic(),o.jc(111,"div",37),o.jc(112,"div",38),o.rc("click",(function(){return t.currentOMRTab="omr"})),o.Wc(113,"OMR"),o.ic(),o.jc(114,"div",38),o.rc("click",(function(){return t.currentOMRTab="name"})),o.Wc(115,"Name"),o.ic(),o.jc(116,"div",38),o.rc("click",(function(){return t.currentOMRTab="class"})),o.Wc(117,"Class"),o.ic(),o.jc(118,"div",38),o.rc("click",(function(){return t.currentOMRTab="set"})),o.Wc(119,"Set"),o.ic(),o.jc(120,"div",38),o.rc("click",(function(){return t.currentOMRTab="rollno"})),o.Wc(121,"RollNo "),o.ic(),o.jc(122,"div",38),o.rc("click",(function(){return t.currentOMRTab="mobile"})),o.Wc(123,"Mobile "),o.ic(),o.jc(124,"div",38),o.rc("click",(function(){return t.currentOMRTab="response"})),o.Wc(125," Response"),o.ic(),o.ic(),o.jc(126,"div",39),o.Vc(127,Te,9,3,"div",40),o.Vc(128,Se,4,1,"ng-container",27),o.Vc(129,Ne,4,1,"ng-container",27),o.Vc(130,Ee,4,1,"ng-container",27),o.Vc(131,De,4,1,"ng-container",27),o.Vc(132,Xe,4,1,"ng-container",27),o.Vc(133,He,4,1,"ng-container",27),o.ic(),o.jc(134,"div",41),o.jc(135,"canvas",42),o.Wc(136," Your browser does not support the HTML5 canvas tag. "),o.ic(),o.ic(),o.ic(),o.ic(),o.ic(),o.ic(),o.ic(),o.ic(),o.jc(137,"div",43),o.jc(138,"div",44),o.jc(139,"div",45),o.Wc(140,"Example OMR"),o.ic(),o.jc(141,"div",46),o.rc("click",(function(){return t.modals.exampleOMR=!1})),o.Wc(142,"\xd7"),o.ic(),o.jc(143,"div",47),o.ec(144,"img",48),o.ic(),o.ic(),o.ic(),o.ec(145,"loading",49)),2&e){var c=o.Ic(75);o.Pb(7),o.Bc("ngClass",o.Dc(40,Ze,1==t.currentTab)),o.Pb(7),o.Bc("ngClass",o.Dc(42,Ze,2==t.currentTab)),o.Pb(7),o.Bc("ngClass",o.Dc(44,Ze,3==t.currentTab)),o.Pb(7),o.Bc("ngClass",o.Dc(46,Ze,4==t.currentTab)),o.Pb(8),o.Bc("ngClass",o.Ec(48,et,1==t.currentTab,1!=t.currentTab)),o.Pb(8),o.Bc("ngModel",t.step1.omrName),o.Pb(3),o.Bc("ngModel",t.step1.isName),o.Pb(6),o.Bc("ngModel",t.step1.nameCharactersCount),o.Pb(3),o.Bc("ngModel",t.step1.isClass),o.Pb(4),o.Bc("ngModel",t.step1.isSet),o.Pb(4),o.Bc("ngModel",t.step1.isMobile),o.Pb(4),o.Bc("ngModel",t.step1.isRollNo),o.Pb(6),o.Bc("ngModel",t.step1.rollNoCount),o.Pb(2),o.Bc("ngIf",c.valid),o.Pb(3),o.Bc("ngClass",o.Ec(51,et,2==t.currentTab,2!=t.currentTab)),o.Pb(5),o.Bc("ngIf",t.referenceImage||t.step2.referenceImage),o.Pb(7),o.Bc("ngClass",o.Ec(54,et,3==t.currentTab,3!=t.currentTab)),o.Pb(6),o.Bc("ngModel",t.step3.questionsCount),o.Pb(5),o.Bc("ngIf",t.step3.questionsTypes.length>0),o.Pb(3),o.Bc("ngClass",o.Ec(57,et,4==t.currentTab,4!=t.currentTab)),o.Pb(7),o.Bc("ngClass",o.Dc(60,tt,"omr"==t.currentOMRTab)),o.Pb(2),o.Bc("ngClass",o.Dc(62,tt,"name"==t.currentOMRTab)),o.Pb(2),o.Bc("ngClass",o.Dc(64,tt,"class"==t.currentOMRTab)),o.Pb(2),o.Bc("ngClass",o.Dc(66,tt,"set"==t.currentOMRTab)),o.Pb(2),o.Bc("ngClass",o.Dc(68,tt,"rollno"==t.currentOMRTab)),o.Pb(2),o.Bc("ngClass",o.Dc(70,tt,"mobile"==t.currentOMRTab)),o.Pb(2),o.Bc("ngClass",o.Dc(72,tt,"response"==t.currentOMRTab)),o.Pb(3),o.Bc("ngIf","omr"==t.currentOMRTab),o.Pb(1),o.Bc("ngIf","name"==t.currentOMRTab),o.Pb(1),o.Bc("ngIf","class"==t.currentOMRTab),o.Pb(1),o.Bc("ngIf","set"==t.currentOMRTab),o.Pb(1),o.Bc("ngIf","rollno"==t.currentOMRTab),o.Pb(1),o.Bc("ngIf","mobile"==t.currentOMRTab),o.Pb(1),o.Bc("ngIf","response"==t.currentOMRTab),o.Pb(2),o.Bc("width",t.imageWidth)("height",t.imageHeight),o.Pb(2),o.Bc("show",t.modals.exampleOMR)("options",o.Cc(74,ct)),o.Pb(7),o.Bc("src",t.step2.referenceImage,o.Pc),o.Pb(1),o.Bc("show",t.loading)}},directives:[s.a,l.a,C.i,p.v,p.l,p.m,f.b,f.e,h.a,p.b,p.r,p.k,p.n,q.a,p.p,C.k,b.b,ye.a,v.a,C.j,y.b,y.a],styles:["","#tab-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;cursor:pointer}.tab-header-item[_ngcontent-%COMP%]{width:16.66%;padding:10px 20px 10px 50px;background:#fcfcfc;opacity:.6;border-right:1px solid #c5c5c5;border-bottom:1px solid #c5c5c5;position:relative}.tab-header-item[_ngcontent-%COMP%]:last-child{border-right:none}.tab-header-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;left:10px;top:.8em}.tab-step[_ngcontent-%COMP%]{font-size:15px}.tab-step-desc[_ngcontent-%COMP%]{font-size:12px}#tab-content[_ngcontent-%COMP%]{padding:15px}.hideTab[_ngcontent-%COMP%]{display:none}.showTab[_ngcontent-%COMP%]{display:block}.activetab[_ngcontent-%COMP%]{opacity:1;border-bottom:none;background:#fff}[class*=col-][_ngcontent-%COMP%]{padding:0 5px}.checkbox-col[_ngcontent-%COMP%]{width:80px}.field-col[_ngcontent-%COMP%]{width:calc(100% - 80px)}.field-col[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{max-width:200px}.question-type-item[_ngcontent-%COMP%]{display:flex;margin-bottom:10px}.question-type-index[_ngcontent-%COMP%]{width:20px;text-align:center}.question-type-item[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{margin-left:10px;display:flex;justify-content:space-between;width:250px}canvas[_ngcontent-%COMP%]{border:1px solid #f1f1f1}.items-row[_ngcontent-%COMP%]{border:1px solid #c5c5c5;border-top:none;padding:5px}.items-row[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:5px}.items-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}.items-tabs[_ngcontent-%COMP%]{display:flex;align-items:center}.items-tabs[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border:1px solid #c5c5c5;border-right:0;padding:10px 20px;opacity:.6;cursor:pointer}.items-tabs[_ngcontent-%COMP%] > div.active[_ngcontent-%COMP%]{opacity:1;border-bottom:1px solid #fff}.round-buttons[_ngcontent-%COMP%]{margin-bottom:10px}.small[_ngcontent-%COMP%]{font-size:10px}#omr-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}.name-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.name-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:5%;text-align:center}.name-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:0}"]}),Ge);function it(e,t){if(1&e){var c=o.kc();o.jc(0,"tr"),o.ec(1,"td",19),o.ec(2,"td",19),o.ec(3,"td",19),o.jc(4,"td"),o.jc(5,"button",20),o.rc("click",(function(){o.Mc(c);var e=t.$implicit;return o.vc().setActivePMI(e)})),o.jc(6,"mat-icon"),o.Wc(7,"create"),o.ic(),o.ic(),o.Wc(8," \xa0 "),o.jc(9,"button",21),o.rc("click",(function(){o.Mc(c);var e=t.$implicit,n=t.index;return o.vc().deletePMI(e,n)})),o.jc(10,"mat-icon"),o.Wc(11,"delete"),o.ic(),o.ic(),o.ic(),o.ic()}if(2&e){var n=t.$implicit;o.Pb(1),o.Bc("innerText",n.emailId),o.Pb(1),o.Bc("innerText",n.pmi),o.Pb(1),o.Bc("innerText",n.password)}}function at(e,t){if(1&e){var c=o.kc();o.jc(0,"form",3,22),o.rc("ngSubmit",(function(){o.Mc(c);var e=o.Ic(1);return o.vc().editPMI(e)})),o.jc(2,"mat-form-field"),o.jc(3,"mat-label"),o.Wc(4,"Enter EmailId"),o.ic(),o.jc(5,"input",23),o.rc("ngModelChange",(function(e){return o.Mc(c),o.vc().activePMI.emailId=e})),o.ic(),o.ic(),o.jc(6,"mat-form-field"),o.jc(7,"mat-label"),o.Wc(8,"Enter PMI"),o.ic(),o.jc(9,"input",24),o.rc("ngModelChange",(function(e){return o.Mc(c),o.vc().activePMI.pmi=e})),o.ic(),o.ic(),o.jc(10,"mat-form-field"),o.jc(11,"mat-label"),o.Wc(12,"Enter Password"),o.ic(),o.jc(13,"input",25),o.rc("ngModelChange",(function(e){return o.Mc(c),o.vc().activePMI.password=e})),o.ic(),o.ic(),o.jc(14,"button",8),o.Wc(15,"Update"),o.ic(),o.ic()}if(2&e){var n=o.vc();o.Pb(5),o.Bc("ngModel",n.activePMI.emailId),o.Pb(4),o.Bc("ngModel",n.activePMI.pmi),o.Pb(4),o.Bc("ngModel",n.activePMI.password)}}var rt,ot,st,lt=function(){return{width:"75%"}},dt=((st=function(){function e(t,c){_classCallCheck(this,e),this.dialog=t,this.coreService=c,this.loading=!0,this.activePMIs=[],this.modal={editModal:!1}}return _createClass(e,[{key:"ngOnInit",value:function(){this.getActivePMIs()}},{key:"setActivePMI",value:function(e){this.activePMI=e,this.modal.editModal=!0}},{key:"getActivePMIs",value:function(){var e=this;this.coreService.getRequest(u.a.API_URL+"utilities/active-pmis").subscribe((function(t){e.loading=!1,e.activePMIs=t}))}},{key:"addPMI",value:function(e){var t=this,c=e.value,n=u.a.API_URL+"utilities/add-zoom-pmi";this.loading=!0,this.coreService.postRequest(n,c).subscribe((function(e){t.loading=!1,t.getActivePMIs(),t.dialog.showDialog({content:e.message})}))}},{key:"editPMI",value:function(e){var t=this;this.loading=!0,this.coreService.putRequest(u.a.API_URL+"utilities/update-zoom-pmi",this.activePMI).subscribe((function(e){t.loading=!1,t.modal.editModal=!1,t.dialog.showDialog({content:e.message})}))}},{key:"deletePMI",value:function(e,t){var c=this;this.dialog.showDialog({content:'Are you sure to delete PMI "'.concat(e.pmi,'"?'),callBack:function(){c.loading=!0,c.coreService.deleteRequest(u.a.API_URL+"utilities/zoom-pmi/"+e.id).subscribe((function(e){c.loading=!1,e.success&&c.activePMIs.splice(t,1)}))}})}}]),e}()).\u0275fac=function(e){return new(e||st)(o.dc(g.a),o.dc(m.a))},st.\u0275cmp=o.Xb({type:st,selectors:[["app-zoom-integration-home"]],decls:45,vars:6,consts:[["id","page-content"],[1,"content-title"],[1,"content-box"],[3,"ngSubmit"],["pmiForm","ngForm"],["name","emailId","ngModel","","matInput","","required",""],["name","pmi","ngModel","","matInput","","required",""],["name","password","ngModel","","matInput","","required",""],["mat-raised-button","","color","primary"],[1,"divider"],[1,"pinnacle-table"],[4,"ngFor","ngForOf"],["modal","",1,"modal",3,"show","options"],[1,"dialog"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],[3,"ngSubmit",4,"ngIf"],[3,"show"],[3,"innerText"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","warn",3,"click"],["pmiEditForm","ngForm"],["name","emailId","matInput","","required","",3,"ngModel","ngModelChange"],["name","pmi","matInput","","required","",3,"ngModel","ngModelChange"],["name","password","matInput","","required","",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e){var c=o.kc();o.ec(0,"admin-header"),o.ec(1,"admin-sidebar"),o.jc(2,"div",0),o.jc(3,"div",1),o.Wc(4,"Add Zoom PMIs"),o.ic(),o.jc(5,"div",2),o.jc(6,"form",3,4),o.rc("ngSubmit",(function(){o.Mc(c);var e=o.Ic(7);return t.addPMI(e)})),o.jc(8,"mat-form-field"),o.jc(9,"mat-label"),o.Wc(10,"Enter EmailId"),o.ic(),o.ec(11,"input",5),o.ic(),o.jc(12,"mat-form-field"),o.jc(13,"mat-label"),o.Wc(14,"Enter PMI"),o.ic(),o.ec(15,"input",6),o.ic(),o.jc(16,"mat-form-field"),o.jc(17,"mat-label"),o.Wc(18,"Enter Password"),o.ic(),o.ec(19,"input",7),o.ic(),o.jc(20,"button",8),o.Wc(21,"Add"),o.ic(),o.ic(),o.ic(),o.ec(22,"div",9),o.jc(23,"div",1),o.Wc(24,"Active PMI IDs"),o.ic(),o.jc(25,"table",10),o.jc(26,"tr"),o.jc(27,"th"),o.Wc(28,"EMailId"),o.ic(),o.jc(29,"th"),o.Wc(30,"PMI"),o.ic(),o.jc(31,"th"),o.Wc(32,"Password"),o.ic(),o.jc(33,"th"),o.Wc(34,"Action"),o.ic(),o.ic(),o.Vc(35,it,12,3,"tr",11),o.ic(),o.ic(),o.jc(36,"div",12),o.jc(37,"div",13),o.jc(38,"div",14),o.Wc(39,"Edit PMI"),o.ic(),o.jc(40,"div",15),o.rc("click",(function(){return t.modal.editModal=!1})),o.Wc(41,"\xd7"),o.ic(),o.jc(42,"div",16),o.Vc(43,at,16,3,"form",17),o.ic(),o.ic(),o.ic(),o.ec(44,"loading",18)}2&e&&(o.Pb(35),o.Bc("ngForOf",t.activePMIs),o.Pb(1),o.Bc("show",t.modal.editModal)("options",o.Cc(5,lt)),o.Pb(7),o.Bc("ngIf",t.modal.editModal),o.Pb(1),o.Bc("show",t.loading))},directives:[s.a,l.a,p.v,p.l,p.m,f.b,f.e,p.b,h.a,p.k,p.n,p.r,b.b,C.j,ye.a,C.k,v.a,ve.a],styles:[".divider[_ngcontent-%COMP%]{height:15px}"]}),st),ut=((ot=function(){function e(t,c){_classCallCheck(this,e),this.coreService=t,this.dialog=c}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"addExam",value:function(){var e=this;this.loading=!0,this.coreService.postRequest(u.a.API_URL+"special-exams",{examName:this.examName}).subscribe((function(t){e.loading=!1,t.success&&(e.modal.addModal=!1,e.callBack())}))}}]),e}()).\u0275fac=function(e){return new(e||ot)(o.dc(m.a),o.dc(g.a))},ot.\u0275cmp=o.Xb({type:ot,selectors:[["add-special-exams"]],inputs:{modal:["modals","modal"],callBack:"callBack"},decls:8,vars:3,consts:[["matInput","","required","",3,"ngModel","ngModelChange"],["exam","ngModel"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"show"]],template:function(e,t){if(1&e&&(o.jc(0,"mat-form-field"),o.jc(1,"mat-label"),o.Wc(2,"Exam Name"),o.ic(),o.jc(3,"input",0,1),o.rc("ngModelChange",(function(e){return t.examName=e})),o.ic(),o.ic(),o.jc(5,"button",2),o.rc("click",(function(){return t.addExam()})),o.Wc(6,"Add Exam"),o.ic(),o.ec(7,"loading",3)),2&e){var c=o.Ic(4);o.Pb(3),o.Bc("ngModel",t.examName),o.Pb(2),o.Bc("disabled",c.invalid),o.Pb(2),o.Bc("show",t.loading)}},directives:[f.b,f.e,h.a,p.b,p.r,p.k,p.n,b.b,v.a],styles:[""]}),ot),mt=((rt=function(){function e(t){_classCallCheck(this,e),this.coreService=t}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"updateExam",value:function(){var e=this;this.loading=!0,this.coreService.putRequest(u.a.API_URL+"special-exams",this.exam).subscribe((function(t){e.loading=!1,t.success&&(e.modal.editModal=!1)}))}}]),e}()).\u0275fac=function(e){return new(e||rt)(o.dc(m.a))},rt.\u0275cmp=o.Xb({type:rt,selectors:[["edit-special-exams"]],inputs:{modal:["modals","modal"],exam:"exam"},decls:8,vars:3,consts:[["matInput","","required","",3,"ngModel","ngModelChange"],["examH","ngModel"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"show"]],template:function(e,t){if(1&e&&(o.jc(0,"mat-form-field"),o.jc(1,"mat-label"),o.Wc(2,"Exam Name"),o.ic(),o.jc(3,"input",0,1),o.rc("ngModelChange",(function(e){return t.exam.examName=e})),o.ic(),o.ic(),o.jc(5,"button",2),o.rc("click",(function(){return t.updateExam()})),o.Wc(6,"Update Exam"),o.ic(),o.ec(7,"loading",3)),2&e){var c=o.Ic(4);o.Pb(3),o.Bc("ngModel",t.exam.examName),o.Pb(2),o.Bc("disabled",c.invalid),o.Pb(2),o.Bc("show",t.loading)}},directives:[f.b,f.e,h.a,p.b,p.r,p.k,p.n,b.b,v.a],styles:[""]}),rt);function gt(e,t){if(1&e){var c=o.kc();o.jc(0,"tr"),o.ec(1,"td",22),o.jc(2,"td"),o.jc(3,"button",23),o.rc("click",(function(){o.Mc(c);var e=t.$implicit;return o.vc().editExam(e)})),o.jc(4,"mat-icon"),o.Wc(5,"create"),o.ic(),o.ic(),o.Wc(6,"\xa0 "),o.jc(7,"button",24),o.rc("click",(function(){o.Mc(c);var e=t.$implicit,n=t.index;return o.vc().deleteExam(e,n)})),o.jc(8,"mat-icon"),o.Wc(9,"delete"),o.ic(),o.ic(),o.ic(),o.ic()}if(2&e){var n=t.$implicit;o.Pb(1),o.Bc("innerText",n.examName)}}function ft(e,t){if(1&e){var c=o.kc();o.jc(0,"tr"),o.ec(1,"td",22),o.ec(2,"td",22),o.ec(3,"td",22),o.ec(4,"td",22),o.jc(5,"td"),o.jc(6,"a",25),o.rc("click",(function(){o.Mc(c);var e=t.$implicit;return o.vc().openAnswerKey(e)})),o.jc(7,"mat-icon"),o.Wc(8,"create"),o.ic(),o.ic(),o.Wc(9," \xa0 "),o.jc(10,"button",26),o.rc("click",(function(){o.Mc(c);var e=t.$implicit;return o.vc().openAnswerKey(e)})),o.jc(11,"mat-icon"),o.Wc(12,"open_in_full"),o.ic(),o.ic(),o.ic(),o.jc(13,"td"),o.ec(14,"span",22),o.ic(),o.ic()}if(2&e){var n=t.$implicit;o.Pb(1),o.Bc("innerText",n.examName),o.Pb(1),o.Bc("innerText",n.className),o.Pb(1),o.Bc("innerText",n.setName),o.Pb(1),o.Bc("innerText",n.stream),o.Pb(2),o.Bc("disabled",!n.answerKeyId)("routerLink","/users/utilities/edit-answer-key/"+n.answerKeyId),o.Pb(4),o.Bc("disabled",!n.answerKeyId),o.Pb(4),o.Bc("innerText",n.omrName)}}function ht(e,t){if(1&e&&o.ec(0,"mat-option",27),2&e){var c=t.$implicit;o.Bc("value",c.examId)("innerText",c.examName)}}function pt(e,t){if(1&e&&o.ec(0,"mat-option",28),2&e){var c=t.$implicit;o.Bc("innerText",c.name)("value",c.name)}}function bt(e,t){if(1&e&&o.ec(0,"mat-option",27),2&e){var c=t.$implicit;o.Bc("value",c.examId)("innerText",c.examName)}}function vt(e,t){if(1&e&&o.ec(0,"mat-option",28),2&e){var c=t.$implicit;o.Bc("innerText",c.className)("value",c.classId)}}function Mt(e,t){if(1&e&&o.ec(0,"mat-option",28),2&e){var c=t.$implicit;o.Bc("innerText",c.name)("value",c.name)}}function jt(e,t){if(1&e&&o.ec(0,"mat-option",27),2&e){var c=t.$implicit;o.Bc("value",c.examId)("innerText",c.examName)}}function Ct(e,t){if(1&e&&o.ec(0,"mat-option",28),2&e){var c=t.$implicit;o.Bc("innerText",c.className)("value",c.classId)}}function yt(e,t){if(1&e&&o.ec(0,"mat-option",28),2&e){var c=t.$implicit;o.Bc("innerText",c.setName)("value",c.setId)}}function Pt(e,t){if(1&e&&o.ec(0,"mat-option",28),2&e){var c=t.$implicit;o.Bc("innerText",c.name)("value",c.name)}}function kt(e,t){if(1&e&&o.ec(0,"mat-option",27),2&e){var c=t.$implicit;o.Bc("value",c.examId)("innerText",c.examName)}}function xt(e,t){if(1&e&&o.ec(0,"mat-option",28),2&e){var c=t.$implicit;o.Bc("innerText",c.className)("value",c.classId)}}function It(e,t){if(1&e&&o.ec(0,"mat-option",28),2&e){var c=t.$implicit;o.Bc("innerText",c.setName)("value",c.setId)}}function Bt(e,t){if(1&e&&o.ec(0,"mat-option",28),2&e){var c=t.$implicit;o.Bc("innerText",c.omrName)("value",c.omrId)}}function wt(e,t){if(1&e&&o.ec(0,"add-special-exams",29),2&e){var c=o.vc();o.Bc("modals",c.modal)("callBack",c.callBack)}}function Ot(e,t){if(1&e&&o.ec(0,"edit-special-exams",30),2&e){var c=o.vc();o.Bc("modals",c.modal)("exam",c.activeExam)}}function Tt(e,t){if(1&e&&(o.jc(0,"tr"),o.ec(1,"td",22),o.ec(2,"td",22),o.ec(3,"td",22),o.ec(4,"td",22),o.ec(5,"td",22),o.ic()),2&e){var c=t.$implicit;o.Pb(1),o.Bc("innerText",c.subject),o.Pb(1),o.Bc("innerText",c.questionType),o.Pb(1),o.Bc("innerText",c.answer),o.Pb(1),o.Bc("innerText",c.correctMarks),o.Pb(1),o.Bc("innerText",c.wrongMarks)}}var Wt=function(){return{width:"300px"}},Rt=function(){return{width:"800px"}};function St(e,t){if(1&e&&o.ec(0,"mat-option",17),2&e){var c=t.$implicit;o.Bc("value",c.examId)("innerText",c.examName)}}function _t(e,t){if(1&e&&o.ec(0,"mat-option",18),2&e){var c=t.$implicit;o.Bc("innerText",c.className)("value",c.classId)}}function Ft(e,t){if(1&e&&o.ec(0,"mat-option",18),2&e){var c=t.$implicit;o.Bc("innerText",c.setName)("value",c.setId)}}function Nt(e,t){if(1&e&&o.ec(0,"mat-option",18),2&e){var c=t.$implicit;o.Bc("innerText",c.stream)("value",c.streamId)}}function At(e,t){if(1&e&&(o.jc(0,"mat-radio-button",27),o.Wc(1),o.ic()),2&e){var c=t.$implicit;o.Bc("value",c.type),o.Pb(1),o.Xc(c.type)}}function qt(e,t){if(1&e){var c=o.kc();o.jc(0,"div",19),o.ec(1,"div",20),o.ec(2,"div",21),o.jc(3,"div",22),o.jc(4,"mat-radio-group",23),o.rc("ngModelChange",(function(e){return o.Mc(c),o.vc().questionType=e}))("change",(function(){return o.Mc(c),o.vc().setAllQuestionTypes()})),o.Vc(5,At,2,2,"mat-radio-button",24),o.ic(),o.ic(),o.ec(6,"div",22),o.jc(7,"div",25),o.jc(8,"mat-form-field"),o.jc(9,"mat-label"),o.Wc(10,"Correct Marks"),o.ic(),o.jc(11,"input",26),o.rc("ngModelChange",(function(e){return o.Mc(c),o.vc().correctMarks=e}))("change",(function(){return o.Mc(c),o.vc().setAllCorrectMarks()})),o.ic(),o.ic(),o.ic(),o.jc(12,"div",25),o.jc(13,"mat-form-field"),o.jc(14,"mat-label"),o.Wc(15,"Wrong Marks"),o.ic(),o.jc(16,"input",26),o.rc("ngModelChange",(function(e){return o.Mc(c),o.vc().wrongMarks=e}))("change",(function(){return o.Mc(c),o.vc().setAllWrongMarks()})),o.ic(),o.ic(),o.ic(),o.ic()}if(2&e){var n=o.vc();o.Pb(4),o.Bc("ngModel",n.questionType),o.Pb(1),o.Bc("ngForOf",n.questionTypes),o.Pb(6),o.Bc("name","correctMarks")("ngModel",n.correctMarks),o.Pb(5),o.Bc("name","wrongMarks")("ngModel",n.wrongMarks)}}function Et(e,t){if(1&e&&o.ec(0,"mat-option",18),2&e){var c=t.$implicit;o.Bc("innerText",c.subject)("value",c.subject)}}function $t(e,t){if(1&e&&(o.jc(0,"mat-radio-button",27),o.Wc(1),o.ic()),2&e){var c=t.$implicit;o.Bc("value",c.type),o.Pb(1),o.Xc(c.type)}}function Vt(e,t){if(1&e){var c=o.kc();o.jc(0,"mat-radio-group",38),o.rc("ngModelChange",(function(e){return o.Mc(c),o.vc().$implicit.single=e})),o.ec(1,"mat-radio-button",27),o.ec(2,"mat-radio-button",27),o.ec(3,"mat-radio-button",27),o.ec(4,"mat-radio-button",27),o.ic()}if(2&e){var n=o.vc(),i=n.$implicit;o.Bc("name","ans_"+n.index)("ngModel",i.single),o.Pb(1),o.Bc("value","A"),o.Pb(1),o.Bc("value","B"),o.Pb(1),o.Bc("value","C"),o.Pb(1),o.Bc("value","D")}}function Dt(e,t){if(1&e){var c=o.kc();o.hc(0),o.jc(1,"mat-checkbox",30),o.rc("ngModelChange",(function(e){return o.Mc(c),o.vc().$implicit.multiple.option_a=e})),o.ic(),o.jc(2,"mat-checkbox",30),o.rc("ngModelChange",(function(e){return o.Mc(c),o.vc().$implicit.multiple.option_b=e})),o.ic(),o.jc(3,"mat-checkbox",30),o.rc("ngModelChange",(function(e){return o.Mc(c),o.vc().$implicit.multiple.option_c=e})),o.ic(),o.jc(4,"mat-checkbox",30),o.rc("ngModelChange",(function(e){return o.Mc(c),o.vc().$implicit.multiple.option_d=e})),o.ic(),o.gc()}if(2&e){var n=o.vc(),i=n.index,a=n.$implicit;o.Pb(1),o.Bc("name","mul-a"+i)("ngModel",a.multiple.option_a),o.Pb(1),o.Bc("name","mul-b"+i)("ngModel",a.multiple.option_b),o.Pb(1),o.Bc("name","mul-c"+i)("ngModel",a.multiple.option_c),o.Pb(1),o.Bc("name","mul-d"+i)("ngModel",a.multiple.option_d)}}function Kt(e,t){if(1&e){var c=o.kc();o.jc(0,"input",30),o.rc("ngModelChange",(function(e){return o.Mc(c),o.vc().$implicit.integer=e})),o.ic()}if(2&e){var n=o.vc(),i=n.$implicit;o.Bc("name","ans_"+n.index)("ngModel",i.integer)}}function Lt(e,t){if(1&e&&o.ec(0,"mat-option",18),2&e){var c=t.$implicit;o.Bc("innerText",c.tag)("value",c.tag)}}function Xt(e,t){if(1&e&&o.ec(0,"mat-option",18),2&e){var c=t.$implicit;o.Bc("innerText",c.difficulty)("value",c.difficulty)}}function Ut(e,t){if(1&e){var c=o.kc();o.jc(0,"div",28),o.ec(1,"div",29),o.jc(2,"div",21),o.jc(3,"mat-form-field"),o.jc(4,"mat-label"),o.Wc(5,"Subject"),o.ic(),o.jc(6,"mat-select",30),o.rc("ngModelChange",(function(e){return o.Mc(c),t.$implicit.subject=e})),o.Vc(7,Et,1,2,"mat-option",9),o.ic(),o.ic(),o.ic(),o.jc(8,"div",22),o.jc(9,"mat-radio-group",31),o.rc("ngModelChange",(function(e){return o.Mc(c),t.$implicit.questionType=e})),o.Vc(10,$t,2,2,"mat-radio-button",24),o.ic(),o.ic(),o.jc(11,"div",22),o.Vc(12,Vt,5,6,"mat-radio-group",32),o.Vc(13,Dt,5,8,"ng-container",33),o.Vc(14,Kt,1,2,"input",34),o.ic(),o.jc(15,"div",25),o.jc(16,"mat-form-field"),o.jc(17,"mat-label"),o.Wc(18,"Correct Marks"),o.ic(),o.jc(19,"input",35),o.rc("ngModelChange",(function(e){return o.Mc(c),t.$implicit.correctMarks=e})),o.ic(),o.ic(),o.ic(),o.jc(20,"div",25),o.jc(21,"mat-form-field"),o.jc(22,"mat-label"),o.Wc(23,"Wrong Marks"),o.ic(),o.jc(24,"input",35),o.rc("ngModelChange",(function(e){return o.Mc(c),t.$implicit.wrongMarks=e})),o.ic(),o.ic(),o.ic(),o.jc(25,"div",36),o.jc(26,"mat-form-field"),o.jc(27,"mat-label"),o.Wc(28,"Tag"),o.ic(),o.jc(29,"mat-select",30),o.rc("ngModelChange",(function(e){return o.Mc(c),t.$implicit.tag=e})),o.Vc(30,Lt,1,2,"mat-option",9),o.ic(),o.ic(),o.ic(),o.jc(31,"div",37),o.jc(32,"mat-form-field"),o.jc(33,"mat-label"),o.Wc(34,"Difficulty"),o.ic(),o.jc(35,"mat-select",30),o.rc("ngModelChange",(function(e){return o.Mc(c),t.$implicit.difficulty=e})),o.Vc(36,Xt,1,2,"mat-option",9),o.ic(),o.ic(),o.ic(),o.ic()}if(2&e){var n=t.$implicit,i=t.index,a=o.vc();o.Pb(1),o.Bc("innerText",i+1),o.Pb(5),o.Bc("name","subject"+i)("ngModel",n.subject),o.Pb(1),o.Bc("ngForOf",a.subjects),o.Pb(2),o.Bc("ngModel",n.questionType)("name","questionType"+i),o.Pb(1),o.Bc("ngForOf",a.questionTypes),o.Pb(2),o.Bc("ngIf","S"==n.questionType),o.Pb(1),o.Bc("ngIf","M"==n.questionType),o.Pb(1),o.Bc("ngIf","I"==n.questionType),o.Pb(5),o.Bc("name","correctMarks"+i)("ngModel",n.correctMarks),o.Pb(5),o.Bc("name","wrongMarks"+i)("ngModel",n.wrongMarks),o.Pb(5),o.Bc("name","tag"+i)("ngModel",n.tag),o.Pb(1),o.Bc("ngForOf",a.tagTypes),o.Pb(5),o.Bc("name","difficulty"+i)("ngModel",n.difficulty),o.Pb(1),o.Bc("ngForOf",a.difficultyTypes)}}function Yt(e,t){if(1&e){var c=o.kc();o.jc(0,"button",39),o.rc("click",(function(){o.Mc(c);var e=o.vc(),t=o.Ic(7);return e.submit(t)})),o.Wc(1,"Submit"),o.ic()}}function Qt(e,t){if(1&e&&o.ec(0,"mat-option",22),2&e){var c=t.$implicit;o.Bc("innerText",c.subject)("value",c.subject)}}function Ht(e,t){if(1&e&&(o.jc(0,"mat-radio-button",23),o.Wc(1),o.ic()),2&e){var c=t.$implicit;o.Bc("value",c.type),o.Pb(1),o.Xc(c.type)}}function zt(e,t){if(1&e){var c=o.kc();o.jc(0,"mat-radio-group",24),o.rc("ngModelChange",(function(e){return o.Mc(c),o.vc().$implicit.single=e})),o.ec(1,"mat-radio-button",23),o.ec(2,"mat-radio-button",23),o.ec(3,"mat-radio-button",23),o.ec(4,"mat-radio-button",23),o.ic()}if(2&e){var n=o.vc(),i=n.$implicit;o.Bc("name","ans_"+n.index)("ngModel",i.single),o.Pb(1),o.Bc("value","A"),o.Pb(1),o.Bc("value","B"),o.Pb(1),o.Bc("value","C"),o.Pb(1),o.Bc("value","D")}}function Jt(e,t){if(1&e){var c=o.kc();o.hc(0),o.jc(1,"mat-checkbox",10),o.rc("ngModelChange",(function(e){return o.Mc(c),o.vc().$implicit.multiple.option_a=e})),o.ic(),o.jc(2,"mat-checkbox",10),o.rc("ngModelChange",(function(e){return o.Mc(c),o.vc().$implicit.multiple.option_b=e})),o.ic(),o.jc(3,"mat-checkbox",10),o.rc("ngModelChange",(function(e){return o.Mc(c),o.vc().$implicit.multiple.option_c=e})),o.ic(),o.jc(4,"mat-checkbox",10),o.rc("ngModelChange",(function(e){return o.Mc(c),o.vc().$implicit.multiple.option_d=e})),o.ic(),o.gc()}if(2&e){var n=o.vc(),i=n.index,a=n.$implicit;o.Pb(1),o.Bc("name","mul-a"+i)("ngModel",a.multiple.option_a),o.Pb(1),o.Bc("name","mul-b"+i)("ngModel",a.multiple.option_b),o.Pb(1),o.Bc("name","mul-c"+i)("ngModel",a.multiple.option_c),o.Pb(1),o.Bc("name","mul-d"+i)("ngModel",a.multiple.option_d)}}function Gt(e,t){if(1&e){var c=o.kc();o.jc(0,"input",10),o.rc("ngModelChange",(function(e){return o.Mc(c),o.vc().$implicit.integer=e})),o.ic()}if(2&e){var n=o.vc(),i=n.$implicit;o.Bc("name","ans_"+n.index)("ngModel",i.integer)}}function Zt(e,t){if(1&e&&o.ec(0,"mat-option",22),2&e){var c=t.$implicit;o.Bc("innerText",c.difficulty)("value",c.difficulty)}}function ec(e,t){if(1&e&&o.ec(0,"mat-option",22),2&e){var c=t.$implicit;o.Bc("innerText",c.tag)("value",c.tag)}}function tc(e,t){if(1&e){var c=o.kc();o.jc(0,"div",7),o.ec(1,"div",8),o.jc(2,"div",9),o.jc(3,"mat-form-field"),o.jc(4,"mat-label"),o.Wc(5,"Subject"),o.ic(),o.jc(6,"mat-select",10),o.rc("ngModelChange",(function(e){return o.Mc(c),t.$implicit.subject=e})),o.Vc(7,Qt,1,2,"mat-option",11),o.ic(),o.ic(),o.ic(),o.jc(8,"div",12),o.jc(9,"mat-radio-group",13),o.rc("ngModelChange",(function(e){return o.Mc(c),t.$implicit.questionType=e})),o.Vc(10,Ht,2,2,"mat-radio-button",14),o.ic(),o.ic(),o.jc(11,"div",12),o.Vc(12,zt,5,6,"mat-radio-group",15),o.Vc(13,Jt,5,8,"ng-container",16),o.Vc(14,Gt,1,2,"input",17),o.ic(),o.jc(15,"div",18),o.jc(16,"mat-form-field"),o.jc(17,"mat-label"),o.Wc(18,"Correct Marks"),o.ic(),o.jc(19,"input",19),o.rc("ngModelChange",(function(e){return o.Mc(c),t.$implicit.correctMarks=e})),o.ic(),o.ic(),o.ic(),o.jc(20,"div",18),o.jc(21,"mat-form-field"),o.jc(22,"mat-label"),o.Wc(23,"Wrong Marks"),o.ic(),o.jc(24,"input",19),o.rc("ngModelChange",(function(e){return o.Mc(c),t.$implicit.wrongMarks=e})),o.ic(),o.ic(),o.ic(),o.jc(25,"div",20),o.jc(26,"mat-form-field"),o.jc(27,"mat-label"),o.Wc(28,"Difficulty"),o.ic(),o.jc(29,"mat-select",10),o.rc("ngModelChange",(function(e){return o.Mc(c),t.$implicit.difficulty=e})),o.Vc(30,Zt,1,2,"mat-option",11),o.ic(),o.ic(),o.ic(),o.jc(31,"div",21),o.jc(32,"mat-form-field"),o.jc(33,"mat-label"),o.Wc(34,"Tag"),o.ic(),o.jc(35,"mat-select",10),o.rc("ngModelChange",(function(e){return o.Mc(c),t.$implicit.tag=e})),o.Vc(36,ec,1,2,"mat-option",11),o.ic(),o.ic(),o.ic(),o.ic()}if(2&e){var n=t.$implicit,i=t.index,a=o.vc();o.Pb(1),o.Bc("innerText",i+1),o.Pb(5),o.Bc("name","subject"+i)("ngModel",n.subject),o.Pb(1),o.Bc("ngForOf",a.subjects),o.Pb(2),o.Bc("ngModel",n.questionType)("name","questionType"+i),o.Pb(1),o.Bc("ngForOf",a.questionTypes),o.Pb(2),o.Bc("ngIf","S"==n.questionType),o.Pb(1),o.Bc("ngIf","M"==n.questionType),o.Pb(1),o.Bc("ngIf","I"==n.questionType),o.Pb(5),o.Bc("name","correctMarks"+i)("ngModel",n.correctMarks),o.Pb(5),o.Bc("name","wrongMarks"+i)("ngModel",n.wrongMarks),o.Pb(5),o.Bc("name","difficulty"+i)("ngModel",n.difficulty),o.Pb(1),o.Bc("ngForOf",a.difficultyTypes),o.Pb(5),o.Bc("name","tag"+i)("ngModel",n.tag),o.Pb(1),o.Bc("ngForOf",a.tagTypes)}}function cc(e,t){if(1&e){var c=o.kc();o.jc(0,"button",25),o.rc("click",(function(){o.Mc(c);var e=o.vc(),t=o.Ic(7);return e.submit(t)})),o.Wc(1,"Submit"),o.ic()}}var nc,ic,ac,rc,oc=[{path:"",component:d},{path:"send-sms-by-number",component:M},{path:"send-sms-by-batch",component:B},{path:"finished-lectures",component:A},{path:"add-omr",component:be},{path:"edit-omr/:omrId",component:nt},{path:"omrs",component:Ce},{path:"zoom-integration",component:dt},{path:"special-exams",component:(ac=function(){function e(t,c){var n=this;_classCallCheck(this,e),this.coreService=t,this.dialog=c,this.loading=!0,this.modal={addModal:!1,editModal:!1,showAnswerKey:!1},this.addClassForm={examId:null,className:null},this.addSetForm={examId:null,classId:null,setName:null,classes:[]},this.addStreamForm={examId:null,classId:null,setId:null,stream:null,classes:[],sets:[]},this.assignOMRForm={examId:null,classId:null,setId:null,omrId:null,classes:[],sets:[]},this.callBack=function(){n.getAllExams()},this.exams=[],this.examClassSetAnswerkey=[],this.classes_sets=[],this.classNames=[{name:"5th"},{name:"6th"},{name:"7th"},{name:"8th"},{name:"9th"},{name:"10th"},{name:"11th"},{name:"12th"}],this.setNames=[{name:"A"},{name:"B"},{name:"C"},{name:"D"},{name:"E"},{name:"F"},{name:"G"},{name:"H"}],this.streamNames=[{name:"Non-Medical"},{name:"Medical"}],this.omrs=[],this.answerKey=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getAllExams(),this.getAllExamClassSetAnswerkey(),this.getClassesSetsAndStreams(),this.getOMRs()}},{key:"getOMRs",value:function(){var e=this;this.coreService.getRequest(u.a.API_URL+"omr/").subscribe((function(t){e.loading=!1,e.omrs=t}))}},{key:"getClassesSetsAndStreams",value:function(){var e=this;this.coreService.getRequest(u.a.API_URL+"special-exams/classes-set-stream").subscribe((function(t){e.classes_sets=t,e.loading=!1}))}},{key:"getAllExams",value:function(){var e=this;this.coreService.getRequest(u.a.API_URL+"special-exams").subscribe((function(t){e.loading=!1,e.exams=t}))}},{key:"editExam",value:function(e){this.activeExam=e,this.modal.editModal=!0}},{key:"deleteExam",value:function(e,t){var c=this;this.dialog.showDialog({content:'Are you sure to delete exam "'.concat(e.examName,'"?'),callBack:function(){c.loading=!0,c.coreService.deleteRequest(u.a.API_URL+"special-exams/"+e.examId).subscribe((function(e){c.loading=!1,e.success&&c.exams.splice(t,1)}))}})}},{key:"addClassInExam",value:function(){var e=this;this.loading=!0,this.coreService.postRequest(u.a.API_URL+"special-exams/classes",this.addClassForm).subscribe((function(t){e.loading=!1,e.dialog.showDialog({content:t.message})}))}},{key:"addSetInExamClass",value:function(){var e=this;this.loading=!0,this.coreService.postRequest(u.a.API_URL+"special-exams/classes/set",this.addSetForm).subscribe((function(t){e.loading=!1,e.dialog.showDialog({content:t.message})}))}},{key:"addStreamInExamClass",value:function(){var e=this;this.loading=!0,this.coreService.postRequest(u.a.API_URL+"special-exams/classes/set/stream",this.addStreamForm).subscribe((function(t){e.loading=!1,e.dialog.showDialog({content:t.message})}))}},{key:"getAllExamClassSetAnswerkey",value:function(){var e=this;this.loading=!0,this.coreService.getRequest(u.a.API_URL+"special-exams/exam-class-set-answerkey").subscribe((function(t){e.loading=!1,e.examClassSetAnswerkey=t}))}},{key:"assignOMR",value:function(){var e=this;this.loading=!0,this.coreService.postRequest(u.a.API_URL+"special-exams/assign-omr",{setId:this.assignOMRForm.setId,omrId:this.assignOMRForm.omrId}).subscribe((function(t){e.loading=!1,e.dialog.showDialog({content:t.message})}))}},{key:"openAnswerKey",value:function(e){var t=this;this.loading=!0,this.answerKeyInfo="".concat(e.examName," ").concat(e.className," ").concat(e.setName," "),this.coreService.getRequest(u.a.API_URL+"special-exams/answer-key/"+e.answerKeyId).subscribe((function(e){t.loading=!1,t.answerKey=JSON.parse(e.answerKey),t.modal.showAnswerKey=!0}))}},{key:"setClasses",value:function(e,t){t.classes=this.classes_sets.filter((function(t){return t.examId==e}))}},{key:"setSets",value:function(e){var t=this.classes_sets.find((function(t){return t.classId==e.classId}));t&&(e.sets=t.sets)}}]),e}(),ac.\u0275fac=function(e){return new(e||ac)(o.dc(m.a),o.dc(g.a))},ac.\u0275cmp=o.Xb({type:ac,selectors:[["app-special-exams-home"]],decls:171,vars:46,consts:[["id","page-content"],[1,"content-title","row","align-items-center","justify-content-between"],["mat-raised-button","","color","primary",3,"click"],[1,"pinnacle-table"],[4,"ngFor","ngForOf"],[2,"height","15px"],[1,"content-title"],[1,"content-box"],[2,"width","250px"],[3,"ngModel","ngModelChange"],[3,"value","innerText",4,"ngFor","ngForOf"],[3,"innerText","value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"ngModel","ngModelChange","selectionChange"],["modal","",1,"modal",3,"show","options"],[1,"dialog"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],[3,"modals","callBack",4,"ngIf"],[3,"modals","exam",4,"ngIf"],[3,"show"],[3,"innerText"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","warn",3,"click"],["mat-mini-fab","","color","primary",3,"disabled","routerLink","click"],["mat-mini-fab","","color","primary",3,"disabled","click"],[3,"value","innerText"],[3,"innerText","value"],[3,"modals","callBack"],[3,"modals","exam"]],template:function(e,t){1&e&&(o.ec(0,"admin-header"),o.ec(1,"admin-sidebar"),o.jc(2,"div",0),o.jc(3,"div",1),o.Wc(4,"Active Special Exams "),o.jc(5,"button",2),o.rc("click",(function(){return t.modal.addModal=!0})),o.Wc(6,"Add"),o.ic(),o.ic(),o.jc(7,"table",3),o.jc(8,"tr"),o.jc(9,"th"),o.Wc(10,"Exam Name"),o.ic(),o.jc(11,"th"),o.Wc(12,"Action"),o.ic(),o.ic(),o.Vc(13,gt,10,1,"tr",4),o.ic(),o.ec(14,"div",5),o.jc(15,"div",6),o.Wc(16,"Exam, Class, Set, Stream, AnswerKey and OMR"),o.ic(),o.jc(17,"table",3),o.jc(18,"tr"),o.jc(19,"th"),o.Wc(20,"Exam Name"),o.ic(),o.jc(21,"th"),o.Wc(22,"Class"),o.ic(),o.jc(23,"th"),o.Wc(24,"Set"),o.ic(),o.jc(25,"th"),o.Wc(26,"Stream"),o.ic(),o.jc(27,"th"),o.Wc(28,"AnswerKey"),o.ic(),o.jc(29,"th"),o.Wc(30,"OMR"),o.ic(),o.ic(),o.Vc(31,ft,15,8,"tr",4),o.ic(),o.ec(32,"div",5),o.jc(33,"div",6),o.Wc(34,"Add Class in Exam"),o.ic(),o.jc(35,"div",7),o.jc(36,"mat-form-field",8),o.jc(37,"mat-label"),o.Wc(38,"Choose Exam"),o.ic(),o.jc(39,"mat-select",9),o.rc("ngModelChange",(function(e){return t.addClassForm.examId=e})),o.Vc(40,ht,1,2,"mat-option",10),o.ic(),o.ic(),o.ec(41,"br"),o.jc(42,"mat-form-field",8),o.jc(43,"mat-label"),o.Wc(44,"Class Name"),o.ic(),o.jc(45,"mat-select",9),o.rc("ngModelChange",(function(e){return t.addClassForm.className=e})),o.Vc(46,pt,1,2,"mat-option",11),o.ic(),o.ic(),o.ec(47,"br"),o.jc(48,"button",12),o.rc("click",(function(){return t.addClassInExam()})),o.Wc(49,"Add Class"),o.ic(),o.ic(),o.ec(50,"div",5),o.jc(51,"div",6),o.Wc(52,"Add Set in Exam Class"),o.ic(),o.jc(53,"div",7),o.jc(54,"mat-form-field",8),o.jc(55,"mat-label"),o.Wc(56,"Choose Exam"),o.ic(),o.jc(57,"mat-select",13),o.rc("ngModelChange",(function(e){return t.addSetForm.examId=e}))("selectionChange",(function(){return t.setClasses(t.addSetForm.examId,t.addSetForm)})),o.Vc(58,bt,1,2,"mat-option",10),o.ic(),o.ic(),o.ec(59,"br"),o.jc(60,"mat-form-field",8),o.jc(61,"mat-label"),o.Wc(62,"Class Name"),o.ic(),o.jc(63,"mat-select",9),o.rc("ngModelChange",(function(e){return t.addSetForm.classId=e})),o.Vc(64,vt,1,2,"mat-option",11),o.ic(),o.ic(),o.ec(65,"br"),o.jc(66,"mat-form-field",8),o.jc(67,"mat-label"),o.Wc(68,"Set"),o.ic(),o.jc(69,"mat-select",9),o.rc("ngModelChange",(function(e){return t.addSetForm.setName=e})),o.Vc(70,Mt,1,2,"mat-option",11),o.ic(),o.ic(),o.ec(71,"br"),o.jc(72,"button",12),o.rc("click",(function(){return t.addSetInExamClass()})),o.Wc(73,"Add Set"),o.ic(),o.ic(),o.ec(74,"div",5),o.jc(75,"div",6),o.Wc(76,"Add Stream in Exam Class And Set"),o.ic(),o.jc(77,"div",7),o.jc(78,"mat-form-field",8),o.jc(79,"mat-label"),o.Wc(80,"Choose Exam"),o.ic(),o.jc(81,"mat-select",13),o.rc("ngModelChange",(function(e){return t.addStreamForm.examId=e}))("selectionChange",(function(){return t.setClasses(t.addStreamForm.examId,t.addStreamForm)})),o.Vc(82,jt,1,2,"mat-option",10),o.ic(),o.ic(),o.ec(83,"br"),o.jc(84,"mat-form-field",8),o.jc(85,"mat-label"),o.Wc(86,"Class Name"),o.ic(),o.jc(87,"mat-select",13),o.rc("ngModelChange",(function(e){return t.addStreamForm.classId=e}))("selectionChange",(function(){return t.setSets(t.addStreamForm)})),o.Vc(88,Ct,1,2,"mat-option",11),o.ic(),o.ic(),o.ec(89,"br"),o.jc(90,"mat-form-field",8),o.jc(91,"mat-label"),o.Wc(92,"Set"),o.ic(),o.jc(93,"mat-select",9),o.rc("ngModelChange",(function(e){return t.addStreamForm.setId=e})),o.Vc(94,yt,1,2,"mat-option",11),o.ic(),o.ic(),o.ec(95,"br"),o.jc(96,"mat-form-field",8),o.jc(97,"mat-label"),o.Wc(98,"Stream"),o.ic(),o.jc(99,"mat-select",9),o.rc("ngModelChange",(function(e){return t.addStreamForm.stream=e})),o.Vc(100,Pt,1,2,"mat-option",11),o.ic(),o.ic(),o.ec(101,"br"),o.jc(102,"button",12),o.rc("click",(function(){return t.addStreamInExamClass()})),o.Wc(103,"Add Stream"),o.ic(),o.ic(),o.ec(104,"div",5),o.jc(105,"div",6),o.Wc(106,"Assign OMR in Exam Class And Set"),o.ic(),o.jc(107,"div",7),o.jc(108,"mat-form-field",8),o.jc(109,"mat-label"),o.Wc(110,"Choose Exam"),o.ic(),o.jc(111,"mat-select",13),o.rc("ngModelChange",(function(e){return t.assignOMRForm.examId=e}))("selectionChange",(function(){return t.setClasses(t.assignOMRForm.examId,t.assignOMRForm)})),o.Vc(112,kt,1,2,"mat-option",10),o.ic(),o.ic(),o.ec(113,"br"),o.jc(114,"mat-form-field",8),o.jc(115,"mat-label"),o.Wc(116,"Class Name"),o.ic(),o.jc(117,"mat-select",13),o.rc("ngModelChange",(function(e){return t.assignOMRForm.classId=e}))("selectionChange",(function(){return t.setSets(t.assignOMRForm)})),o.Vc(118,xt,1,2,"mat-option",11),o.ic(),o.ic(),o.ec(119,"br"),o.jc(120,"mat-form-field",8),o.jc(121,"mat-label"),o.Wc(122,"Set"),o.ic(),o.jc(123,"mat-select",9),o.rc("ngModelChange",(function(e){return t.assignOMRForm.setId=e})),o.Vc(124,It,1,2,"mat-option",11),o.ic(),o.ic(),o.ec(125,"br"),o.jc(126,"mat-form-field",8),o.jc(127,"mat-label"),o.Wc(128,"OMR"),o.ic(),o.jc(129,"mat-select",9),o.rc("ngModelChange",(function(e){return t.assignOMRForm.omrId=e})),o.Vc(130,Bt,1,2,"mat-option",11),o.ic(),o.ic(),o.ec(131,"br"),o.jc(132,"button",12),o.rc("click",(function(){return t.assignOMR()})),o.Wc(133,"Assign OMR"),o.ic(),o.ic(),o.ic(),o.jc(134,"div",14),o.jc(135,"div",15),o.jc(136,"div",16),o.Wc(137,"Add Exam Modal"),o.ic(),o.jc(138,"div",17),o.rc("click",(function(){return t.modal.addModal=!1})),o.Wc(139,"\xd7"),o.ic(),o.jc(140,"div",18),o.Vc(141,wt,1,2,"add-special-exams",19),o.ic(),o.ic(),o.ic(),o.jc(142,"div",14),o.jc(143,"div",15),o.jc(144,"div",16),o.Wc(145,"Edit Exam Modal"),o.ic(),o.jc(146,"div",17),o.rc("click",(function(){return t.modal.editModal=!1})),o.Wc(147,"\xd7"),o.ic(),o.jc(148,"div",18),o.Vc(149,Ot,1,2,"edit-special-exams",20),o.ic(),o.ic(),o.ic(),o.jc(150,"div",14),o.jc(151,"div",15),o.jc(152,"div",16),o.Wc(153),o.ic(),o.jc(154,"div",17),o.rc("click",(function(){return t.modal.showAnswerKey=!1})),o.Wc(155,"\xd7"),o.ic(),o.jc(156,"div",18),o.jc(157,"table",3),o.jc(158,"tr"),o.jc(159,"th"),o.Wc(160,"Subject"),o.ic(),o.jc(161,"th"),o.Wc(162,"Question Type"),o.ic(),o.jc(163,"th"),o.Wc(164,"Answer"),o.ic(),o.jc(165,"th"),o.Wc(166,"Correct Marks"),o.ic(),o.jc(167,"th"),o.Wc(168,"Wrong Marks"),o.ic(),o.ic(),o.Vc(169,Tt,6,5,"tr",4),o.ic(),o.ic(),o.ic(),o.ic(),o.ec(170,"loading",21)),2&e&&(o.Pb(13),o.Bc("ngForOf",t.exams),o.Pb(18),o.Bc("ngForOf",t.examClassSetAnswerkey),o.Pb(8),o.Bc("ngModel",t.addClassForm.examId),o.Pb(1),o.Bc("ngForOf",t.exams),o.Pb(5),o.Bc("ngModel",t.addClassForm.className),o.Pb(1),o.Bc("ngForOf",t.classNames),o.Pb(2),o.Bc("disabled",!t.addClassForm.className),o.Pb(9),o.Bc("ngModel",t.addSetForm.examId),o.Pb(1),o.Bc("ngForOf",t.exams),o.Pb(5),o.Bc("ngModel",t.addSetForm.classId),o.Pb(1),o.Bc("ngForOf",t.addSetForm.classes),o.Pb(5),o.Bc("ngModel",t.addSetForm.setName),o.Pb(1),o.Bc("ngForOf",t.setNames),o.Pb(2),o.Bc("disabled",!t.addSetForm.setName),o.Pb(9),o.Bc("ngModel",t.addStreamForm.examId),o.Pb(1),o.Bc("ngForOf",t.exams),o.Pb(5),o.Bc("ngModel",t.addStreamForm.classId),o.Pb(1),o.Bc("ngForOf",t.addStreamForm.classes),o.Pb(5),o.Bc("ngModel",t.addStreamForm.setId),o.Pb(1),o.Bc("ngForOf",t.addStreamForm.sets),o.Pb(5),o.Bc("ngModel",t.addStreamForm.stream),o.Pb(1),o.Bc("ngForOf",t.streamNames),o.Pb(2),o.Bc("disabled",!t.addStreamForm.stream),o.Pb(9),o.Bc("ngModel",t.assignOMRForm.examId),o.Pb(1),o.Bc("ngForOf",t.exams),o.Pb(5),o.Bc("ngModel",t.assignOMRForm.classId),o.Pb(1),o.Bc("ngForOf",t.assignOMRForm.classes),o.Pb(5),o.Bc("ngModel",t.assignOMRForm.setId),o.Pb(1),o.Bc("ngForOf",t.assignOMRForm.sets),o.Pb(5),o.Bc("ngModel",t.assignOMRForm.omrId),o.Pb(1),o.Bc("ngForOf",t.omrs),o.Pb(2),o.Bc("disabled",!t.assignOMRForm.omrId),o.Pb(2),o.Bc("show",t.modal.addModal)("options",o.Cc(43,Wt)),o.Pb(7),o.Bc("ngIf",t.modal.addModal),o.Pb(1),o.Bc("show",t.modal.editModal)("options",o.Cc(44,Wt)),o.Pb(7),o.Bc("ngIf",t.modal.editModal),o.Pb(1),o.Bc("show",t.modal.showAnswerKey)("options",o.Cc(45,Rt)),o.Pb(3),o.Yc("Answer Key of ",t.answerKeyInfo,""),o.Pb(16),o.Bc("ngForOf",t.answerKey),o.Pb(1),o.Bc("show",t.loading))},directives:[s.a,l.a,b.b,C.j,f.b,f.e,j.a,p.k,p.n,ye.a,C.k,v.a,ve.a,b.a,a.e,P.h,ut,mt],styles:[""]}),ac)},{path:"add-answer-key",component:(ic=function(){function e(t,c){_classCallCheck(this,e),this.coreService=t,this.dialog=c,this.loading=!0,this.answerKeyForm={examId:null,classId:null,setId:null,streamId:null,totalQuestions:null},this.exams=[],this.classes_sets=[],this.classes=[],this.sets=[],this.streams=[],this.questionsData=[],this.subjects=[{subject:"SST"},{subject:"MAT"},{subject:"Maths"},{subject:"Physics"},{subject:"Chemistry"},{subject:"Biology"}],this.questionTypes=[{type:"S"},{type:"M"},{type:"I"}],this.difficultyTypes=[{difficulty:"Easy"},{difficulty:"Medium"},{difficulty:"Difficult"}],this.tagTypes=[{tag:"Conceptual"},{tag:"Memory"},{tag:"Application"}]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getAllExams(),this.getClassesSetsAndStreams()}},{key:"getAllExams",value:function(){var e=this;this.coreService.getRequest(u.a.API_URL+"special-exams").subscribe((function(t){e.loading=!1,e.exams=t}))}},{key:"getClassesSetsAndStreams",value:function(){var e=this;this.loading=!0,this.coreService.getRequest(u.a.API_URL+"special-exams/classes-set-stream").subscribe((function(t){e.classes_sets=t}))}},{key:"setClasses",value:function(e){this.classes=this.classes_sets.filter((function(t){return t.examId==e}))}},{key:"setSets",value:function(){var e=this,t=this.classes_sets.find((function(t){return t.classId==e.answerKeyForm.classId}));t&&(this.sets=t.sets)}},{key:"setStreams",value:function(){var e=this,t=this.sets.find((function(t){return t.setId==e.answerKeyForm.setId}));t&&(this.streams=t.streams)}},{key:"setQuestions",value:function(){this.questionsData=[];for(var e=1;e<=this.answerKeyForm.totalQuestions;e++)this.questionsData.push({subject:null,questionType:null,integer:null,single:null,multiple:{option_a:null,option_b:null,option_c:null,option_d:null},correctMarks:null,wrongMarks:null,difficulty:null,tag:null})}},{key:"setAllQuestionTypes",value:function(){var e=this;this.questionsData.forEach((function(t){return t.questionType=e.questionType}))}},{key:"setAllCorrectMarks",value:function(){var e=this;this.questionsData.forEach((function(t){return t.correctMarks=e.correctMarks}))}},{key:"setAllWrongMarks",value:function(){var e=this;this.questionsData.forEach((function(t){return t.wrongMarks=e.wrongMarks}))}},{key:"submit",value:function(e){var t=this,c=[];this.questionsData.forEach((function(e,t){c.push({subject:e.subject,answer:[],correctMarks:+e.correctMarks,wrongMarks:+e.wrongMarks,difficulty:e.difficulty,tag:e.tag,questionType:e.questionType}),"S"==e.questionType?c[t].answer.push(e.single):"M"==e.questionType?(e.multiple.option_a&&c[t].answer.push("A"),e.multiple.option_b&&c[t].answer.push("B"),e.multiple.option_c&&c[t].answer.push("C"),e.multiple.option_d&&c[t].answer.push("D")):c[t].answer.push(+e.integer)}));var n={setId:this.answerKeyForm.setId,streamId:this.answerKeyForm.streamId,answerKey:c};this.loading=!0,this.coreService.postRequest(u.a.API_URL+"special-exams/answer-key",n).subscribe((function(c){t.loading=!1,t.dialog.showDialog({content:c.message}),c.success&&e.resetForm()}))}}]),e}(),ic.\u0275fac=function(e){return new(e||ic)(o.dc(m.a),o.dc(g.a))},ic.\u0275cmp=o.Xb({type:ic,selectors:[["app-add-answer-key"]],decls:42,vars:13,consts:[["id","page-content"],[1,"content-title"],[1,"content-box"],["form","ngForm"],[1,"row"],[1,"col-sm-3"],["name","examId",3,"ngModel","ngModelChange","selectionChange"],[3,"value","innerText",4,"ngFor","ngForOf"],["name","classId",3,"ngModel","ngModelChange","selectionChange"],[3,"innerText","value",4,"ngFor","ngForOf"],["name","setId",3,"ngModel","ngModelChange","selectionChange"],["name","streamId",3,"ngModel","ngModelChange"],["type","number","name","totalQuestions","matInput","",3,"ngModel","ngModelChange","change"],["class","row align-items-center filter",4,"ngIf"],["class","row align-items-center",4,"ngFor","ngForOf"],["type","button","mat-raised-button","","color","primary",3,"click",4,"ngIf"],[3,"show"],[3,"value","innerText"],[3,"innerText","value"],[1,"row","align-items-center","filter"],[1,"col-first"],[1,"col-sm-2","subject"],[1,"col-sm-2"],["name","questionType",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-1"],["matInput","",3,"name","ngModel","ngModelChange","change"],[3,"value"],[1,"row","align-items-center"],[1,"col-first",3,"innerText"],[3,"name","ngModel","ngModelChange"],[3,"ngModel","name","ngModelChange"],["required","",3,"name","ngModel","ngModelChange",4,"ngIf"],[4,"ngIf"],[3,"name","ngModel","ngModelChange",4,"ngIf"],["type","number","matInput","",3,"name","ngModel","ngModelChange"],[1,"col-sm-1","tag"],[1,"col-sm-1","difficulty"],["required","",3,"name","ngModel","ngModelChange"],["type","button","mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(o.ec(0,"admin-header"),o.ec(1,"admin-sidebar"),o.jc(2,"div",0),o.jc(3,"div",1),o.Wc(4,"Add AnswerKey"),o.ic(),o.jc(5,"div",2),o.jc(6,"form",null,3),o.jc(8,"div",4),o.jc(9,"div",5),o.jc(10,"mat-form-field"),o.jc(11,"mat-label"),o.Wc(12,"Choose Exam"),o.ic(),o.jc(13,"mat-select",6),o.rc("ngModelChange",(function(e){return t.answerKeyForm.examId=e}))("selectionChange",(function(){return t.setClasses(t.answerKeyForm.examId)})),o.Vc(14,St,1,2,"mat-option",7),o.ic(),o.ic(),o.ic(),o.jc(15,"div",5),o.jc(16,"mat-form-field"),o.jc(17,"mat-label"),o.Wc(18,"Class Name"),o.ic(),o.jc(19,"mat-select",8),o.rc("ngModelChange",(function(e){return t.answerKeyForm.classId=e}))("selectionChange",(function(){return t.setSets()})),o.Vc(20,_t,1,2,"mat-option",9),o.ic(),o.ic(),o.ic(),o.jc(21,"div",5),o.jc(22,"mat-form-field"),o.jc(23,"mat-label"),o.Wc(24,"Set"),o.ic(),o.jc(25,"mat-select",10),o.rc("ngModelChange",(function(e){return t.answerKeyForm.setId=e}))("selectionChange",(function(){return t.setStreams()})),o.Vc(26,Ft,1,2,"mat-option",9),o.ic(),o.ic(),o.ic(),o.jc(27,"div",5),o.jc(28,"mat-form-field"),o.jc(29,"mat-label"),o.Wc(30,"Stream"),o.ic(),o.jc(31,"mat-select",11),o.rc("ngModelChange",(function(e){return t.answerKeyForm.streamId=e})),o.Vc(32,Nt,1,2,"mat-option",9),o.ic(),o.ic(),o.ic(),o.jc(33,"div",5),o.jc(34,"mat-form-field"),o.jc(35,"mat-label"),o.Wc(36,"Total Questions"),o.ic(),o.jc(37,"input",12),o.rc("ngModelChange",(function(e){return t.answerKeyForm.totalQuestions=e}))("change",(function(){return t.setQuestions()})),o.ic(),o.ic(),o.ic(),o.ic(),o.Vc(38,qt,17,6,"div",13),o.Vc(39,Ut,37,20,"div",14),o.Vc(40,Yt,2,0,"button",15),o.ic(),o.ic(),o.ic(),o.ec(41,"loading",16)),2&e&&(o.Pb(13),o.Bc("ngModel",t.answerKeyForm.examId),o.Pb(1),o.Bc("ngForOf",t.exams),o.Pb(5),o.Bc("ngModel",t.answerKeyForm.classId),o.Pb(1),o.Bc("ngForOf",t.classes),o.Pb(5),o.Bc("ngModel",t.answerKeyForm.setId),o.Pb(1),o.Bc("ngForOf",t.sets),o.Pb(5),o.Bc("ngModel",t.answerKeyForm.streamId),o.Pb(1),o.Bc("ngForOf",t.streams),o.Pb(5),o.Bc("ngModel",t.answerKeyForm.totalQuestions),o.Pb(1),o.Bc("ngIf",t.questionsData.length>0),o.Pb(1),o.Bc("ngForOf",t.questionsData),o.Pb(1),o.Bc("ngIf",t.questionsData.length>0),o.Pb(1),o.Bc("show",t.loading))},directives:[s.a,l.a,p.v,p.l,p.m,f.b,f.e,j.a,p.k,p.n,C.j,p.p,h.a,p.b,C.k,v.a,P.h,y.b,y.a,p.r,q.a,b.b],styles:["[class*=col-][_ngcontent-%COMP%]{padding:0 5px}.col-first[_ngcontent-%COMP%]{width:30px;text-align:center}.subject[_ngcontent-%COMP%]{width:250px}.difficulty[_ngcontent-%COMP%], .tag[_ngcontent-%COMP%]{width:150px}mat-radio-button[_ngcontent-%COMP%]{margin-right:10px}mat-checkbox[_ngcontent-%COMP%]{margin-right:15px}.filter[_ngcontent-%COMP%]{border:1px solid #c5c5c5}"]}),ic)},{path:"edit-answer-key/:answerKeyId",component:(nc=function(){function e(t,c){var n=this;_classCallCheck(this,e),this.coreService=t,this.routes=c,this.loading=!0,this.questionsData=[],this.subjects=[{subject:"SST"},{subject:"MAT"},{subject:"Maths"},{subject:"Physics"},{subject:"Chemistry"},{subject:"Biology"}],this.questionTypes=[{type:"S"},{type:"M"},{type:"I"}],this.difficultyTypes=[{difficulty:"Easy"},{difficulty:"Medium"},{difficulty:"Difficult"}],this.tagTypes=[{tag:"Conceptual"},{tag:"Memory"},{tag:"Application"}],this.routes.params.subscribe((function(e){n.answerKeyId=e.answerKeyId,n.getAnswerKeyById(e.answerKeyId)}))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"getAnswerKeyById",value:function(e){var t=this;this.coreService.getRequest(u.a.API_URL+"special-exams/answer-key/"+e).subscribe((function(e){t.loading=!1,t.parseAnswerKey(JSON.parse(e.answerKey))}))}},{key:"parseAnswerKey",value:function(e){var t=[];e.forEach((function(e,c){var n={option_a:null,option_b:null,option_c:null,option_d:null};n.option_a=e.answer.includes("A"),n.option_b=e.answer.includes("B"),n.option_c=e.answer.includes("C"),n.option_d=e.answer.includes("D"),t.push({subject:e.subject,single:e.answer[0],bonus:e.bonus,questionType:e.questionType,correctMarks:e.correctMarks,wrongMarks:e.wrongMarks,difficulty:e.difficulty,tag:e.tag,multiple:n,integer:e.answer[0]})})),this.questionsData=t}},{key:"getFinalAnswerKey",value:function(){var e=[];return this.questionsData.forEach((function(t,c){e.push({subject:t.subject,answer:[],correctMarks:+t.correctMarks,wrongMarks:+t.wrongMarks,difficulty:t.difficulty,tag:t.tag,questionType:t.questionType}),"S"==t.questionType?e[c].answer.push(t.single):"M"==t.questionType?(t.multiple.option_a&&e[c].answer.push("A"),t.multiple.option_b&&e[c].answer.push("B"),t.multiple.option_c&&e[c].answer.push("C"),t.multiple.option_d&&e[c].answer.push("D")):e[c].answer.push(+t.integer)})),e}},{key:"submit",value:function(e){var t=this,c={answerKeyId:this.answerKeyId,answerKey:this.getFinalAnswerKey()};this.loading=!0,this.coreService.putRequest(u.a.API_URL+"special-exams/answer-key",c).subscribe((function(e){t.loading=!1}))}}]),e}(),nc.\u0275fac=function(e){return new(e||nc)(o.dc(m.a),o.dc(a.a))},nc.\u0275cmp=o.Xb({type:nc,selectors:[["app-edit-answer-key"]],decls:11,vars:3,consts:[["id","page-content"],[1,"content-title"],[1,"content-box"],["form","ngForm"],["class","row align-items-center",4,"ngFor","ngForOf"],["type","button","mat-raised-button","","color","primary",3,"click",4,"ngIf"],[3,"show"],[1,"row","align-items-center"],[1,"col-first",3,"innerText"],[1,"col-sm-2","subject"],[3,"name","ngModel","ngModelChange"],[3,"innerText","value",4,"ngFor","ngForOf"],[1,"col-sm-2"],[3,"ngModel","name","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["required","",3,"name","ngModel","ngModelChange",4,"ngIf"],[4,"ngIf"],[3,"name","ngModel","ngModelChange",4,"ngIf"],[1,"col-sm-1"],["type","number","matInput","",3,"name","ngModel","ngModelChange"],[1,"col-sm-1","difficulty"],[1,"col-sm-1","tag"],[3,"innerText","value"],[3,"value"],["required","",3,"name","ngModel","ngModelChange"],["type","button","mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(o.ec(0,"admin-header"),o.ec(1,"admin-sidebar"),o.jc(2,"div",0),o.jc(3,"div",1),o.Wc(4,"Edit Answer Key"),o.ic(),o.jc(5,"div",2),o.jc(6,"form",null,3),o.Vc(8,tc,37,20,"div",4),o.Vc(9,cc,2,0,"button",5),o.ic(),o.ic(),o.ic(),o.ec(10,"loading",6)),2&e&&(o.Pb(8),o.Bc("ngForOf",t.questionsData),o.Pb(1),o.Bc("ngIf",t.questionsData.length>0),o.Pb(1),o.Bc("show",t.loading))},directives:[s.a,l.a,p.v,p.l,p.m,C.j,C.k,v.a,f.b,f.e,j.a,p.k,p.n,y.b,p.p,h.a,p.b,P.h,y.a,p.r,q.a,b.b],styles:[".col-first[_ngcontent-%COMP%]{width:30px;text-align:center}.subject[_ngcontent-%COMP%]{width:250px}.difficulty[_ngcontent-%COMP%], .tag[_ngcontent-%COMP%]{width:150px}mat-radio-button[_ngcontent-%COMP%]{margin-right:10px}mat-checkbox[_ngcontent-%COMP%]{margin-right:15px}"]}),nc)}],sc=((rc=function e(){_classCallCheck(this,e)}).\u0275mod=o.bc({type:rc}),rc.\u0275inj=o.ac({factory:function(e){return new(e||rc)},imports:[[r.a,a.f.forChild(oc)]]}),rc)}}]);