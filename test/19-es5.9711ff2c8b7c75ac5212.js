function _classCallCheck(e,c){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,c){for(var t=0;t<c.length;t++){var i=c[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,c,t){return c&&_defineProperties(e.prototype,c),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{vzbn:function(e,c,t){"use strict";t.r(c),t.d(c,"ResultsModule",(function(){return P}));var i,a=t("ofXK"),n=t("n+G7"),l=t("tyNb"),s=t("SP9e"),o=t("fXoL"),r=t("FM/7"),u=t("QeEr"),d=t("aCk2"),m=t("G0I0"),f=t("3Pt+"),g=t("kmnG"),p=t("qFsG"),j=t("d3UM"),v=t("FKr1"),b=t("bTqV"),h=t("ZMsq"),k=t("NFeN"),M=((i=function(){function e(c,t){_classCallCheck(this,e),this.cms=c,this.dialog=t}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"setSelectedImage",value:function(e){this.selectedImage=e.target.files[0]}},{key:"updateResult",value:function(e){var c=this,t=new FormData;for(var i in t.append("image",this.selectedImage),t.append("id",this.result.id+""),e)t.append(i,e[i]);this.cms.updateResult(t).subscribe((function(e){e.success&&(c.modal.editResultModal=!1),c.dialog.showDialog({content:e.message})}))}}]),e}()).\u0275fac=function(e){return new(e||i)(o.dc(r.a),o.dc(u.a))},i.\u0275cmp=o.Xb({type:i,selectors:[["edit-result"]],inputs:{modal:"modal",result:"result"},decls:30,vars:4,consts:[[3,"ngSubmit"],["form","ngForm"],["matInput","","name","name",3,"ngModel","ngModelChange"],["matInput","","name","classdetails",3,"ngModel","ngModelChange"],["matInput","","name","marks",3,"ngModel","ngModelChange"],["name","category",3,"ngModel","ngModelChange"],["value","cbse"],["value","junior"],["value","senior"],[1,"row"],[1,"col-sm-6"],["type","file","accept","image/x-png,image/gif,image/jpeg",3,"change"],["mat-raised-button","","color","primary"]],template:function(e,c){if(1&e){var t=o.kc();o.jc(0,"form",0,1),o.rc("ngSubmit",(function(){o.Mc(t);var e=o.Ic(1);return c.updateResult(e.value)})),o.jc(2,"mat-form-field"),o.jc(3,"mat-label"),o.Wc(4,"Name"),o.ic(),o.jc(5,"input",2),o.rc("ngModelChange",(function(e){return c.result.name=e})),o.ic(),o.ic(),o.jc(6,"mat-form-field"),o.jc(7,"mat-label"),o.Wc(8,"Class Details"),o.ic(),o.jc(9,"textarea",3),o.rc("ngModelChange",(function(e){return c.result.classdetails=e})),o.ic(),o.ic(),o.jc(10,"mat-form-field"),o.jc(11,"mat-label"),o.Wc(12,"Marks"),o.ic(),o.jc(13,"input",4),o.rc("ngModelChange",(function(e){return c.result.marks=e})),o.ic(),o.ic(),o.jc(14,"mat-form-field"),o.jc(15,"mat-label"),o.Wc(16,"Select Category"),o.ic(),o.jc(17,"mat-select",5),o.rc("ngModelChange",(function(e){return c.result.category=e})),o.jc(18,"mat-option",6),o.Wc(19,"CBSE Result"),o.ic(),o.jc(20,"mat-option",7),o.Wc(21,"Junior Result"),o.ic(),o.jc(22,"mat-option",8),o.Wc(23,"Senior Result"),o.ic(),o.ic(),o.ic(),o.jc(24,"div",9),o.jc(25,"div",10),o.jc(26,"input",11),o.rc("change",(function(e){return c.setSelectedImage(e)})),o.ic(),o.ic(),o.jc(27,"div",10),o.jc(28,"button",12),o.Wc(29,"Submit"),o.ic(),o.ic(),o.ic(),o.ic()}2&e&&(o.Pb(5),o.Bc("ngModel",c.result.name),o.Pb(4),o.Bc("ngModel",c.result.classdetails),o.Pb(4),o.Bc("ngModel",c.result.marks),o.Pb(4),o.Bc("ngModel",c.result.category))},directives:[f.v,f.l,f.m,g.b,g.e,p.a,f.b,f.k,f.n,j.a,v.h,b.b],styles:[""]}),i);function R(e,c){if(1&e){var t=o.kc();o.jc(0,"tr"),o.jc(1,"td"),o.ec(2,"img",25),o.ic(),o.jc(3,"td"),o.Wc(4),o.ic(),o.jc(5,"td"),o.Wc(6),o.ic(),o.jc(7,"td"),o.Wc(8),o.ic(),o.jc(9,"td"),o.Wc(10),o.ic(),o.jc(11,"td"),o.jc(12,"button",26),o.rc("click",(function(){o.Mc(t);var e=c.$implicit;return o.vc().setActiveResult(e)})),o.jc(13,"mat-icon"),o.Wc(14,"create"),o.ic(),o.ic(),o.Wc(15,"\xa0 "),o.jc(16,"button",27),o.rc("click",(function(){o.Mc(t);var e=c.$implicit;return o.vc().deleteResult(e.id)})),o.jc(17,"mat-icon"),o.Wc(18,"delete"),o.ic(),o.ic(),o.ic(),o.ic()}if(2&e){var i=c.$implicit,a=o.vc();o.Pb(2),o.Bc("src",a.WEBSITE_URL+"uploads/results/"+i.image,o.Pc),o.Pb(2),o.Xc(i.name),o.Pb(2),o.Xc(i.classdetails),o.Pb(2),o.Xc(i.category),o.Pb(2),o.Xc(i.marks)}}function W(e,c){if(1&e&&o.ec(0,"edit-result",28),2&e){var t=o.vc();o.Bc("result",t.activeResult)("modal",t.modal)}}var y,C,I=function(){return{width:"60%"}},w=[{path:"",component:(y=function(){function e(c,t){_classCallCheck(this,e),this.cms=c,this.dialog=t,this.WEBSITE_URL=s.a.WEBSITE_URL,this.results=[],this.modal={editResultModal:!1}}return _createClass(e,[{key:"ngOnInit",value:function(){this.getResults()}},{key:"getResults",value:function(){var e=this;this.cms.getActiveResults().subscribe((function(c){e.results=c}))}},{key:"setActiveResult",value:function(e){this.activeResult=e,this.modal.editResultModal=!0}},{key:"setSelectedImage",value:function(e){this.selectedImage=e.target.files[0]}},{key:"uploadResult",value:function(e){var c=this,t=new FormData;for(var i in t.append("image",this.selectedImage),e)t.append(i,e[i]);this.cms.uploadResult(t).subscribe((function(e){e.success&&c.results.unshift(e.result),c.dialog.showDialog({content:e.message})}))}},{key:"deleteResult",value:function(e){var c=this;this.dialog.showDialog({title:"Confirm",content:"Are you sure to delete this Result?",callBack:function(){c.cms.deleteResult(e).subscribe((function(t){t.success&&c.results.splice(c.results.indexOf(c.results.find((function(c){return c.id==e}))),1)}))}})}}]),e}(),y.\u0275fac=function(e){return new(e||y)(o.dc(r.a),o.dc(u.a))},y.\u0275cmp=o.Xb({type:y,selectors:[["app-upload-results"]],decls:62,vars:5,consts:[["id","page-content"],[1,"content-title"],[1,"content-box"],[3,"ngSubmit"],["form","ngForm"],["matInput","","name","name","ngModel",""],["matInput","","name","classdetails","ngModel",""],["matInput","","name","marks","ngModel",""],["name","category","ngModel",""],["value","cbse"],["value","junior"],["value","senior"],[1,"row"],[1,"col-sm-6"],["type","file","accept","image/x-png,image/gif,image/jpeg",3,"change"],["mat-raised-button","","color","primary"],[2,"height","20px"],[1,"pinnacle-table"],[4,"ngFor","ngForOf"],["modal","",1,"modal",3,"show","options"],[1,"dialog"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],[3,"result","modal",4,"ngIf"],[3,"src"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","warn",3,"click"],[3,"result","modal"]],template:function(e,c){if(1&e){var t=o.kc();o.ec(0,"admin-header"),o.ec(1,"admin-sidebar"),o.jc(2,"div",0),o.jc(3,"div",1),o.Wc(4,"Upload Result"),o.ic(),o.jc(5,"div",2),o.jc(6,"form",3,4),o.rc("ngSubmit",(function(){o.Mc(t);var e=o.Ic(7);return c.uploadResult(e.value)})),o.jc(8,"mat-form-field"),o.jc(9,"mat-label"),o.Wc(10,"Name"),o.ic(),o.ec(11,"input",5),o.ic(),o.jc(12,"mat-form-field"),o.jc(13,"mat-label"),o.Wc(14,"Class Details"),o.ic(),o.ec(15,"textarea",6),o.ic(),o.jc(16,"mat-form-field"),o.jc(17,"mat-label"),o.Wc(18,"Marks"),o.ic(),o.ec(19,"input",7),o.ic(),o.jc(20,"mat-form-field"),o.jc(21,"mat-label"),o.Wc(22,"Select Category"),o.ic(),o.jc(23,"mat-select",8),o.jc(24,"mat-option",9),o.Wc(25,"CBSE Result"),o.ic(),o.jc(26,"mat-option",10),o.Wc(27,"Junior Result"),o.ic(),o.jc(28,"mat-option",11),o.Wc(29,"Senior Result"),o.ic(),o.ic(),o.ic(),o.jc(30,"div",12),o.jc(31,"div",13),o.jc(32,"input",14),o.rc("change",(function(e){return c.setSelectedImage(e)})),o.ic(),o.ic(),o.jc(33,"div",13),o.jc(34,"button",15),o.Wc(35,"Submit"),o.ic(),o.ic(),o.ic(),o.ic(),o.ic(),o.ec(36,"div",16),o.jc(37,"div",1),o.Wc(38,"Active Results"),o.ic(),o.jc(39,"table",17),o.jc(40,"tr"),o.jc(41,"th"),o.Wc(42,"Image"),o.ic(),o.jc(43,"th"),o.Wc(44,"Name"),o.ic(),o.jc(45,"th"),o.Wc(46,"Class Details"),o.ic(),o.jc(47,"th"),o.Wc(48,"Category"),o.ic(),o.jc(49,"th"),o.Wc(50,"Marks"),o.ic(),o.jc(51,"th"),o.Wc(52,"Action"),o.ic(),o.ic(),o.Vc(53,R,19,5,"tr",18),o.ic(),o.ic(),o.jc(54,"div",19),o.jc(55,"div",20),o.jc(56,"div",21),o.Wc(57,"Edit Result"),o.ic(),o.jc(58,"div",22),o.rc("click",(function(){return c.modal.editResultModal=!1})),o.Wc(59,"\xd7"),o.ic(),o.jc(60,"div",23),o.Vc(61,W,1,2,"edit-result",24),o.ic(),o.ic(),o.ic()}2&e&&(o.Pb(53),o.Bc("ngForOf",c.results),o.Pb(1),o.Bc("show",c.modal.editResultModal)("options",o.Cc(4,I)),o.Pb(7),o.Bc("ngIf",c.modal.editResultModal))},directives:[d.a,m.a,f.v,f.l,f.m,g.b,g.e,p.a,f.b,f.k,f.n,j.a,v.h,b.b,a.j,h.a,a.k,k.a,M],styles:["td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:80px}"]}),y)}],P=((C=function e(){_classCallCheck(this,e)}).\u0275mod=o.bc({type:C}),C.\u0275inj=o.ac({factory:function(e){return new(e||C)},imports:[[a.c,n.a,l.f.forChild(w)]]}),C)}}]);