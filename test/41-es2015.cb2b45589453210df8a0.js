(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{"7qhN":function(e,t,c){"use strict";c.r(t),c.d(t,"UtilitiesModule",(function(){return Qt}));var n=c("tyNb"),i=c("n+G7"),o=c("fXoL"),s=c("aCk2"),a=c("G0I0");let r=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xb({type:e,selectors:[["app-utilities-home"]],decls:3,vars:0,consts:[["id","page-content"]],template:function(e,t){1&e&&(o.ec(0,"admin-header"),o.ec(1,"admin-sidebar"),o.ec(2,"div",0))},directives:[s.a,a.a],styles:[""]}),e})();var l=c("SP9e"),d=c("4KEQ"),m=c("QeEr"),u=c("kmnG"),g=c("qFsG"),h=c("3Pt+"),p=c("bTqV"),f=c("V/o5");let b=(()=>{class e{constructor(e,t){this.coreService=e,this.dialog=t,this.form={numbers:null,message:null}}ngOnInit(){}sendSMS(){this.loading=!0;let e="numbers="+this.form.numbers+"&message="+encodeURIComponent(this.form.message);this.coreService.urlEncodedRequest(l.a.WEBSITE_URL+"pinnacle-common-api/send-sms-by-numbers.php",e).subscribe(e=>{this.dialog.showDialog({content:e.message}),this.loading=!1})}isValidNumbers(){let e=this.form.numbers.split(","),t=new RegExp("^[0-9]{10,10}$");for(let c=0;c<e.length;c++)if(!t.test(e[c]))return!1;return!0}}return e.\u0275fac=function(t){return new(t||e)(o.dc(d.a),o.dc(m.a))},e.\u0275cmp=o.Xb({type:e,selectors:[["app-send-smsby-numbers"]],decls:17,vars:4,consts:[["id","page-content"],[1,"content-title"],[1,"content-box"],["id","numbers","matInput","","required","",3,"ngModel","ngModelChange"],["matInput","","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"show"]],template:function(e,t){1&e&&(o.ec(0,"admin-header"),o.ec(1,"admin-sidebar"),o.jc(2,"div",0),o.jc(3,"div",1),o.Wc(4,"Send SMS By Number(s)"),o.ic(),o.jc(5,"div",2),o.jc(6,"mat-form-field"),o.jc(7,"mat-label"),o.Wc(8,"Enter mobile numbers like 7973770361,9812723799,8273897222 or just 7973770361"),o.ic(),o.jc(9,"textarea",3),o.rc("ngModelChange",(function(e){return t.form.numbers=e})),o.ic(),o.ic(),o.jc(10,"mat-form-field"),o.jc(11,"mat-label"),o.Wc(12,"Enter Message"),o.ic(),o.jc(13,"textarea",4),o.rc("ngModelChange",(function(e){return t.form.message=e})),o.ic(),o.ic(),o.jc(14,"button",5),o.rc("click",(function(){return t.sendSMS()})),o.Wc(15,"Send"),o.ic(),o.ic(),o.ic(),o.ec(16,"loading",6)),2&e&&(o.Pb(9),o.Bc("ngModel",t.form.numbers),o.Pb(4),o.Bc("ngModel",t.form.message),o.Pb(1),o.Bc("disabled",!t.form.message||!t.form.numbers||!t.isValidNumbers()),o.Pb(2),o.Bc("show",t.loading))},directives:[s.a,a.a,u.b,u.e,g.a,h.b,h.r,h.k,h.n,p.b,f.a],styles:["#numbers[_ngcontent-%COMP%]{height:200px}"]}),e})();var M=c("d3UM"),j=c("ofXK"),v=c("QibW"),C=c("FKr1");function P(e,t){if(1&e&&(o.jc(0,"mat-option",11),o.Wc(1),o.ic()),2&e){const e=t.$implicit;o.Bc("value",e.courseId),o.Pb(1),o.Xc(e.course)}}function x(e,t){if(1&e&&(o.jc(0,"mat-option",11),o.Wc(1),o.ic()),2&e){const e=t.$implicit;o.Bc("value",e.batchId),o.Pb(1),o.Xc(e.batch)}}let I=(()=>{class e{constructor(e,t){this.coreService=e,this.dialog=t,this.form={courseId:null,batchId:null,message:null,recipient:null}}ngOnInit(){this.getCourses()}getCourses(){this.coreService.getRequest(l.a.API_URL+"courses").subscribe(e=>{this.courses=e})}setBatches(){let e=this.courses.find(e=>e.courseId==this.form.courseId);this.batches=e.batches,this.form.batchId=null}sendSMS(){this.loading=!0;let e="courseId="+this.form.courseId+"&batchId="+this.form.batchId+"&recipient="+this.form.recipient+"&message="+encodeURIComponent(this.form.message);this.coreService.urlEncodedRequest(l.a.WEBSITE_URL+"pinnacle-common-api/send-sms-by-batch.php",e).subscribe(e=>{this.dialog.showDialog({content:e.message}),this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(o.dc(d.a),o.dc(m.a))},e.\u0275cmp=o.Xb({type:e,selectors:[["app-send-smsby-batch"]],decls:34,vars:11,consts:[["id","page-content"],[1,"content-title"],[1,"content-box"],["smsForm","ngForm"],["id","course"],["name","courseId","required","",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["id","batch"],["name","batchId","required","",3,"ngModel","ngModelChange"],["name","message","matInput","","required","",3,"ngModel","ngModelChange"],["name","recipient","required","",3,"ngModel","ngModelChange"],[3,"value"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"show"]],template:function(e,t){if(1&e&&(o.ec(0,"admin-header"),o.ec(1,"admin-sidebar"),o.jc(2,"div",0),o.jc(3,"div",1),o.Wc(4,"Send SMS By Batch"),o.ic(),o.jc(5,"div",2),o.jc(6,"form",null,3),o.jc(8,"mat-form-field",4),o.jc(9,"mat-label"),o.Wc(10,"Select Course"),o.ic(),o.jc(11,"mat-select",5),o.rc("ngModelChange",(function(e){return t.form.courseId=e}))("selectionChange",(function(){return t.setBatches()})),o.Vc(12,P,2,2,"mat-option",6),o.ic(),o.ic(),o.jc(13,"mat-form-field",7),o.jc(14,"mat-label"),o.Wc(15,"Select Batch"),o.ic(),o.jc(16,"mat-select",8),o.rc("ngModelChange",(function(e){return t.form.batchId=e})),o.Vc(17,x,2,2,"mat-option",6),o.ic(),o.ic(),o.jc(18,"mat-form-field"),o.jc(19,"mat-label"),o.Wc(20,"Enter Message"),o.ic(),o.jc(21,"textarea",9),o.rc("ngModelChange",(function(e){return t.form.message=e})),o.ic(),o.ic(),o.jc(22,"div"),o.Wc(23,"Send SMS To"),o.ic(),o.jc(24,"mat-radio-group",10),o.rc("ngModelChange",(function(e){return t.form.recipient=e})),o.jc(25,"mat-radio-button",11),o.Wc(26,"Parent"),o.ic(),o.jc(27,"mat-radio-button",11),o.Wc(28,"Student"),o.ic(),o.jc(29,"mat-radio-button",11),o.Wc(30,"Both"),o.ic(),o.ic(),o.jc(31,"button",12),o.rc("click",(function(){return t.sendSMS()})),o.Wc(32,"Send"),o.ic(),o.ic(),o.ic(),o.ic(),o.ec(33,"loading",13)),2&e){const e=o.Ic(7);o.Pb(11),o.Bc("ngModel",t.form.courseId),o.Pb(1),o.Bc("ngForOf",t.courses),o.Pb(4),o.Bc("ngModel",t.form.batchId),o.Pb(1),o.Bc("ngForOf",t.batches),o.Pb(4),o.Bc("ngModel",t.form.message),o.Pb(3),o.Bc("ngModel",t.form.recipient),o.Pb(1),o.Bc("value","Parent"),o.Pb(2),o.Bc("value","Student"),o.Pb(2),o.Bc("value","Both"),o.Pb(2),o.Bc("disabled",e.invalid),o.Pb(2),o.Bc("show",t.loading)}},directives:[s.a,a.a,h.v,h.l,h.m,u.b,u.e,M.a,h.r,h.k,h.n,j.j,g.a,h.b,v.b,v.a,p.b,f.a,C.h],styles:["#batch[_ngcontent-%COMP%], #course[_ngcontent-%COMP%]{width:200px;margin-right:10px}.mat-radio-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:300px;margin-top:10px;margin-bottom:15px}"]}),e})();var y=c("CGWC");function k(e,t){if(1&e&&(o.jc(0,"option",12),o.Wc(1),o.ic()),2&e){const e=t.$implicit;o.Bc("value",e.courseId),o.Pb(1),o.Xc(e.course)}}function B(e,t){if(1&e&&(o.jc(0,"option",12),o.Wc(1),o.ic()),2&e){const e=t.$implicit;o.Bc("value",e.batchId),o.Pb(1),o.Xc(e.batch)}}function w(e,t){if(1&e&&(o.jc(0,"th"),o.Wc(1),o.ic()),2&e){const e=t.$implicit;o.Pb(1),o.Xc(e.subject+" ("+e.cnt+")")}}function O(e,t){if(1&e&&(o.jc(0,"td"),o.jc(1,"div",16),o.jc(2,"div",17),o.Wc(3),o.ic(),o.ic(),o.ic()),2&e){const e=t.$implicit,c=o.vc().$implicit,n=o.vc(2);o.Pb(2),o.Uc("width",n.getStudentWatchPercentage(c.data,e.onlineLectureIds,e.cnt)+"%"),o.Pb(1),o.Yc(" ",n.getStudentWatchedCount(c.data,e.onlineLectureIds)," ")}}function T(e,t){if(1&e&&(o.jc(0,"tr"),o.jc(1,"td"),o.Wc(2),o.ic(),o.jc(3,"td"),o.Wc(4),o.ic(),o.Vc(5,O,4,3,"td",15),o.ic()),2&e){const e=t.$implicit,c=o.vc(2);o.Pb(2),o.Xc(e.name),o.Pb(2),o.Xc(e.rollNo),o.Pb(1),o.Bc("ngForOf",c.subjectsData)}}function W(e,t){if(1&e&&(o.jc(0,"div",13),o.jc(1,"table",14),o.jc(2,"tr"),o.jc(3,"th"),o.Wc(4,"Name"),o.ic(),o.jc(5,"th"),o.Wc(6,"Roll No"),o.ic(),o.Vc(7,w,2,1,"th",15),o.ic(),o.Vc(8,T,6,3,"tr",15),o.ic(),o.ic()),2&e){const e=o.vc();o.Pb(7),o.Bc("ngForOf",e.subjectsData),o.Pb(1),o.Bc("ngForOf",e.candidatesData)}}function R(e,t){if(1&e&&(o.ec(0,"div",18),o.wc(1,"safe")),2&e){const e=o.vc();o.Bc("innerHTML",o.xc(1,1,e.defaultEmptyMessage),o.Nc)}}let S=(()=>{class e{constructor(e,t){this.coreService=e,this.dialog=t,this.defaultEmptyMessage="Please search by Course &amp; Batch",this.courseId="",this.batchId="",this.subjectsData=[],this.candidatesData=[]}ngOnInit(){this.getCourses()}getCourses(){this.loading=!0,this.coreService.getRequest(l.a.API_URL+"courses").subscribe(e=>{this.courses=e,this.loading=!1})}setBatches(){let e=this.courses.find(e=>e.courseId==+this.courseId);e&&(this.batches=e.batches,this.batchId="")}search(){this.loading=!0,this.coreService.getRequest(l.a.API_URL+"online-lectures/finished-by-students/"+this.batchId).subscribe(e=>{this.loading=!1,this.subjectsData=e.subjectsData,this.candidatesData=e.candidatesData,0==this.candidatesData.length&&(this.defaultEmptyMessage="No records found")})}getStudentWatchedCount(e,t){return e?(e=(e=e.split(",")).filter(e=>e),(t=(t=t.split(",")).filter(e=>e)).filter(t=>e.includes(t)).length):0}getStudentWatchPercentage(e,t,c){let n=this.getStudentWatchedCount(e,t)/c*100;return n=+n.toFixed(2),n}}return e.\u0275fac=function(t){return new(t||e)(o.dc(d.a),o.dc(m.a))},e.\u0275cmp=o.Xb({type:e,selectors:[["app-finished-lectures"]],decls:19,vars:8,consts:[["id","page-content"],[1,"row","finished-row"],[1,"row"],["form","ngForm"],["name","course","required","",1,"select",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["name","batch","required","",1,"select",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"disabled","click"],["class","pinnacle-table-wrapper",4,"ngIf"],["class","no-data perfect-centered",3,"innerHTML",4,"ngIf"],[3,"show"],[3,"value"],[1,"pinnacle-table-wrapper"],[1,"pinnacle-table"],[4,"ngFor","ngForOf"],[1,"progress"],[1,"progress-bar"],[1,"no-data","perfect-centered",3,"innerHTML"]],template:function(e,t){if(1&e&&(o.ec(0,"admin-header"),o.ec(1,"admin-sidebar"),o.jc(2,"div",0),o.jc(3,"div",1),o.jc(4,"form",2,3),o.jc(6,"select",4),o.rc("ngModelChange",(function(e){return t.courseId=e}))("change",(function(){return t.setBatches()})),o.jc(7,"option",5),o.Wc(8,"Select Course"),o.ic(),o.Vc(9,k,2,2,"option",6),o.ic(),o.jc(10,"select",7),o.rc("ngModelChange",(function(e){return t.batchId=e})),o.jc(11,"option",5),o.Wc(12,"Select Batch"),o.ic(),o.Vc(13,B,2,2,"option",6),o.ic(),o.jc(14,"button",8),o.rc("click",(function(){return t.search()})),o.Wc(15,"Search"),o.ic(),o.ic(),o.ic(),o.Vc(16,W,9,2,"div",9),o.Vc(17,R,2,3,"div",10),o.ic(),o.ec(18,"loading",11)),2&e){const e=o.Ic(5);o.Pb(6),o.Bc("ngModel",t.courseId),o.Pb(3),o.Bc("ngForOf",t.courses),o.Pb(1),o.Bc("ngModel",t.batchId),o.Pb(3),o.Bc("ngForOf",t.batches),o.Pb(1),o.Bc("disabled",e.invalid),o.Pb(2),o.Bc("ngIf",t.candidatesData.length>0),o.Pb(1),o.Bc("ngIf",0==t.candidatesData.length),o.Pb(1),o.Bc("show",t.loading)}},directives:[s.a,a.a,h.v,h.l,h.m,h.s,h.r,h.k,h.n,h.o,h.u,j.j,p.b,j.k,f.a],pipes:[y.a],styles:[".select[_ngcontent-%COMP%]{width:200px;margin-right:10px}.finished-row[_ngcontent-%COMP%]{padding-bottom:15px}.progress[_ngcontent-%COMP%]{width:100%;height:20px;background:#f1f1f1;border-radius:4px}.progress-bar[_ngcontent-%COMP%]{background:var(--primary-bg-color-light);height:100%;border-radius:4px;color:#fff;text-align:center}@media screen and (max-width:516px){form[_ngcontent-%COMP%]{justify-content:space-between;width:100%;height:83px;align-content:space-between}.select[_ngcontent-%COMP%]{width:calc(50% - 5px);margin-right:0}}"]}),e})();var _=c("bSwM");const F=["referenceImageSRC"],N=["referenceImageTarget"];function A(e,t){if(1&e){const e=o.kc();o.hc(0),o.jc(1,"div",47),o.ec(2,"span",48),o.ec(3,"br"),o.jc(4,"mat-checkbox",49),o.rc("change",(function(c){o.Mc(e);const n=t.index;return o.vc(2).setRollNoIndex(n+1,c.checked)})),o.ic(),o.ic(),o.gc()}if(2&e){const e=t.index,c=o.vc(2);o.Pb(2),o.Bc("innerText",e+1),o.Pb(2),o.Bc("checked",c.step1.rollNoAlphabetsIndex.includes(e+1))}}function q(e,t){if(1&e&&(o.hc(0),o.ec(1,"br"),o.jc(2,"p"),o.Wc(3,"Please choose the Alphabets in Roll No."),o.ic(),o.Vc(4,A,5,2,"ng-container",46),o.gc()),2&e){const e=o.vc();o.Pb(4),o.Bc("ngForOf",e.createRange(e.step1.rollNoCount-0))}}function E(e,t){if(1&e){const e=o.kc();o.hc(0),o.jc(1,"div",50),o.ec(2,"div",51),o.jc(3,"mat-radio-group",52),o.rc("ngModelChange",(function(c){return o.Mc(e),t.$implicit.type=c})),o.jc(4,"mat-radio-button",53),o.Wc(5,"Single"),o.ic(),o.jc(6,"mat-radio-button",53),o.Wc(7,"Multi"),o.ic(),o.jc(8,"mat-radio-button",53),o.Wc(9,"Integer"),o.ic(),o.ic(),o.ic(),o.gc()}if(2&e){const e=t.$implicit,c=t.index;o.Pb(2),o.Bc("innerText",c+1),o.Pb(1),o.Bc("ngModel",e.type),o.Pb(1),o.Bc("value","S"),o.Pb(2),o.Bc("value","M"),o.Pb(2),o.Bc("value","I")}}function $(e,t){if(1&e&&(o.hc(0),o.jc(1,"p"),o.Wc(2,"Please set Question Type"),o.ic(),o.Vc(3,E,10,5,"ng-container",46),o.gc()),2&e){const e=o.vc();o.Pb(3),o.Bc("ngForOf",e.step3.questionsTypes)}}function V(e,t){if(1&e){const e=o.kc();o.jc(0,"div",54),o.jc(1,"h3"),o.Wc(2,"Mark OMR Reference Points "),o.ic(),o.jc(3,"button",55),o.rc("click",(function(){return o.Mc(e),o.vc().setForMark("omr","X1Y1")})),o.Wc(4,"First Corner"),o.ic(),o.jc(5,"button",55),o.rc("click",(function(){return o.Mc(e),o.vc().setForMark("omr","X2Y2")})),o.Wc(6,"Second Corner"),o.ic(),o.jc(7,"button",55),o.rc("click",(function(){return o.Mc(e),o.vc().setForMark("omr","X3Y3")})),o.Wc(8,"Third Corner"),o.ic(),o.ic()}if(2&e){const e=o.vc();o.Pb(3),o.Bc("color",e.isCoordinatesMarked("omr","X1Y1")?"primary":e.isCurrentMark("omr","X1Y1")?"warn":""),o.Pb(2),o.Bc("color",e.isCoordinatesMarked("omr","X2Y2")?"primary":e.isCurrentMark("omr","X2Y2")?"warn":""),o.Pb(2),o.Bc("color",e.isCoordinatesMarked("omr","X3Y3")?"primary":e.isCurrentMark("omr","X3Y3")?"warn":"")}}function D(e,t){if(1&e){const e=o.kc();o.jc(0,"div"),o.jc(1,"button",58),o.rc("click",(function(){o.Mc(e);const c=t.$implicit;return o.vc(3).setForMark("name",c)})),o.ic(),o.ic()}if(2&e){const e=t.$implicit,c=o.vc(3);o.Pb(1),o.Bc("color",c.isCoordinatesMarked("name",e)?"primary":c.isCurrentMark("name",e)?"warn":"")("innerText",e)}}function K(e,t){if(1&e&&(o.jc(0,"div",57),o.Vc(1,D,2,2,"div",46),o.ic()),2&e){const e=o.vc(2);o.Pb(1),o.Bc("ngForOf",e.objectKeys(e.coordinates.name))}}function L(e,t){if(1&e&&(o.hc(0),o.jc(1,"h3"),o.Wc(2,"Mark Name Reference Points"),o.ic(),o.Vc(3,K,2,1,"div",56),o.gc()),2&e){const e=o.vc();o.Pb(3),o.Bc("ngIf",e.coordinates)}}function X(e,t){if(1&e){const e=o.kc();o.hc(0),o.jc(1,"button",58),o.rc("click",(function(){o.Mc(e);const c=t.$implicit;return o.vc(3).setForMark("class",c)})),o.ic(),o.gc()}if(2&e){const e=t.$implicit,c=o.vc(3);o.Pb(1),o.Bc("color",c.isCoordinatesMarked("class",e)?"primary":c.isCurrentMark("class",e)?"warn":"")("innerText",e.replace("_","-"))}}function U(e,t){if(1&e&&(o.jc(0,"div",12),o.Vc(1,X,2,2,"ng-container",46),o.ic()),2&e){const e=o.vc(2);o.Pb(1),o.Bc("ngForOf",e.objectKeys(e.coordinates.class))}}function Y(e,t){if(1&e&&(o.hc(0),o.jc(1,"h3"),o.Wc(2,"Mark Class Reference Points"),o.ic(),o.Vc(3,U,2,1,"div",59),o.gc()),2&e){const e=o.vc();o.Pb(3),o.Bc("ngIf",e.coordinates)}}function Q(e,t){if(1&e){const e=o.kc();o.hc(0),o.jc(1,"button",58),o.rc("click",(function(){o.Mc(e);const c=t.$implicit;return o.vc(3).setForMark("set",c)})),o.ic(),o.gc()}if(2&e){const e=t.$implicit,c=o.vc(3);o.Pb(1),o.Bc("color",c.isCoordinatesMarked("set",e)?"primary":c.isCurrentMark("set",e)?"warn":"")("innerText",e)}}function H(e,t){if(1&e&&(o.jc(0,"div",12),o.Vc(1,Q,2,2,"ng-container",46),o.ic()),2&e){const e=o.vc(2);o.Pb(1),o.Bc("ngForOf",e.objectKeys(e.coordinates.set))}}function z(e,t){if(1&e&&(o.hc(0),o.jc(1,"h3"),o.Wc(2,"Mark Set Reference Points"),o.ic(),o.Vc(3,H,2,1,"div",59),o.gc()),2&e){const e=o.vc();o.Pb(3),o.Bc("ngIf",e.coordinates)}}function J(e,t){if(1&e){const e=o.kc();o.hc(0),o.jc(1,"button",58),o.rc("click",(function(){o.Mc(e);const c=t.$implicit;return o.vc(3).setForMark("rollNo",c)})),o.ic(),o.gc()}if(2&e){const e=t.$implicit,c=o.vc(3);o.Pb(1),o.Bc("color",c.isCoordinatesMarked("rollNo",e)?"primary":c.isCurrentMark("rollNo",e)?"warn":"")("innerText",e.replace("_","-"))}}function G(e,t){if(1&e&&(o.jc(0,"div",12),o.Vc(1,J,2,2,"ng-container",46),o.ic()),2&e){const e=o.vc(2);o.Pb(1),o.Bc("ngForOf",e.objectKeys(e.coordinates.rollNo))}}function Z(e,t){if(1&e&&(o.hc(0),o.jc(1,"h3"),o.Wc(2,"Mark RollNo Reference Points"),o.ic(),o.Vc(3,G,2,1,"div",59),o.gc()),2&e){const e=o.vc();o.Pb(3),o.Bc("ngIf",e.coordinates)}}function ee(e,t){if(1&e){const e=o.kc();o.hc(0),o.jc(1,"button",58),o.rc("click",(function(){o.Mc(e);const c=t.$implicit;return o.vc(3).setForMark("mobile",c)})),o.ic(),o.gc()}if(2&e){const e=t.$implicit,c=o.vc(3);o.Pb(1),o.Bc("color",c.isCoordinatesMarked("mobile",e)?"primary":c.isCurrentMark("mobile",e)?"warn":"")("innerText",e.replace("_","-"))}}function te(e,t){if(1&e&&(o.jc(0,"div",12),o.Vc(1,ee,2,2,"ng-container",46),o.ic()),2&e){const e=o.vc(2);o.Pb(1),o.Bc("ngForOf",e.objectKeys(e.coordinates.mobile))}}function ce(e,t){if(1&e&&(o.hc(0),o.jc(1,"h3"),o.Wc(2,"Mark Mobile Reference Points"),o.ic(),o.Vc(3,te,2,1,"div",59),o.gc()),2&e){const e=o.vc();o.Pb(3),o.Bc("ngIf",e.coordinates)}}const ne=function(e){return{small:e}};function ie(e,t){if(1&e){const e=o.kc();o.hc(0),o.jc(1,"button",60),o.rc("click",(function(){o.Mc(e);const c=t.$implicit;return o.vc(3).setForMark("response",c)})),o.ic(),o.gc()}if(2&e){const e=t.$implicit,c=o.vc(3);o.Pb(1),o.Bc("ngClass",o.Dc(3,ne,3==e.split("_").length))("color",c.isCoordinatesMarked("response",e)?"primary":c.isCurrentMark("response",e)?"warn":"")("innerText",e)}}function oe(e,t){if(1&e&&(o.jc(0,"div",12),o.Vc(1,ie,2,5,"ng-container",46),o.ic()),2&e){const e=o.vc(2);o.Pb(1),o.Bc("ngForOf",e.objectKeys(e.coordinates.response))}}function se(e,t){if(1&e&&(o.hc(0),o.jc(1,"h3"),o.Wc(2,"Mark Response Reference Points"),o.ic(),o.Vc(3,oe,2,1,"div",59),o.gc()),2&e){const e=o.vc();o.Pb(3),o.Bc("ngIf",e.coordinates)}}const ae=function(e){return{activetab:e}},re=function(e,t){return{showTab:e,hideTab:t}},le=function(e){return{active:e}};let de,me,ue=(()=>{class e{constructor(e,t){this.dialog=e,this.coreService=t,this.modals={exampleOMR:!1},this.currentTab=1,this.currentOMRTab="omr",this.WEBSITE_URL=l.a.WEBSITE_URL,this.step1={omrName:null,isName:null,nameCharactersCount:null,rollNoCount:null,isClass:null,isSet:null,isMobile:null,isRollNo:null,rollNoAlphabetsIndex:[]},this.step2={referenceImage:null},this.imageWidth=170,this.imageHeight=220,this.step3={questionsCount:null,questionsTypes:[]},this.coordinates={},this.masterCoordinates={},this.image=new Image,this.dummyArr=[]}ngOnInit(){this.setImageEvent(),this.setCanvasAndContext()}setCanvasAndContext(){me=document.getElementById("canvas"),me.addEventListener("click",e=>{if(!this.coordsToMark)return this.dialog.showDialog({content:"Please choose points first"});this.coordsToMark.x=e.offsetX,this.coordsToMark.y=e.offsetY,this.masterCoordinates[this.key1][this.key2].x=e.offsetX,this.masterCoordinates[this.key1][this.key2].y=e.offsetY,this.setImageOnCanvas(),this.prepareCoordinatesObjectAndSave()})}setImageOnCanvas(){this.image.src=this.step2.referenceImage,this.image.onload=()=>{this.imageHeight=this.image.height,this.imageWidth=this.image.width,setTimeout(()=>{de=me.getContext("2d"),de.drawImage(this.image,0,0,this.imageWidth,this.imageHeight),this.showMarkedPointsAtOMR()})}}setOMRImage(e){this.referenceImage=e.target.files[0]}isErrorInImage(){try{return this.dummyArr.push(this.referenceImageSRC.nativeElement),this.dummyArr.push(this.referenceImageTarget.nativeElement),!1}catch(e){return!0}}setImageEvent(){if(this.isErrorInImage())return setTimeout(()=>this.setImageEvent(),1e3);this.showSelectedImage(this.referenceImageSRC.nativeElement,this.referenceImageTarget.nativeElement),this.dummyArr.splice(0,0)}showSelectedImage(e,t){var c=new FileReader;c.onload=function(e){t.src=this.result},e.addEventListener("change",(function(){c.readAsDataURL(e.files[0])}))}createRange(e){return isNaN(e)||e<1?[]:new Array(e)}saveStep1AndNext(){this.loading=!0,this.coreService.postRequest(l.a.API_URL+"omr/step-1",this.step1).subscribe(e=>{this.loading=!1,this.omrId=e.omrId,this.currentTab=2})}uploadReferenceImage(){this.loading=!0;const e=l.a.API_URL+"omr/"+this.omrId+"/update-reference-image";let t=new FormData;t.append("image",this.referenceImage),t.append("omrName",this.step1.omrName),this.coreService.uploadRequest(e,t).subscribe(e=>{this.loading=!1,e.success&&(this.currentTab=3,this.step2.referenceImage=this.WEBSITE_URL+"uploads/"+e.referenceImage,this.setImageOnCanvas())})}saveStep3(){this.loading=!0;const e=l.a.API_URL+"omr/"+this.omrId+"/update-questions-types";let t={questionsTypes:this.step3.questionsTypes,totalQuestions:this.step3.questionsCount};this.prepareCoordinatesObjectAndSave(),this.coreService.putRequest(e,t).subscribe(e=>{this.loading=!1,e.success&&(this.currentTab=4)})}prepareCoordinatesObjectAndSave(){if(this.step1.isName){this.coordinates.name={};for(let e=0;e<26;e++)for(let t=1;t<=this.step1.nameCharactersCount;t++){let c=String.fromCodePoint(e+65)+t;this.coordinates.name[c]=c in(this.masterCoordinates.name||{})?this.masterCoordinates.name[c]:{x:null,y:null}}}if(this.step1.isRollNo){let e=this.step1.rollNoAlphabetsIndex.length;this.coordinates.rollNo={};for(let t=1;t<=this.step1.rollNoCount;t++)if(this.step1.rollNoAlphabetsIndex.includes(t))for(let e=0;e<26;e++){let c=String.fromCharCode(e+65)+t;this.coordinates.rollNo[c]=c in(this.masterCoordinates.rollNo||{})?this.masterCoordinates.rollNo[c]:{x:null,y:null}}else for(let c=0;c<10;c++){let n=`${c}_${t-e}`;this.coordinates.rollNo[n]=n in(this.masterCoordinates.rollNo||{})?this.masterCoordinates.rollNo[n]:{x:null,y:null}}}if(this.step1.isClass){this.coordinates.class={};for(let e=1;e<=2;e++)for(let t=0;t<10;t++){let c=`${t}_${e}`;this.coordinates.class[c]=c in(this.masterCoordinates.class||{})?this.masterCoordinates.class[c]:{x:null,y:null}}}if(this.step1.isSet){this.coordinates.set={};for(let e=65;e<75;e++){let t=String.fromCharCode(e);this.coordinates.set[t]=t in(this.masterCoordinates.set||{})?this.masterCoordinates.set[t]:{x:null,y:null}}}if(this.step1.isMobile){this.coordinates.mobile={};for(let e=1;e<=10;e++)for(let t=0;t<10;t++){let c=`${t}_${e}`;this.coordinates.mobile[c]=c in(this.masterCoordinates.mobile||{})?this.masterCoordinates.mobile[c]:{x:null,y:null}}}this.coordinates.response={};for(let e=1;e<=this.step3.questionsCount;e++)if("I"!=this.step3.questionsTypes[e-1].type)for(let t=65;t<=68;t++){let c=String.fromCharCode(t)+e;this.coordinates.response[c]=c in(this.masterCoordinates.response||{})?this.masterCoordinates.response[c]:{x:null,y:null}}else for(let t=0;t<=9;t++)for(let c=1;c<=2;c++){let n=e+"-"+t+"-"+c;this.coordinates.response[n]=n in(this.masterCoordinates.response||{})?this.masterCoordinates.response[n]:{x:null,y:null}}this.coordinates.omr="omr"in this.masterCoordinates?this.masterCoordinates.omr:{X1Y1:{x:null,y:null},X2Y2:{x:null,y:null},X3Y3:{x:null,y:null}},this.loading=!0,this.coreService.putRequest(l.a.API_URL+"omr/"+this.omrId+"/coordinates-object",this.coordinates).subscribe(e=>{this.loading=!1,this.masterCoordinates=Object.assign({},this.coordinates)})}showMarkedPointsAtOMR(){if(!de)return setTimeout(()=>this.showMarkedPointsAtOMR(),1e3);if(de.fillStyle="green",this.coordinates)for(let[,e]of Object.entries(this.coordinates))for(let[,t]of Object.entries(e))t.x&&t.y&&de.fillRect(t.x-3.5,t.y-3.5,8,8)}isCoordinatesMarked(e,t){return!(!this.coordinates||!this.coordinates[e])&&this.coordinates[e][t].x&&this.coordinates[e][t].y}setForMark(e,t){this.key1=e,this.key2=t,this.coordsToMark=this.coordinates[e][t],this.coordinates[e][t].x=null,this.coordinates[e][t].y=null,this.masterCoordinates[e][t].x=null,this.masterCoordinates[e][t].y=null,this.setImageOnCanvas()}isCurrentMark(e,t){if(this.coordinates&&this.coordinates[e]&&this.coordinates[e][t])return this.coordinates[e][t]==this.coordsToMark}setRollNoIndex(e,t){t?this.step1.rollNoAlphabetsIndex.includes(e)||this.step1.rollNoAlphabetsIndex.push(e):this.step1.rollNoAlphabetsIndex.splice(this.step1.rollNoAlphabetsIndex.indexOf(e),1)}setQuestionsCountAndType(){let e=this.step3.questionsCount;this.step3.questionsTypes=[];for(let t=0;t<e;t++)this.step3.questionsTypes.push({type:null})}objectKeys(e){return e?Object.keys(e):[]}}return e.\u0275fac=function(t){return new(t||e)(o.dc(m.a),o.dc(d.a))},e.\u0275cmp=o.Xb({type:e,selectors:[["app-add-omr"]],viewQuery:function(e,t){var c;1&e&&(o.cd(F,!0),o.cd(N,!0)),2&e&&(o.Hc(c=o.sc())&&(t.referenceImageSRC=c.first),o.Hc(c=o.sc())&&(t.referenceImageTarget=c.first))},decls:139,vars:71,consts:[["id","page-content"],[1,"row",2,"align-items","flex-start"],[1,"col-12","col-lg-12"],[1,"custom-shadow",2,"background-color","#fff"],["id","tab-header"],[1,"tab-header-item",3,"ngClass","click"],[1,"material-icons"],[1,"tab-step"],[1,"tab-step-desc"],["id","tab-content"],[3,"ngClass"],["step1Form","ngForm"],[1,"row"],[1,"field-col"],["matInput","","name","omrName","required","",3,"ngModel","ngModelChange"],[1,"row","align-items-center"],[1,"checkbox-col"],["name","isName",3,"ngModel","ngModelChange"],["matInput","","type","number","name","nameCharacterCount","required","",3,"ngModel","ngModelChange"],["name","isClass",3,"ngModel","ngModelChange"],["name","isSet",3,"ngModel","ngModelChange"],["name","isMobile",3,"ngModel","ngModelChange"],[1,"row",2,"align-items","flex-start","padding-top","15px"],[1,"checkbox-col",2,"padding-top","15px"],["name","isRollNo",3,"ngModel","ngModelChange"],["type","number","matInput","","name","rollNoCount","required","",3,"ngModel","ngModelChange"],["rollNo","ngModel"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["type","file",2,"margin-bottom","10px",3,"change"],["referenceImageSRC",""],[2,"max-width","400px","display","block"],["referenceImageTarget",""],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"col-sm-2"],["id","qc","matInput","","name","questionsCount","required","",3,"ngModel","ngModelChange"],["questionsCount","ngModel"],[1,"row","align-items-center","justify-content-between"],[2,"margin","0"],[1,"items-tabs"],[3,"ngClass","click"],[1,"items-row"],["id","omr-content",4,"ngIf"],[2,"width","100%","overflow","auto","margin-top","10px"],["id","canvas",3,"width","height"],[3,"show"],[4,"ngFor","ngForOf"],[2,"display","inline-block","text-align","center","margin-right","5px"],[3,"innerText"],[3,"checked","change"],[1,"question-type-item"],[1,"question-type-index",3,"innerText"],[3,"ngModel","ngModelChange"],[3,"value"],["id","omr-content"],["mat-raised-button","",3,"color","click"],["class","row name-row",4,"ngIf"],[1,"row","name-row"],["mat-mini-fab","",1,"round-buttons",3,"color","innerText","click"],["class","row",4,"ngIf"],["mat-mini-fab","",1,"round-buttons",3,"ngClass","color","innerText","click"]],template:function(e,t){if(1&e&&(o.ec(0,"admin-header"),o.ec(1,"admin-sidebar"),o.jc(2,"div",0),o.jc(3,"div",1),o.jc(4,"div",2),o.jc(5,"div",3),o.jc(6,"div",4),o.jc(7,"div",5),o.rc("click",(function(){return t.currentTab=1})),o.jc(8,"p",6),o.Wc(9,"create"),o.ic(),o.jc(10,"div",7),o.Wc(11,"Step 1"),o.ic(),o.jc(12,"div",8),o.Wc(13,"What to Include"),o.ic(),o.ic(),o.jc(14,"div",5),o.rc("click",(function(){return t.currentTab=2})),o.jc(15,"p",6),o.Wc(16,"settings"),o.ic(),o.jc(17,"div",7),o.Wc(18,"Step 2"),o.ic(),o.jc(19,"div",8),o.Wc(20,"Reference OMR"),o.ic(),o.ic(),o.jc(21,"div",5),o.rc("click",(function(){return t.currentTab=3})),o.jc(22,"p",6),o.Wc(23,"stars"),o.ic(),o.jc(24,"div",7),o.Wc(25,"Step 3"),o.ic(),o.jc(26,"div",8),o.Wc(27,"Question Types"),o.ic(),o.ic(),o.jc(28,"div",5),o.rc("click",(function(){return t.currentTab=4})),o.jc(29,"p",6),o.Wc(30,"subject"),o.ic(),o.jc(31,"div",7),o.Wc(32,"Step 4"),o.ic(),o.jc(33,"div",8),o.Wc(34,"OMR Ref. Points"),o.ic(),o.ic(),o.ic(),o.jc(35,"div",9),o.jc(36,"div",10),o.jc(37,"form",null,11),o.jc(39,"div",12),o.jc(40,"div",13),o.jc(41,"mat-form-field"),o.jc(42,"mat-label"),o.Wc(43,"OMR Name"),o.ic(),o.jc(44,"input",14),o.rc("ngModelChange",(function(e){return t.step1.omrName=e})),o.ic(),o.ic(),o.ic(),o.ic(),o.jc(45,"div",15),o.jc(46,"div",16),o.jc(47,"mat-checkbox",17),o.rc("ngModelChange",(function(e){return t.step1.isName=e})),o.Wc(48,"Name"),o.ic(),o.ic(),o.jc(49,"div",13),o.jc(50,"mat-form-field"),o.jc(51,"mat-label"),o.Wc(52,"Character Count"),o.ic(),o.jc(53,"input",18),o.rc("ngModelChange",(function(e){return t.step1.nameCharactersCount=e})),o.ic(),o.ic(),o.ic(),o.ic(),o.jc(54,"div",12),o.jc(55,"div",16),o.jc(56,"mat-checkbox",19),o.rc("ngModelChange",(function(e){return t.step1.isClass=e})),o.Wc(57,"Class"),o.ic(),o.ic(),o.ic(),o.jc(58,"div",12),o.jc(59,"div",16),o.jc(60,"mat-checkbox",20),o.rc("ngModelChange",(function(e){return t.step1.isSet=e})),o.Wc(61,"Set"),o.ic(),o.ic(),o.ic(),o.jc(62,"div",12),o.jc(63,"div",16),o.jc(64,"mat-checkbox",21),o.rc("ngModelChange",(function(e){return t.step1.isMobile=e})),o.Wc(65,"Mobile"),o.ic(),o.ic(),o.ic(),o.jc(66,"div",22),o.jc(67,"div",23),o.jc(68,"mat-checkbox",24),o.rc("ngModelChange",(function(e){return t.step1.isRollNo=e})),o.Wc(69,"RollNo"),o.ic(),o.ic(),o.jc(70,"div",13),o.jc(71,"mat-form-field"),o.jc(72,"mat-label"),o.Wc(73,"RollNo Count"),o.ic(),o.jc(74,"input",25,26),o.rc("ngModelChange",(function(e){return t.step1.rollNoCount=e})),o.ic(),o.ic(),o.Vc(76,q,5,1,"ng-container",27),o.ic(),o.ic(),o.jc(77,"button",28),o.rc("click",(function(){return t.saveStep1AndNext()})),o.Wc(78,"Next"),o.ic(),o.ic(),o.ic(),o.jc(79,"div",10),o.jc(80,"p"),o.Wc(81,"Select the reference image for OMR "),o.ic(),o.jc(82,"input",29,30),o.rc("change",(function(e){return t.setOMRImage(e)})),o.ic(),o.ec(84,"img",31,32),o.jc(86,"p"),o.jc(87,"b"),o.Wc(88,"Note:"),o.ic(),o.Wc(89," Image should be HD with High Clarity. Borders of the image must be dark black "),o.ic(),o.jc(90,"button",33),o.rc("click",(function(){return t.uploadReferenceImage()})),o.Wc(91,"Next"),o.ic(),o.ic(),o.jc(92,"div",10),o.jc(93,"div",12),o.jc(94,"div",34),o.jc(95,"mat-form-field"),o.jc(96,"mat-label"),o.Wc(97,"Total Questions"),o.ic(),o.jc(98,"input",35,36),o.rc("ngModelChange",(function(e){return t.step3.questionsCount=e})),o.ic(),o.ic(),o.ic(),o.jc(100,"div",34),o.jc(101,"button",28),o.rc("click",(function(){return t.setQuestionsCountAndType()})),o.Wc(102,"Set"),o.ic(),o.ic(),o.ic(),o.Vc(103,$,4,1,"ng-container",27),o.jc(104,"button",28),o.rc("click",(function(){return t.saveStep3()})),o.Wc(105,"Next"),o.ic(),o.ic(),o.jc(106,"div",10),o.jc(107,"div",37),o.jc(108,"h2",38),o.Wc(109,"Reference OMR"),o.ic(),o.jc(110,"button",28),o.rc("click",(function(){return t.modals.exampleOMR=!0})),o.Wc(111," See Example OMR "),o.ic(),o.ic(),o.jc(112,"div",39),o.jc(113,"div",40),o.rc("click",(function(){return t.currentOMRTab="omr"})),o.Wc(114,"OMR"),o.ic(),o.jc(115,"div",40),o.rc("click",(function(){return t.currentOMRTab="name"})),o.Wc(116,"Name"),o.ic(),o.jc(117,"div",40),o.rc("click",(function(){return t.currentOMRTab="class"})),o.Wc(118,"Class"),o.ic(),o.jc(119,"div",40),o.rc("click",(function(){return t.currentOMRTab="set"})),o.Wc(120,"Set"),o.ic(),o.jc(121,"div",40),o.rc("click",(function(){return t.currentOMRTab="rollno"})),o.Wc(122,"RollNo "),o.ic(),o.jc(123,"div",40),o.rc("click",(function(){return t.currentOMRTab="mobile"})),o.Wc(124,"Mobile "),o.ic(),o.jc(125,"div",40),o.rc("click",(function(){return t.currentOMRTab="response"})),o.Wc(126," Response"),o.ic(),o.ic(),o.jc(127,"div",41),o.Vc(128,V,9,3,"div",42),o.Vc(129,L,4,1,"ng-container",27),o.Vc(130,Y,4,1,"ng-container",27),o.Vc(131,z,4,1,"ng-container",27),o.Vc(132,Z,4,1,"ng-container",27),o.Vc(133,ce,4,1,"ng-container",27),o.Vc(134,se,4,1,"ng-container",27),o.ic(),o.jc(135,"div",43),o.jc(136,"canvas",44),o.Wc(137," Your browser does not support the HTML5 canvas tag. "),o.ic(),o.ic(),o.ic(),o.ic(),o.ic(),o.ic(),o.ic(),o.ic(),o.ec(138,"loading",45)),2&e){const e=o.Ic(75);o.Pb(7),o.Bc("ngClass",o.Dc(37,ae,1==t.currentTab)),o.Pb(7),o.Bc("ngClass",o.Dc(39,ae,2==t.currentTab)),o.Pb(7),o.Bc("ngClass",o.Dc(41,ae,3==t.currentTab)),o.Pb(7),o.Bc("ngClass",o.Dc(43,ae,4==t.currentTab)),o.Pb(8),o.Bc("ngClass",o.Ec(45,re,1==t.currentTab,1!=t.currentTab)),o.Pb(8),o.Bc("ngModel",t.step1.omrName),o.Pb(3),o.Bc("ngModel",t.step1.isName),o.Pb(6),o.Bc("ngModel",t.step1.nameCharactersCount),o.Pb(3),o.Bc("ngModel",t.step1.isClass),o.Pb(4),o.Bc("ngModel",t.step1.isSet),o.Pb(4),o.Bc("ngModel",t.step1.isMobile),o.Pb(4),o.Bc("ngModel",t.step1.isRollNo),o.Pb(6),o.Bc("ngModel",t.step1.rollNoCount),o.Pb(2),o.Bc("ngIf",e.valid),o.Pb(3),o.Bc("ngClass",o.Ec(48,re,2==t.currentTab,2!=t.currentTab)),o.Pb(11),o.Bc("disabled",!t.referenceImage),o.Pb(2),o.Bc("ngClass",o.Ec(51,re,3==t.currentTab,3!=t.currentTab)),o.Pb(6),o.Bc("ngModel",t.step3.questionsCount),o.Pb(5),o.Bc("ngIf",t.step3.questionsTypes.length>0),o.Pb(3),o.Bc("ngClass",o.Ec(54,re,4==t.currentTab,4!=t.currentTab)),o.Pb(7),o.Bc("ngClass",o.Dc(57,le,"omr"==t.currentOMRTab)),o.Pb(2),o.Bc("ngClass",o.Dc(59,le,"name"==t.currentOMRTab)),o.Pb(2),o.Bc("ngClass",o.Dc(61,le,"class"==t.currentOMRTab)),o.Pb(2),o.Bc("ngClass",o.Dc(63,le,"set"==t.currentOMRTab)),o.Pb(2),o.Bc("ngClass",o.Dc(65,le,"rollno"==t.currentOMRTab)),o.Pb(2),o.Bc("ngClass",o.Dc(67,le,"mobile"==t.currentOMRTab)),o.Pb(2),o.Bc("ngClass",o.Dc(69,le,"response"==t.currentOMRTab)),o.Pb(3),o.Bc("ngIf","omr"==t.currentOMRTab),o.Pb(1),o.Bc("ngIf","name"==t.currentOMRTab),o.Pb(1),o.Bc("ngIf","class"==t.currentOMRTab),o.Pb(1),o.Bc("ngIf","set"==t.currentOMRTab),o.Pb(1),o.Bc("ngIf","rollno"==t.currentOMRTab),o.Pb(1),o.Bc("ngIf","mobile"==t.currentOMRTab),o.Pb(1),o.Bc("ngIf","response"==t.currentOMRTab),o.Pb(2),o.Bc("width",t.imageWidth)("height",t.imageHeight),o.Pb(2),o.Bc("show",t.loading)}},directives:[s.a,a.a,j.i,h.v,h.l,h.m,u.b,u.e,g.a,h.b,h.r,h.k,h.n,_.a,h.p,j.k,p.b,f.a,j.j,v.b,v.a],styles:["#tab-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;cursor:pointer}.tab-header-item[_ngcontent-%COMP%]{width:16.66%;padding:10px 20px 10px 50px;background:#fcfcfc;opacity:.6;border-right:1px solid #c5c5c5;border-bottom:1px solid #c5c5c5;position:relative}.tab-header-item[_ngcontent-%COMP%]:last-child{border-right:none}.tab-header-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;left:10px;top:.8em}.tab-step[_ngcontent-%COMP%]{font-size:15px}.tab-step-desc[_ngcontent-%COMP%]{font-size:12px}#tab-content[_ngcontent-%COMP%]{padding:15px}.hideTab[_ngcontent-%COMP%]{display:none}.showTab[_ngcontent-%COMP%]{display:block}.activetab[_ngcontent-%COMP%]{opacity:1;border-bottom:none;background:#fff}[class*=col-][_ngcontent-%COMP%]{padding:0 5px}.checkbox-col[_ngcontent-%COMP%]{width:80px}.field-col[_ngcontent-%COMP%]{width:calc(100% - 80px)}.field-col[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{max-width:200px}.question-type-item[_ngcontent-%COMP%]{display:flex;margin-bottom:10px}.question-type-index[_ngcontent-%COMP%]{width:20px;text-align:center}.question-type-item[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{margin-left:10px;display:flex;justify-content:space-between;width:250px}canvas[_ngcontent-%COMP%]{border:1px solid #f1f1f1}.items-row[_ngcontent-%COMP%]{border:1px solid #c5c5c5;border-top:none;padding:5px}.items-row[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:5px}.items-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}.items-tabs[_ngcontent-%COMP%]{display:flex;align-items:center}.items-tabs[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border:1px solid #c5c5c5;border-right:0;padding:10px 20px;opacity:.6;cursor:pointer}.items-tabs[_ngcontent-%COMP%] > div.active[_ngcontent-%COMP%]{opacity:1;border-bottom:1px solid #fff}.round-buttons[_ngcontent-%COMP%]{margin-bottom:10px}.small[_ngcontent-%COMP%]{font-size:10px}#omr-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}.name-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.name-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:5%;text-align:center}.name-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:0}"]}),e})();var ge=c("NFeN");function he(e,t){if(1&e&&(o.jc(0,"tr"),o.ec(1,"td",5),o.ec(2,"td",5),o.ec(3,"td",5),o.ec(4,"td",5),o.ec(5,"td",5),o.ec(6,"td",5),o.ec(7,"td",5),o.jc(8,"td"),o.jc(9,"button",6),o.jc(10,"mat-icon"),o.Wc(11,"create"),o.ic(),o.ic(),o.ic(),o.ic()),2&e){const e=t.$implicit;o.Pb(1),o.Bc("innerText",e.omrName),o.Pb(1),o.Bc("innerText",e.isName),o.Pb(1),o.Bc("innerText",e.nameCharactersCount),o.Pb(1),o.Bc("innerText",e.isRollNo),o.Pb(1),o.Bc("innerText",e.isClass),o.Pb(1),o.Bc("innerText",e.isSet),o.Pb(1),o.Bc("innerText",e.isMobile),o.Pb(2),o.Bc("routerLink","/users/utilities/edit-omr/"+e.omrId)}}let pe=(()=>{class e{constructor(e){this.coreService=e,this.loading=!0,this.omrs=[]}ngOnInit(){this.getOMRs()}getOMRs(){this.coreService.getRequest(l.a.API_URL+"omr/").subscribe(e=>{this.loading=!1,this.omrs=e})}}return e.\u0275fac=function(t){return new(t||e)(o.dc(d.a))},e.\u0275cmp=o.Xb({type:e,selectors:[["app-omrs"]],decls:25,vars:2,consts:[["id","page-content"],[1,"content-title"],[1,"pinnacle-table"],[4,"ngFor","ngForOf"],[3,"show"],[3,"innerText"],["mat-mini-fab","","color","primary",3,"routerLink"]],template:function(e,t){1&e&&(o.ec(0,"admin-header"),o.ec(1,"admin-sidebar"),o.jc(2,"div",0),o.jc(3,"div",1),o.Wc(4,"OMRs"),o.ic(),o.jc(5,"table",2),o.jc(6,"tr"),o.jc(7,"th"),o.Wc(8,"Name"),o.ic(),o.jc(9,"th"),o.Wc(10,"isName"),o.ic(),o.jc(11,"th"),o.Wc(12,"Name Count"),o.ic(),o.jc(13,"th"),o.Wc(14,"isRollNo"),o.ic(),o.jc(15,"th"),o.Wc(16,"isClass"),o.ic(),o.jc(17,"th"),o.Wc(18,"isSet"),o.ic(),o.jc(19,"th"),o.Wc(20,"isMobile"),o.ic(),o.jc(21,"th"),o.Wc(22,"Action"),o.ic(),o.ic(),o.Vc(23,he,12,8,"tr",3),o.ic(),o.ic(),o.ec(24,"loading",4)),2&e&&(o.Pb(23),o.Bc("ngForOf",t.omrs),o.Pb(1),o.Bc("show",t.loading))},directives:[s.a,a.a,j.j,f.a,p.b,n.c,ge.a],styles:[""]}),e})();var fe=c("ZMsq");const be=["referenceImageSRC"],Me=["referenceImageTarget"];function je(e,t){if(1&e){const e=o.kc();o.hc(0),o.jc(1,"div",51),o.ec(2,"span",52),o.ec(3,"br"),o.jc(4,"mat-checkbox",53),o.rc("change",(function(c){o.Mc(e);const n=t.index;return o.vc(2).setRollNoIndex(n+1,c.checked)})),o.ic(),o.ic(),o.gc()}if(2&e){const e=t.index,c=o.vc(2);o.Pb(2),o.Bc("innerText",e+1),o.Pb(2),o.Bc("checked",c.step1.rollNoAlphabetsIndex.includes(e+1))}}function ve(e,t){if(1&e&&(o.hc(0),o.ec(1,"br"),o.jc(2,"p"),o.Wc(3,"Please choose the Alphabets in Roll No."),o.ic(),o.Vc(4,je,5,2,"ng-container",50),o.gc()),2&e){const e=o.vc();o.Pb(4),o.Bc("ngForOf",e.createRange(e.step1.rollNoCount-0))}}function Ce(e,t){if(1&e&&o.ec(0,"img",54,55),2&e){const e=o.vc();o.Bc("src",e.step2.referenceImage,o.Pc)}}function Pe(e,t){if(1&e){const e=o.kc();o.hc(0),o.jc(1,"div",56),o.ec(2,"div",57),o.jc(3,"mat-radio-group",58),o.rc("ngModelChange",(function(c){return o.Mc(e),t.$implicit.type=c})),o.jc(4,"mat-radio-button",59),o.Wc(5,"MCQ"),o.ic(),o.jc(6,"mat-radio-button",59),o.Wc(7,"Integer"),o.ic(),o.ic(),o.ic(),o.gc()}if(2&e){const e=t.$implicit,c=t.index;o.Pb(2),o.Bc("innerText",c+1),o.Pb(1),o.Bc("ngModel",e.type),o.Pb(1),o.Bc("value","M"),o.Pb(2),o.Bc("value","I")}}function xe(e,t){if(1&e&&(o.hc(0),o.jc(1,"p"),o.Wc(2,"Please set Question Type"),o.ic(),o.Vc(3,Pe,8,4,"ng-container",50),o.gc()),2&e){const e=o.vc();o.Pb(3),o.Bc("ngForOf",e.step3.questionsTypes)}}function Ie(e,t){if(1&e){const e=o.kc();o.jc(0,"div",60),o.jc(1,"h3"),o.Wc(2,"Mark OMR Reference Points "),o.ic(),o.jc(3,"button",61),o.rc("click",(function(){return o.Mc(e),o.vc().setForMark("omr","X1Y1")})),o.Wc(4,"First Corner"),o.ic(),o.jc(5,"button",61),o.rc("click",(function(){return o.Mc(e),o.vc().setForMark("omr","X2Y2")})),o.Wc(6,"Second Corner"),o.ic(),o.jc(7,"button",61),o.rc("click",(function(){return o.Mc(e),o.vc().setForMark("omr","X3Y3")})),o.Wc(8,"Third Corner"),o.ic(),o.ic()}if(2&e){const e=o.vc();o.Pb(3),o.Bc("color",e.isCoordinatesMarked("omr","X1Y1")?"primary":e.isCurrentMark("omr","X1Y1")?"warn":""),o.Pb(2),o.Bc("color",e.isCoordinatesMarked("omr","X2Y2")?"primary":e.isCurrentMark("omr","X2Y2")?"warn":""),o.Pb(2),o.Bc("color",e.isCoordinatesMarked("omr","X3Y3")?"primary":e.isCurrentMark("omr","X3Y3")?"warn":"")}}function ye(e,t){if(1&e){const e=o.kc();o.jc(0,"div"),o.jc(1,"button",64),o.rc("click",(function(){o.Mc(e);const c=t.$implicit;return o.vc(3).setForMark("name",c)})),o.ic(),o.ic()}if(2&e){const e=t.$implicit,c=o.vc(3);o.Pb(1),o.Bc("color",c.isCoordinatesMarked("name",e)?"primary":c.isCurrentMark("name",e)?"warn":"")("innerText",e)}}function ke(e,t){if(1&e&&(o.jc(0,"div",63),o.Vc(1,ye,2,2,"div",50),o.ic()),2&e){const e=o.vc(2);o.Pb(1),o.Bc("ngForOf",e.objectKeys(e.coordinates.name))}}function Be(e,t){if(1&e&&(o.hc(0),o.jc(1,"h3"),o.Wc(2,"Mark Name Reference Points"),o.ic(),o.Vc(3,ke,2,1,"div",62),o.gc()),2&e){const e=o.vc();o.Pb(3),o.Bc("ngIf",e.coordinates)}}function we(e,t){if(1&e){const e=o.kc();o.hc(0),o.jc(1,"button",64),o.rc("click",(function(){o.Mc(e);const c=t.$implicit;return o.vc(3).setForMark("class",c)})),o.ic(),o.gc()}if(2&e){const e=t.$implicit,c=o.vc(3);o.Pb(1),o.Bc("color",c.isCoordinatesMarked("class",e)?"primary":c.isCurrentMark("class",e)?"warn":"")("innerText",e.replace("_","-"))}}function Oe(e,t){if(1&e&&(o.jc(0,"div",12),o.Vc(1,we,2,2,"ng-container",50),o.ic()),2&e){const e=o.vc(2);o.Pb(1),o.Bc("ngForOf",e.objectKeys(e.coordinates.class))}}function Te(e,t){if(1&e&&(o.hc(0),o.jc(1,"h3"),o.Wc(2,"Mark Class Reference Points"),o.ic(),o.Vc(3,Oe,2,1,"div",65),o.gc()),2&e){const e=o.vc();o.Pb(3),o.Bc("ngIf",e.coordinates)}}function We(e,t){if(1&e){const e=o.kc();o.hc(0),o.jc(1,"button",64),o.rc("click",(function(){o.Mc(e);const c=t.$implicit;return o.vc(3).setForMark("set",c)})),o.ic(),o.gc()}if(2&e){const e=t.$implicit,c=o.vc(3);o.Pb(1),o.Bc("color",c.isCoordinatesMarked("set",e)?"primary":c.isCurrentMark("set",e)?"warn":"")("innerText",e)}}function Re(e,t){if(1&e&&(o.jc(0,"div",12),o.Vc(1,We,2,2,"ng-container",50),o.ic()),2&e){const e=o.vc(2);o.Pb(1),o.Bc("ngForOf",e.objectKeys(e.coordinates.set))}}function Se(e,t){if(1&e&&(o.hc(0),o.jc(1,"h3"),o.Wc(2,"Mark Set Reference Points"),o.ic(),o.Vc(3,Re,2,1,"div",65),o.gc()),2&e){const e=o.vc();o.Pb(3),o.Bc("ngIf",e.coordinates)}}function _e(e,t){if(1&e){const e=o.kc();o.hc(0),o.jc(1,"button",64),o.rc("click",(function(){o.Mc(e);const c=t.$implicit;return o.vc(3).setForMark("rollNo",c)})),o.ic(),o.gc()}if(2&e){const e=t.$implicit,c=o.vc(3);o.Pb(1),o.Bc("color",c.isCoordinatesMarked("rollNo",e)?"primary":c.isCurrentMark("rollNo",e)?"warn":"")("innerText",e.replace("_","-"))}}function Fe(e,t){if(1&e&&(o.jc(0,"div",12),o.Vc(1,_e,2,2,"ng-container",50),o.ic()),2&e){const e=o.vc(2);o.Pb(1),o.Bc("ngForOf",e.objectKeys(e.coordinates.rollNo))}}function Ne(e,t){if(1&e&&(o.hc(0),o.jc(1,"h3"),o.Wc(2,"Mark RollNo Reference Points"),o.ic(),o.Vc(3,Fe,2,1,"div",65),o.gc()),2&e){const e=o.vc();o.Pb(3),o.Bc("ngIf",e.coordinates)}}function Ae(e,t){if(1&e){const e=o.kc();o.hc(0),o.jc(1,"button",64),o.rc("click",(function(){o.Mc(e);const c=t.$implicit;return o.vc(3).setForMark("mobile",c)})),o.ic(),o.gc()}if(2&e){const e=t.$implicit,c=o.vc(3);o.Pb(1),o.Bc("color",c.isCoordinatesMarked("mobile",e)?"primary":c.isCurrentMark("mobile",e)?"warn":"")("innerText",e.replace("_","-"))}}function qe(e,t){if(1&e&&(o.jc(0,"div",12),o.Vc(1,Ae,2,2,"ng-container",50),o.ic()),2&e){const e=o.vc(2);o.Pb(1),o.Bc("ngForOf",e.objectKeys(e.coordinates.mobile))}}function Ee(e,t){if(1&e&&(o.hc(0),o.jc(1,"h3"),o.Wc(2,"Mark Mobile Reference Points"),o.ic(),o.Vc(3,qe,2,1,"div",65),o.gc()),2&e){const e=o.vc();o.Pb(3),o.Bc("ngIf",e.coordinates)}}const $e=function(e){return{small:e}};function Ve(e,t){if(1&e){const e=o.kc();o.hc(0),o.jc(1,"button",66),o.rc("click",(function(){o.Mc(e);const c=t.$implicit;return o.vc(3).setForMark("response",c)})),o.ic(),o.gc()}if(2&e){const e=t.$implicit,c=o.vc(3);o.Pb(1),o.Bc("ngClass",o.Dc(3,$e,3==e.split("_").length))("color",c.isCoordinatesMarked("response",e)?"primary":c.isCurrentMark("response",e)?"warn":"")("innerText",e)}}function De(e,t){if(1&e&&(o.jc(0,"div",12),o.Vc(1,Ve,2,5,"ng-container",50),o.ic()),2&e){const e=o.vc(2);o.Pb(1),o.Bc("ngForOf",e.objectKeys(e.coordinates.response))}}function Ke(e,t){if(1&e&&(o.hc(0),o.jc(1,"h3"),o.Wc(2,"Mark Response Reference Points"),o.ic(),o.Vc(3,De,2,1,"div",65),o.gc()),2&e){const e=o.vc();o.Pb(3),o.Bc("ngIf",e.coordinates)}}const Le=function(e){return{activetab:e}},Xe=function(e,t){return{showTab:e,hideTab:t}},Ue=function(e){return{active:e}},Ye=function(){return{width:"500px"}};let Qe,He,ze=(()=>{class e{constructor(e,t,c){this.dialog=e,this.coreService=t,this.routes=c,this.modals={exampleOMR:!1},this.currentTab=1,this.currentOMRTab="omr",this.WEBSITE_URL=l.a.WEBSITE_URL,this.step1={omrName:null,isName:null,nameCharactersCount:null,rollNoCount:null,isClass:null,isSet:null,isMobile:null,isRollNo:null,rollNoAlphabetsIndex:[]},this.step2={referenceImage:null},this.imageWidth=170,this.imageHeight=220,this.step3={questionsCount:null,questionsTypes:[]},this.coordinates={},this.masterCoordinates={},this.image=new Image,this.dummyArr=[]}ngOnInit(){this.setImageEvent(),this.setCanvasAndContext(),this.routes.params.subscribe(e=>this.getOMRDetails(e.omrId))}setCanvasAndContext(){He=document.getElementById("canvas"),He.addEventListener("click",e=>{if(!this.coordsToMark)return this.dialog.showDialog({content:"Please choose points first"});this.coordsToMark.x=e.offsetX,this.coordsToMark.y=e.offsetY,this.masterCoordinates[this.key1][this.key2].x=e.offsetX,this.masterCoordinates[this.key1][this.key2].y=e.offsetY,this.setImageOnCanvas(),this.prepareCoordinatesObjectAndSave()})}setImageOnCanvas(){this.image.src=this.step2.referenceImage,this.image.onload=()=>{this.imageHeight=this.image.height,this.imageWidth=this.image.width,setTimeout(()=>{Qe=He.getContext("2d"),Qe.drawImage(this.image,0,0,this.imageWidth,this.imageHeight),this.showMarkedPointsAtOMR()})}}getOMRDetails(e){this.loading=!0,this.omrId=e,this.coreService.getRequest(l.a.API_URL+"omr/omr-details/"+e).subscribe(e=>{this.loading=!1,this.step1=e,this.step1.rollNoAlphabetsIndex=JSON.parse(e.rollNoAlphabetsIndex),this.step2.referenceImage=this.WEBSITE_URL+"uploads/"+e.referenceImage,this.step3.questionsCount=e.totalQuestions,this.step3.questionsTypes=JSON.parse(e.questionsTypes),this.coordinates=JSON.parse(e.coordinates)||{},this.masterCoordinates=JSON.parse(e.coordinates)||{},this.setImageOnCanvas()})}setReferenceImage(e){this.referenceImage=e.target.files[0]}isErrorInImage(){try{return this.dummyArr.push(this.referenceImageSRC.nativeElement),this.dummyArr.push(this.referenceImageTarget.nativeElement),!1}catch(e){return!0}}setImageEvent(){if(this.isErrorInImage())return setTimeout(()=>this.setImageEvent(),1e3);this.showSelectedImage(this.referenceImageSRC.nativeElement,this.referenceImageTarget.nativeElement),this.dummyArr.splice(0,0)}showSelectedImage(e,t){var c=new FileReader;c.onload=function(e){t.src=this.result},e.addEventListener("change",(function(){c.readAsDataURL(e.files[0])}))}createRange(e){return isNaN(e)||e<1?[]:new Array(e)}saveStep1AndNext(){this.loading=!0,this.prepareCoordinatesObjectAndSave(),this.coreService.putRequest(l.a.API_URL+"omr/step-1/"+this.omrId,this.step1).subscribe(e=>{this.loading=!1,e.success&&(this.currentTab=2)})}uploadReferenceImage(){if(null==this.referenceImage)return this.currentTab=3;this.loading=!0;const e=l.a.API_URL+"omr/"+this.omrId+"/update-reference-image";let t=new FormData;t.append("image",this.referenceImage),t.append("omrName",this.step1.omrName),this.coreService.uploadRequest(e,t).subscribe(e=>{this.loading=!1,e.success&&(this.currentTab=3)})}saveStep3(){this.loading=!0;const e=l.a.API_URL+"omr/"+this.omrId+"/update-questions-types";let t={questionsTypes:this.step3.questionsTypes,totalQuestions:this.step3.questionsCount};this.prepareCoordinatesObjectAndSave(),this.coreService.putRequest(e,t).subscribe(e=>{this.loading=!1,e.success&&(this.currentTab=4)})}prepareCoordinatesObjectAndSave(){if(this.step1.isName){this.coordinates.name={};for(let e=0;e<26;e++)for(let t=1;t<=this.step1.nameCharactersCount;t++){let c=String.fromCodePoint(e+65)+t;this.coordinates.name[c]=c in(this.masterCoordinates.name||{})?this.masterCoordinates.name[c]:{x:null,y:null}}}if(this.step1.isRollNo){let e=this.step1.rollNoAlphabetsIndex.length;this.coordinates.rollNo={};for(let t=65;t<=90;t++)for(let c=1;c<=e;c++){let e=String.fromCharCode(t)+c;this.coordinates.rollNo[e]=e in(this.masterCoordinates.rollNo||{})?this.masterCoordinates.rollNo[e]:{x:null,y:null}}for(let t=0;t<10;t++)for(let c=1;c<=this.step1.rollNoCount-e;c++){let e=`${t}_${c}`;this.coordinates.rollNo[e]=e in(this.masterCoordinates.rollNo||{})?this.masterCoordinates.rollNo[e]:{x:null,y:null}}}if(this.step1.isClass){this.coordinates.class={};for(let e=0;e<10;e++)for(let t=1;t<=2;t++){let c=`${e}_${t}`;this.coordinates.class[c]=c in(this.masterCoordinates.class||{})?this.masterCoordinates.class[c]:{x:null,y:null}}}if(this.step1.isSet){this.coordinates.set={};for(let e=65;e<75;e++){let t=String.fromCharCode(e);this.coordinates.set[t]=t in(this.masterCoordinates.set||{})?this.masterCoordinates.set[t]:{x:null,y:null}}}if(this.step1.isMobile){this.coordinates.mobile={};for(let e=0;e<10;e++)for(let t=1;t<=10;t++){let c=`${e}_${t}`;this.coordinates.mobile[c]=c in(this.masterCoordinates.mobile||{})?this.masterCoordinates.mobile[c]:{x:null,y:null}}}this.coordinates.response={};for(let e=1;e<=this.step3.questionsCount;e++)if("I"!=this.step3.questionsTypes[e-1].type)for(let t=65;t<=68;t++){let c=String.fromCharCode(t)+e;this.coordinates.response[c]=c in(this.masterCoordinates.response||{})?this.masterCoordinates.response[c]:{x:null,y:null}}else for(let t=0;t<=9;t++)for(let c=1;c<=2;c++){let n=e+"-"+t+"-"+c;this.coordinates.response[n]=n in(this.masterCoordinates.response||{})?this.masterCoordinates.response[n]:{x:null,y:null}}this.coordinates.omr="omr"in this.masterCoordinates?this.masterCoordinates.omr:{X1Y1:{x:null,y:null},X2Y2:{x:null,y:null},X3Y3:{x:null,y:null}},this.loading=!0,this.coreService.putRequest(l.a.API_URL+"omr/"+this.omrId+"/coordinates-object",this.coordinates).subscribe(e=>{this.loading=!1})}showMarkedPointsAtOMR(){if(!Qe)return setTimeout(()=>this.showMarkedPointsAtOMR(),1e3);if(Qe.fillStyle="green",this.coordinates)for(let[,e]of Object.entries(this.coordinates))for(let[,t]of Object.entries(e))t.x&&t.y&&Qe.fillRect(t.x-3.5,t.y-3.5,8,8)}isCoordinatesMarked(e,t){return!(!this.coordinates||!this.coordinates[e])&&this.coordinates[e][t].x&&this.coordinates[e][t].y}setForMark(e,t){this.key1=e,this.key2=t,console.log(e,t,this.coordinates),this.coordsToMark=this.coordinates[e][t],this.coordinates[e][t].x=null,this.coordinates[e][t].y=null,this.masterCoordinates[e][t].x=null,this.masterCoordinates[e][t].y=null,this.setImageOnCanvas()}isCurrentMark(e,t){if(this.coordinates&&this.coordinates[e]&&this.coordinates[e][t])return this.coordinates[e][t]==this.coordsToMark}setRollNoIndex(e,t){t?this.step1.rollNoAlphabetsIndex.includes(e)||this.step1.rollNoAlphabetsIndex.push(e):this.step1.rollNoAlphabetsIndex.splice(this.step1.rollNoAlphabetsIndex.indexOf(e),1)}setQuestionsCountAndType(){let e=this.step3.questionsCount;this.step3.questionsTypes=[];for(let t=0;t<e;t++)this.step3.questionsTypes.push({type:null})}objectKeys(e){return e?Object.keys(e):[]}}return e.\u0275fac=function(t){return new(t||e)(o.dc(m.a),o.dc(d.a),o.dc(n.a))},e.\u0275cmp=o.Xb({type:e,selectors:[["app-edit-omr"]],viewQuery:function(e,t){var c;1&e&&(o.cd(be,!0),o.cd(Me,!0)),2&e&&(o.Hc(c=o.sc())&&(t.referenceImageSRC=c.first),o.Hc(c=o.sc())&&(t.referenceImageTarget=c.first))},decls:146,vars:75,consts:[["id","page-content"],[1,"row",2,"align-items","flex-start"],[1,"col-12","col-lg-12"],[1,"custom-shadow",2,"background-color","#fff"],["id","tab-header"],[1,"tab-header-item",3,"ngClass","click"],[1,"material-icons"],[1,"tab-step"],[1,"tab-step-desc"],["id","tab-content"],[3,"ngClass"],["step1Form","ngForm"],[1,"row"],[1,"field-col"],["matInput","","name","omrName","required","",3,"ngModel","ngModelChange"],[1,"row","align-items-center"],[1,"checkbox-col"],["name","isName",3,"ngModel","ngModelChange"],["matInput","","type","number","name","nameCharacterCount","required","",3,"ngModel","ngModelChange"],["name","isClass",3,"ngModel","ngModelChange"],["name","isSet",3,"ngModel","ngModelChange"],["name","isMobile",3,"ngModel","ngModelChange"],[1,"row",2,"align-items","flex-start","padding-top","15px"],[1,"checkbox-col",2,"padding-top","15px"],["name","isRollNo",3,"ngModel","ngModelChange"],["type","number","matInput","","name","rollNoCount","required","",3,"ngModel","ngModelChange"],["rollNo","ngModel"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["type","file",2,"margin-bottom","10px",3,"change"],["referenceImageSRC",""],["style","max-width: 400px;display: block;",3,"src",4,"ngIf"],[1,"col-sm-2"],["id","qc","matInput","","name","questionsCount","required","",3,"ngModel","ngModelChange"],["questionsCount","ngModel"],[1,"row","align-items-center","justify-content-between"],[2,"margin","0"],[1,"items-tabs"],[3,"ngClass","click"],[1,"items-row"],["id","omr-content",4,"ngIf"],[2,"width","100%","overflow","auto","margin-top","10px"],["id","canvas",3,"width","height"],["modal","",1,"modal",3,"show","options"],[1,"dialog"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],[3,"src"],[3,"show"],[4,"ngFor","ngForOf"],[2,"display","inline-block","text-align","center","margin-right","5px"],[3,"innerText"],[3,"checked","change"],[2,"max-width","400px","display","block",3,"src"],["referenceImageTarget",""],[1,"question-type-item"],[1,"question-type-index",3,"innerText"],[3,"ngModel","ngModelChange"],[3,"value"],["id","omr-content"],["mat-raised-button","",3,"color","click"],["class","row name-row",4,"ngIf"],[1,"row","name-row"],["mat-mini-fab","",1,"round-buttons",3,"color","innerText","click"],["class","row",4,"ngIf"],["mat-mini-fab","",1,"round-buttons",3,"ngClass","color","innerText","click"]],template:function(e,t){if(1&e&&(o.ec(0,"admin-header"),o.ec(1,"admin-sidebar"),o.jc(2,"div",0),o.jc(3,"div",1),o.jc(4,"div",2),o.jc(5,"div",3),o.jc(6,"div",4),o.jc(7,"div",5),o.rc("click",(function(){return t.currentTab=1})),o.jc(8,"p",6),o.Wc(9,"create"),o.ic(),o.jc(10,"div",7),o.Wc(11,"Step 1"),o.ic(),o.jc(12,"div",8),o.Wc(13,"What to Include"),o.ic(),o.ic(),o.jc(14,"div",5),o.rc("click",(function(){return t.currentTab=2})),o.jc(15,"p",6),o.Wc(16,"settings"),o.ic(),o.jc(17,"div",7),o.Wc(18,"Step 2"),o.ic(),o.jc(19,"div",8),o.Wc(20,"Reference OMR"),o.ic(),o.ic(),o.jc(21,"div",5),o.rc("click",(function(){return t.currentTab=3})),o.jc(22,"p",6),o.Wc(23,"stars"),o.ic(),o.jc(24,"div",7),o.Wc(25,"Step 3"),o.ic(),o.jc(26,"div",8),o.Wc(27,"Question Types"),o.ic(),o.ic(),o.jc(28,"div",5),o.rc("click",(function(){return t.currentTab=4})),o.jc(29,"p",6),o.Wc(30,"subject"),o.ic(),o.jc(31,"div",7),o.Wc(32,"Step 4"),o.ic(),o.jc(33,"div",8),o.Wc(34,"OMR Ref. Points"),o.ic(),o.ic(),o.ic(),o.jc(35,"div",9),o.jc(36,"div",10),o.jc(37,"form",null,11),o.jc(39,"div",12),o.jc(40,"div",13),o.jc(41,"mat-form-field"),o.jc(42,"mat-label"),o.Wc(43,"OMR Name"),o.ic(),o.jc(44,"input",14),o.rc("ngModelChange",(function(e){return t.step1.omrName=e})),o.ic(),o.ic(),o.ic(),o.ic(),o.jc(45,"div",15),o.jc(46,"div",16),o.jc(47,"mat-checkbox",17),o.rc("ngModelChange",(function(e){return t.step1.isName=e})),o.Wc(48,"Name"),o.ic(),o.ic(),o.jc(49,"div",13),o.jc(50,"mat-form-field"),o.jc(51,"mat-label"),o.Wc(52,"Character Count"),o.ic(),o.jc(53,"input",18),o.rc("ngModelChange",(function(e){return t.step1.nameCharactersCount=e})),o.ic(),o.ic(),o.ic(),o.ic(),o.jc(54,"div",12),o.jc(55,"div",16),o.jc(56,"mat-checkbox",19),o.rc("ngModelChange",(function(e){return t.step1.isClass=e})),o.Wc(57,"Class"),o.ic(),o.ic(),o.ic(),o.jc(58,"div",12),o.jc(59,"div",16),o.jc(60,"mat-checkbox",20),o.rc("ngModelChange",(function(e){return t.step1.isSet=e})),o.Wc(61,"Set"),o.ic(),o.ic(),o.ic(),o.jc(62,"div",12),o.jc(63,"div",16),o.jc(64,"mat-checkbox",21),o.rc("ngModelChange",(function(e){return t.step1.isMobile=e})),o.Wc(65,"Mobile"),o.ic(),o.ic(),o.ic(),o.jc(66,"div",22),o.jc(67,"div",23),o.jc(68,"mat-checkbox",24),o.rc("ngModelChange",(function(e){return t.step1.isRollNo=e})),o.Wc(69,"RollNo"),o.ic(),o.ic(),o.jc(70,"div",13),o.jc(71,"mat-form-field"),o.jc(72,"mat-label"),o.Wc(73,"RollNo Count"),o.ic(),o.jc(74,"input",25,26),o.rc("ngModelChange",(function(e){return t.step1.rollNoCount=e})),o.ic(),o.ic(),o.Vc(76,ve,5,1,"ng-container",27),o.ic(),o.ic(),o.jc(77,"button",28),o.rc("click",(function(){return t.saveStep1AndNext()})),o.Wc(78,"Next"),o.ic(),o.ic(),o.ic(),o.jc(79,"div",10),o.jc(80,"p"),o.Wc(81,"Select the reference image for OMR "),o.ic(),o.jc(82,"input",29,30),o.rc("change",(function(e){return t.setReferenceImage(e)})),o.ic(),o.Vc(84,Ce,2,1,"img",31),o.jc(85,"p"),o.jc(86,"b"),o.Wc(87,"Note:"),o.ic(),o.Wc(88," Image should be HD with High Clarity. Borders of the image must be dark black "),o.ic(),o.jc(89,"button",28),o.rc("click",(function(){return t.uploadReferenceImage()})),o.Wc(90,"Next"),o.ic(),o.ic(),o.jc(91,"div",10),o.jc(92,"div",12),o.jc(93,"div",32),o.jc(94,"mat-form-field"),o.jc(95,"mat-label"),o.Wc(96,"Total Questions"),o.ic(),o.jc(97,"input",33,34),o.rc("ngModelChange",(function(e){return t.step3.questionsCount=e})),o.ic(),o.ic(),o.ic(),o.jc(99,"div",32),o.jc(100,"button",28),o.rc("click",(function(){return t.setQuestionsCountAndType()})),o.Wc(101,"Set"),o.ic(),o.ic(),o.ic(),o.Vc(102,xe,4,1,"ng-container",27),o.jc(103,"button",28),o.rc("click",(function(){return t.saveStep3()})),o.Wc(104,"Next"),o.ic(),o.ic(),o.jc(105,"div",10),o.jc(106,"div",35),o.jc(107,"h2",36),o.Wc(108,"Reference OMR"),o.ic(),o.jc(109,"button",28),o.rc("click",(function(){return t.modals.exampleOMR=!0})),o.Wc(110," See Example OMR "),o.ic(),o.ic(),o.jc(111,"div",37),o.jc(112,"div",38),o.rc("click",(function(){return t.currentOMRTab="omr"})),o.Wc(113,"OMR"),o.ic(),o.jc(114,"div",38),o.rc("click",(function(){return t.currentOMRTab="name"})),o.Wc(115,"Name"),o.ic(),o.jc(116,"div",38),o.rc("click",(function(){return t.currentOMRTab="class"})),o.Wc(117,"Class"),o.ic(),o.jc(118,"div",38),o.rc("click",(function(){return t.currentOMRTab="set"})),o.Wc(119,"Set"),o.ic(),o.jc(120,"div",38),o.rc("click",(function(){return t.currentOMRTab="rollno"})),o.Wc(121,"RollNo "),o.ic(),o.jc(122,"div",38),o.rc("click",(function(){return t.currentOMRTab="mobile"})),o.Wc(123,"Mobile "),o.ic(),o.jc(124,"div",38),o.rc("click",(function(){return t.currentOMRTab="response"})),o.Wc(125," Response"),o.ic(),o.ic(),o.jc(126,"div",39),o.Vc(127,Ie,9,3,"div",40),o.Vc(128,Be,4,1,"ng-container",27),o.Vc(129,Te,4,1,"ng-container",27),o.Vc(130,Se,4,1,"ng-container",27),o.Vc(131,Ne,4,1,"ng-container",27),o.Vc(132,Ee,4,1,"ng-container",27),o.Vc(133,Ke,4,1,"ng-container",27),o.ic(),o.jc(134,"div",41),o.jc(135,"canvas",42),o.Wc(136," Your browser does not support the HTML5 canvas tag. "),o.ic(),o.ic(),o.ic(),o.ic(),o.ic(),o.ic(),o.ic(),o.ic(),o.jc(137,"div",43),o.jc(138,"div",44),o.jc(139,"div",45),o.Wc(140,"Example OMR"),o.ic(),o.jc(141,"div",46),o.rc("click",(function(){return t.modals.exampleOMR=!1})),o.Wc(142,"\xd7"),o.ic(),o.jc(143,"div",47),o.ec(144,"img",48),o.ic(),o.ic(),o.ic(),o.ec(145,"loading",49)),2&e){const e=o.Ic(75);o.Pb(7),o.Bc("ngClass",o.Dc(40,Le,1==t.currentTab)),o.Pb(7),o.Bc("ngClass",o.Dc(42,Le,2==t.currentTab)),o.Pb(7),o.Bc("ngClass",o.Dc(44,Le,3==t.currentTab)),o.Pb(7),o.Bc("ngClass",o.Dc(46,Le,4==t.currentTab)),o.Pb(8),o.Bc("ngClass",o.Ec(48,Xe,1==t.currentTab,1!=t.currentTab)),o.Pb(8),o.Bc("ngModel",t.step1.omrName),o.Pb(3),o.Bc("ngModel",t.step1.isName),o.Pb(6),o.Bc("ngModel",t.step1.nameCharactersCount),o.Pb(3),o.Bc("ngModel",t.step1.isClass),o.Pb(4),o.Bc("ngModel",t.step1.isSet),o.Pb(4),o.Bc("ngModel",t.step1.isMobile),o.Pb(4),o.Bc("ngModel",t.step1.isRollNo),o.Pb(6),o.Bc("ngModel",t.step1.rollNoCount),o.Pb(2),o.Bc("ngIf",e.valid),o.Pb(3),o.Bc("ngClass",o.Ec(51,Xe,2==t.currentTab,2!=t.currentTab)),o.Pb(5),o.Bc("ngIf",t.referenceImage||t.step2.referenceImage),o.Pb(7),o.Bc("ngClass",o.Ec(54,Xe,3==t.currentTab,3!=t.currentTab)),o.Pb(6),o.Bc("ngModel",t.step3.questionsCount),o.Pb(5),o.Bc("ngIf",t.step3.questionsTypes.length>0),o.Pb(3),o.Bc("ngClass",o.Ec(57,Xe,4==t.currentTab,4!=t.currentTab)),o.Pb(7),o.Bc("ngClass",o.Dc(60,Ue,"omr"==t.currentOMRTab)),o.Pb(2),o.Bc("ngClass",o.Dc(62,Ue,"name"==t.currentOMRTab)),o.Pb(2),o.Bc("ngClass",o.Dc(64,Ue,"class"==t.currentOMRTab)),o.Pb(2),o.Bc("ngClass",o.Dc(66,Ue,"set"==t.currentOMRTab)),o.Pb(2),o.Bc("ngClass",o.Dc(68,Ue,"rollno"==t.currentOMRTab)),o.Pb(2),o.Bc("ngClass",o.Dc(70,Ue,"mobile"==t.currentOMRTab)),o.Pb(2),o.Bc("ngClass",o.Dc(72,Ue,"response"==t.currentOMRTab)),o.Pb(3),o.Bc("ngIf","omr"==t.currentOMRTab),o.Pb(1),o.Bc("ngIf","name"==t.currentOMRTab),o.Pb(1),o.Bc("ngIf","class"==t.currentOMRTab),o.Pb(1),o.Bc("ngIf","set"==t.currentOMRTab),o.Pb(1),o.Bc("ngIf","rollno"==t.currentOMRTab),o.Pb(1),o.Bc("ngIf","mobile"==t.currentOMRTab),o.Pb(1),o.Bc("ngIf","response"==t.currentOMRTab),o.Pb(2),o.Bc("width",t.imageWidth)("height",t.imageHeight),o.Pb(2),o.Bc("show",t.modals.exampleOMR)("options",o.Cc(74,Ye)),o.Pb(7),o.Bc("src",t.step2.referenceImage,o.Pc),o.Pb(1),o.Bc("show",t.loading)}},directives:[s.a,a.a,j.i,h.v,h.l,h.m,u.b,u.e,g.a,h.b,h.r,h.k,h.n,_.a,h.p,j.k,p.b,fe.a,f.a,j.j,v.b,v.a],styles:["","#tab-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;cursor:pointer}.tab-header-item[_ngcontent-%COMP%]{width:16.66%;padding:10px 20px 10px 50px;background:#fcfcfc;opacity:.6;border-right:1px solid #c5c5c5;border-bottom:1px solid #c5c5c5;position:relative}.tab-header-item[_ngcontent-%COMP%]:last-child{border-right:none}.tab-header-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;left:10px;top:.8em}.tab-step[_ngcontent-%COMP%]{font-size:15px}.tab-step-desc[_ngcontent-%COMP%]{font-size:12px}#tab-content[_ngcontent-%COMP%]{padding:15px}.hideTab[_ngcontent-%COMP%]{display:none}.showTab[_ngcontent-%COMP%]{display:block}.activetab[_ngcontent-%COMP%]{opacity:1;border-bottom:none;background:#fff}[class*=col-][_ngcontent-%COMP%]{padding:0 5px}.checkbox-col[_ngcontent-%COMP%]{width:80px}.field-col[_ngcontent-%COMP%]{width:calc(100% - 80px)}.field-col[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{max-width:200px}.question-type-item[_ngcontent-%COMP%]{display:flex;margin-bottom:10px}.question-type-index[_ngcontent-%COMP%]{width:20px;text-align:center}.question-type-item[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{margin-left:10px;display:flex;justify-content:space-between;width:250px}canvas[_ngcontent-%COMP%]{border:1px solid #f1f1f1}.items-row[_ngcontent-%COMP%]{border:1px solid #c5c5c5;border-top:none;padding:5px}.items-row[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:5px}.items-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}.items-tabs[_ngcontent-%COMP%]{display:flex;align-items:center}.items-tabs[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border:1px solid #c5c5c5;border-right:0;padding:10px 20px;opacity:.6;cursor:pointer}.items-tabs[_ngcontent-%COMP%] > div.active[_ngcontent-%COMP%]{opacity:1;border-bottom:1px solid #fff}.round-buttons[_ngcontent-%COMP%]{margin-bottom:10px}.small[_ngcontent-%COMP%]{font-size:10px}#omr-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}.name-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.name-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:5%;text-align:center}.name-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:0}"]}),e})();function Je(e,t){if(1&e){const e=o.kc();o.jc(0,"tr"),o.ec(1,"td",19),o.ec(2,"td",19),o.ec(3,"td",19),o.jc(4,"td"),o.jc(5,"button",20),o.rc("click",(function(){o.Mc(e);const c=t.$implicit;return o.vc().setActivePMI(c)})),o.jc(6,"mat-icon"),o.Wc(7,"create"),o.ic(),o.ic(),o.Wc(8," \xa0 "),o.jc(9,"button",21),o.rc("click",(function(){o.Mc(e);const c=t.$implicit,n=t.index;return o.vc().deletePMI(c,n)})),o.jc(10,"mat-icon"),o.Wc(11,"delete"),o.ic(),o.ic(),o.ic(),o.ic()}if(2&e){const e=t.$implicit;o.Pb(1),o.Bc("innerText",e.emailId),o.Pb(1),o.Bc("innerText",e.pmi),o.Pb(1),o.Bc("innerText",e.password)}}function Ge(e,t){if(1&e){const e=o.kc();o.jc(0,"form",3,22),o.rc("ngSubmit",(function(){o.Mc(e);const t=o.Ic(1);return o.vc().editPMI(t)})),o.jc(2,"mat-form-field"),o.jc(3,"mat-label"),o.Wc(4,"Enter EmailId"),o.ic(),o.jc(5,"input",23),o.rc("ngModelChange",(function(t){return o.Mc(e),o.vc().activePMI.emailId=t})),o.ic(),o.ic(),o.jc(6,"mat-form-field"),o.jc(7,"mat-label"),o.Wc(8,"Enter PMI"),o.ic(),o.jc(9,"input",24),o.rc("ngModelChange",(function(t){return o.Mc(e),o.vc().activePMI.pmi=t})),o.ic(),o.ic(),o.jc(10,"mat-form-field"),o.jc(11,"mat-label"),o.Wc(12,"Enter Password"),o.ic(),o.jc(13,"input",25),o.rc("ngModelChange",(function(t){return o.Mc(e),o.vc().activePMI.password=t})),o.ic(),o.ic(),o.jc(14,"button",8),o.Wc(15,"Update"),o.ic(),o.ic()}if(2&e){const e=o.vc();o.Pb(5),o.Bc("ngModel",e.activePMI.emailId),o.Pb(4),o.Bc("ngModel",e.activePMI.pmi),o.Pb(4),o.Bc("ngModel",e.activePMI.password)}}const Ze=function(){return{width:"75%"}};let et=(()=>{class e{constructor(e,t){this.dialog=e,this.coreService=t,this.loading=!0,this.activePMIs=[],this.modal={editModal:!1}}ngOnInit(){this.getActivePMIs()}setActivePMI(e){this.activePMI=e,this.modal.editModal=!0}getActivePMIs(){this.coreService.getRequest(l.a.API_URL+"utilities/active-pmis").subscribe(e=>{this.loading=!1,this.activePMIs=e})}addPMI(e){const t=e.value,c=l.a.API_URL+"utilities/add-zoom-pmi";this.loading=!0,this.coreService.postRequest(c,t).subscribe(e=>{this.loading=!1,this.getActivePMIs(),this.dialog.showDialog({content:e.message})})}editPMI(e){this.loading=!0,this.coreService.putRequest(l.a.API_URL+"utilities/update-zoom-pmi",this.activePMI).subscribe(e=>{this.loading=!1,this.modal.editModal=!1,this.dialog.showDialog({content:e.message})})}deletePMI(e,t){this.dialog.showDialog({content:`Are you sure to delete PMI "${e.pmi}"?`,callBack:()=>{this.loading=!0,this.coreService.deleteRequest(l.a.API_URL+"utilities/zoom-pmi/"+e.id).subscribe(e=>{this.loading=!1,e.success&&this.activePMIs.splice(t,1)})}})}}return e.\u0275fac=function(t){return new(t||e)(o.dc(m.a),o.dc(d.a))},e.\u0275cmp=o.Xb({type:e,selectors:[["app-zoom-integration-home"]],decls:45,vars:6,consts:[["id","page-content"],[1,"content-title"],[1,"content-box"],[3,"ngSubmit"],["pmiForm","ngForm"],["name","emailId","ngModel","","matInput","","required",""],["name","pmi","ngModel","","matInput","","required",""],["name","password","ngModel","","matInput","","required",""],["mat-raised-button","","color","primary"],[1,"divider"],[1,"pinnacle-table"],[4,"ngFor","ngForOf"],["modal","",1,"modal",3,"show","options"],[1,"dialog"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],[3,"ngSubmit",4,"ngIf"],[3,"show"],[3,"innerText"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","warn",3,"click"],["pmiEditForm","ngForm"],["name","emailId","matInput","","required","",3,"ngModel","ngModelChange"],["name","pmi","matInput","","required","",3,"ngModel","ngModelChange"],["name","password","matInput","","required","",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e){const e=o.kc();o.ec(0,"admin-header"),o.ec(1,"admin-sidebar"),o.jc(2,"div",0),o.jc(3,"div",1),o.Wc(4,"Add Zoom PMIs"),o.ic(),o.jc(5,"div",2),o.jc(6,"form",3,4),o.rc("ngSubmit",(function(){o.Mc(e);const c=o.Ic(7);return t.addPMI(c)})),o.jc(8,"mat-form-field"),o.jc(9,"mat-label"),o.Wc(10,"Enter EmailId"),o.ic(),o.ec(11,"input",5),o.ic(),o.jc(12,"mat-form-field"),o.jc(13,"mat-label"),o.Wc(14,"Enter PMI"),o.ic(),o.ec(15,"input",6),o.ic(),o.jc(16,"mat-form-field"),o.jc(17,"mat-label"),o.Wc(18,"Enter Password"),o.ic(),o.ec(19,"input",7),o.ic(),o.jc(20,"button",8),o.Wc(21,"Add"),o.ic(),o.ic(),o.ic(),o.ec(22,"div",9),o.jc(23,"div",1),o.Wc(24,"Active PMI IDs"),o.ic(),o.jc(25,"table",10),o.jc(26,"tr"),o.jc(27,"th"),o.Wc(28,"EMailId"),o.ic(),o.jc(29,"th"),o.Wc(30,"PMI"),o.ic(),o.jc(31,"th"),o.Wc(32,"Password"),o.ic(),o.jc(33,"th"),o.Wc(34,"Action"),o.ic(),o.ic(),o.Vc(35,Je,12,3,"tr",11),o.ic(),o.ic(),o.jc(36,"div",12),o.jc(37,"div",13),o.jc(38,"div",14),o.Wc(39,"Edit PMI"),o.ic(),o.jc(40,"div",15),o.rc("click",(function(){return t.modal.editModal=!1})),o.Wc(41,"\xd7"),o.ic(),o.jc(42,"div",16),o.Vc(43,Ge,16,3,"form",17),o.ic(),o.ic(),o.ic(),o.ec(44,"loading",18)}2&e&&(o.Pb(35),o.Bc("ngForOf",t.activePMIs),o.Pb(1),o.Bc("show",t.modal.editModal)("options",o.Cc(5,Ze)),o.Pb(7),o.Bc("ngIf",t.modal.editModal),o.Pb(1),o.Bc("show",t.loading))},directives:[s.a,a.a,h.v,h.l,h.m,u.b,u.e,h.b,g.a,h.k,h.n,h.r,p.b,j.j,fe.a,j.k,f.a,ge.a],styles:[".divider[_ngcontent-%COMP%]{height:15px}"]}),e})(),tt=(()=>{class e{constructor(e,t){this.coreService=e,this.dialog=t}ngOnInit(){}addExam(){this.loading=!0,this.coreService.postRequest(l.a.API_URL+"special-exams",{examName:this.examName}).subscribe(e=>{this.loading=!1,e.success&&(this.modal.addModal=!1,this.callBack())})}}return e.\u0275fac=function(t){return new(t||e)(o.dc(d.a),o.dc(m.a))},e.\u0275cmp=o.Xb({type:e,selectors:[["add-special-exams"]],inputs:{modal:["modals","modal"],callBack:"callBack"},decls:8,vars:3,consts:[["matInput","","required","",3,"ngModel","ngModelChange"],["exam","ngModel"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"show"]],template:function(e,t){if(1&e&&(o.jc(0,"mat-form-field"),o.jc(1,"mat-label"),o.Wc(2,"Exam Name"),o.ic(),o.jc(3,"input",0,1),o.rc("ngModelChange",(function(e){return t.examName=e})),o.ic(),o.ic(),o.jc(5,"button",2),o.rc("click",(function(){return t.addExam()})),o.Wc(6,"Add Exam"),o.ic(),o.ec(7,"loading",3)),2&e){const e=o.Ic(4);o.Pb(3),o.Bc("ngModel",t.examName),o.Pb(2),o.Bc("disabled",e.invalid),o.Pb(2),o.Bc("show",t.loading)}},directives:[u.b,u.e,g.a,h.b,h.r,h.k,h.n,p.b,f.a],styles:[""]}),e})(),ct=(()=>{class e{constructor(e){this.coreService=e}ngOnInit(){}updateExam(){this.loading=!0,this.coreService.putRequest(l.a.API_URL+"special-exams",this.exam).subscribe(e=>{this.loading=!1,e.success&&(this.modal.editModal=!1)})}}return e.\u0275fac=function(t){return new(t||e)(o.dc(d.a))},e.\u0275cmp=o.Xb({type:e,selectors:[["edit-special-exams"]],inputs:{modal:["modals","modal"],exam:"exam"},decls:8,vars:3,consts:[["matInput","","required","",3,"ngModel","ngModelChange"],["examH","ngModel"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"show"]],template:function(e,t){if(1&e&&(o.jc(0,"mat-form-field"),o.jc(1,"mat-label"),o.Wc(2,"Exam Name"),o.ic(),o.jc(3,"input",0,1),o.rc("ngModelChange",(function(e){return t.exam.examName=e})),o.ic(),o.ic(),o.jc(5,"button",2),o.rc("click",(function(){return t.updateExam()})),o.Wc(6,"Update Exam"),o.ic(),o.ec(7,"loading",3)),2&e){const e=o.Ic(4);o.Pb(3),o.Bc("ngModel",t.exam.examName),o.Pb(2),o.Bc("disabled",e.invalid),o.Pb(2),o.Bc("show",t.loading)}},directives:[u.b,u.e,g.a,h.b,h.r,h.k,h.n,p.b,f.a],styles:[""]}),e})();function nt(e,t){if(1&e){const e=o.kc();o.jc(0,"tr"),o.ec(1,"td",22),o.jc(2,"td"),o.jc(3,"button",23),o.rc("click",(function(){o.Mc(e);const c=t.$implicit;return o.vc().editExam(c)})),o.jc(4,"mat-icon"),o.Wc(5,"create"),o.ic(),o.ic(),o.Wc(6,"\xa0 "),o.jc(7,"button",24),o.rc("click",(function(){o.Mc(e);const c=t.$implicit,n=t.index;return o.vc().deleteExam(c,n)})),o.jc(8,"mat-icon"),o.Wc(9,"delete"),o.ic(),o.ic(),o.ic(),o.ic()}if(2&e){const e=t.$implicit;o.Pb(1),o.Bc("innerText",e.examName)}}function it(e,t){if(1&e){const e=o.kc();o.jc(0,"tr"),o.ec(1,"td",22),o.ec(2,"td",22),o.ec(3,"td",22),o.ec(4,"td",22),o.jc(5,"td"),o.jc(6,"a",25),o.rc("click",(function(){o.Mc(e);const c=t.$implicit;return o.vc().openAnswerKey(c)})),o.jc(7,"mat-icon"),o.Wc(8,"create"),o.ic(),o.ic(),o.Wc(9," \xa0 "),o.jc(10,"button",26),o.rc("click",(function(){o.Mc(e);const c=t.$implicit;return o.vc().openAnswerKey(c)})),o.jc(11,"mat-icon"),o.Wc(12,"open_in_full"),o.ic(),o.ic(),o.ic(),o.jc(13,"td"),o.ec(14,"span",22),o.ic(),o.ic()}if(2&e){const e=t.$implicit;o.Pb(1),o.Bc("innerText",e.examName),o.Pb(1),o.Bc("innerText",e.className),o.Pb(1),o.Bc("innerText",e.setName),o.Pb(1),o.Bc("innerText",e.stream),o.Pb(2),o.Bc("disabled",!e.answerKeyId)("routerLink","/users/utilities/edit-answer-key/"+e.answerKeyId),o.Pb(4),o.Bc("disabled",!e.answerKeyId),o.Pb(4),o.Bc("innerText",e.omrName)}}function ot(e,t){if(1&e&&o.ec(0,"mat-option",27),2&e){const e=t.$implicit;o.Bc("value",e.examId)("innerText",e.examName)}}function st(e,t){if(1&e&&o.ec(0,"mat-option",28),2&e){const e=t.$implicit;o.Bc("innerText",e.name)("value",e.name)}}function at(e,t){if(1&e&&o.ec(0,"mat-option",27),2&e){const e=t.$implicit;o.Bc("value",e.examId)("innerText",e.examName)}}function rt(e,t){if(1&e&&o.ec(0,"mat-option",28),2&e){const e=t.$implicit;o.Bc("innerText",e.className)("value",e.classId)}}function lt(e,t){if(1&e&&o.ec(0,"mat-option",28),2&e){const e=t.$implicit;o.Bc("innerText",e.name)("value",e.name)}}function dt(e,t){if(1&e&&o.ec(0,"mat-option",27),2&e){const e=t.$implicit;o.Bc("value",e.examId)("innerText",e.examName)}}function mt(e,t){if(1&e&&o.ec(0,"mat-option",28),2&e){const e=t.$implicit;o.Bc("innerText",e.className)("value",e.classId)}}function ut(e,t){if(1&e&&o.ec(0,"mat-option",28),2&e){const e=t.$implicit;o.Bc("innerText",e.setName)("value",e.setId)}}function gt(e,t){if(1&e&&o.ec(0,"mat-option",28),2&e){const e=t.$implicit;o.Bc("innerText",e.name)("value",e.name)}}function ht(e,t){if(1&e&&o.ec(0,"mat-option",27),2&e){const e=t.$implicit;o.Bc("value",e.examId)("innerText",e.examName)}}function pt(e,t){if(1&e&&o.ec(0,"mat-option",28),2&e){const e=t.$implicit;o.Bc("innerText",e.className)("value",e.classId)}}function ft(e,t){if(1&e&&o.ec(0,"mat-option",28),2&e){const e=t.$implicit;o.Bc("innerText",e.setName)("value",e.setId)}}function bt(e,t){if(1&e&&o.ec(0,"mat-option",28),2&e){const e=t.$implicit;o.Bc("innerText",e.omrName)("value",e.omrId)}}function Mt(e,t){if(1&e&&o.ec(0,"add-special-exams",29),2&e){const e=o.vc();o.Bc("modals",e.modal)("callBack",e.callBack)}}function jt(e,t){if(1&e&&o.ec(0,"edit-special-exams",30),2&e){const e=o.vc();o.Bc("modals",e.modal)("exam",e.activeExam)}}function vt(e,t){if(1&e&&(o.jc(0,"tr"),o.ec(1,"td",22),o.ec(2,"td",22),o.ec(3,"td",22),o.ec(4,"td",22),o.ec(5,"td",22),o.ic()),2&e){const e=t.$implicit;o.Pb(1),o.Bc("innerText",e.subject),o.Pb(1),o.Bc("innerText",e.questionType),o.Pb(1),o.Bc("innerText",e.answer),o.Pb(1),o.Bc("innerText",e.correctMarks),o.Pb(1),o.Bc("innerText",e.wrongMarks)}}const Ct=function(){return{width:"300px"}},Pt=function(){return{width:"800px"}};function xt(e,t){if(1&e&&o.ec(0,"mat-option",17),2&e){const e=t.$implicit;o.Bc("value",e.examId)("innerText",e.examName)}}function It(e,t){if(1&e&&o.ec(0,"mat-option",18),2&e){const e=t.$implicit;o.Bc("innerText",e.className)("value",e.classId)}}function yt(e,t){if(1&e&&o.ec(0,"mat-option",18),2&e){const e=t.$implicit;o.Bc("innerText",e.setName)("value",e.setId)}}function kt(e,t){if(1&e&&o.ec(0,"mat-option",18),2&e){const e=t.$implicit;o.Bc("innerText",e.stream)("value",e.streamId)}}function Bt(e,t){if(1&e&&(o.jc(0,"mat-radio-button",27),o.Wc(1),o.ic()),2&e){const e=t.$implicit;o.Bc("value",e.type),o.Pb(1),o.Xc(e.type)}}function wt(e,t){if(1&e){const e=o.kc();o.jc(0,"div",19),o.ec(1,"div",20),o.ec(2,"div",21),o.jc(3,"div",22),o.jc(4,"mat-radio-group",23),o.rc("ngModelChange",(function(t){return o.Mc(e),o.vc().questionType=t}))("change",(function(){return o.Mc(e),o.vc().setAllQuestionTypes()})),o.Vc(5,Bt,2,2,"mat-radio-button",24),o.ic(),o.ic(),o.ec(6,"div",22),o.jc(7,"div",25),o.jc(8,"mat-form-field"),o.jc(9,"mat-label"),o.Wc(10,"Correct Marks"),o.ic(),o.jc(11,"input",26),o.rc("ngModelChange",(function(t){return o.Mc(e),o.vc().correctMarks=t}))("change",(function(){return o.Mc(e),o.vc().setAllCorrectMarks()})),o.ic(),o.ic(),o.ic(),o.jc(12,"div",25),o.jc(13,"mat-form-field"),o.jc(14,"mat-label"),o.Wc(15,"Wrong Marks"),o.ic(),o.jc(16,"input",26),o.rc("ngModelChange",(function(t){return o.Mc(e),o.vc().wrongMarks=t}))("change",(function(){return o.Mc(e),o.vc().setAllWrongMarks()})),o.ic(),o.ic(),o.ic(),o.ic()}if(2&e){const e=o.vc();o.Pb(4),o.Bc("ngModel",e.questionType),o.Pb(1),o.Bc("ngForOf",e.questionTypes),o.Pb(6),o.Bc("name","correctMarks")("ngModel",e.correctMarks),o.Pb(5),o.Bc("name","wrongMarks")("ngModel",e.wrongMarks)}}function Ot(e,t){if(1&e&&o.ec(0,"mat-option",18),2&e){const e=t.$implicit;o.Bc("innerText",e.subject)("value",e.subject)}}function Tt(e,t){if(1&e&&(o.jc(0,"mat-radio-button",27),o.Wc(1),o.ic()),2&e){const e=t.$implicit;o.Bc("value",e.type),o.Pb(1),o.Xc(e.type)}}function Wt(e,t){if(1&e){const e=o.kc();o.jc(0,"mat-radio-group",38),o.rc("ngModelChange",(function(t){return o.Mc(e),o.vc().$implicit.single=t})),o.ec(1,"mat-radio-button",27),o.ec(2,"mat-radio-button",27),o.ec(3,"mat-radio-button",27),o.ec(4,"mat-radio-button",27),o.ic()}if(2&e){const e=o.vc(),t=e.$implicit;o.Bc("name","ans_"+e.index)("ngModel",t.single),o.Pb(1),o.Bc("value","A"),o.Pb(1),o.Bc("value","B"),o.Pb(1),o.Bc("value","C"),o.Pb(1),o.Bc("value","D")}}function Rt(e,t){if(1&e){const e=o.kc();o.hc(0),o.jc(1,"mat-checkbox",30),o.rc("ngModelChange",(function(t){return o.Mc(e),o.vc().$implicit.multiple.option_a=t})),o.ic(),o.jc(2,"mat-checkbox",30),o.rc("ngModelChange",(function(t){return o.Mc(e),o.vc().$implicit.multiple.option_b=t})),o.ic(),o.jc(3,"mat-checkbox",30),o.rc("ngModelChange",(function(t){return o.Mc(e),o.vc().$implicit.multiple.option_c=t})),o.ic(),o.jc(4,"mat-checkbox",30),o.rc("ngModelChange",(function(t){return o.Mc(e),o.vc().$implicit.multiple.option_d=t})),o.ic(),o.gc()}if(2&e){const e=o.vc(),t=e.index,c=e.$implicit;o.Pb(1),o.Bc("name","mul-a"+t)("ngModel",c.multiple.option_a),o.Pb(1),o.Bc("name","mul-b"+t)("ngModel",c.multiple.option_b),o.Pb(1),o.Bc("name","mul-c"+t)("ngModel",c.multiple.option_c),o.Pb(1),o.Bc("name","mul-d"+t)("ngModel",c.multiple.option_d)}}function St(e,t){if(1&e){const e=o.kc();o.jc(0,"input",30),o.rc("ngModelChange",(function(t){return o.Mc(e),o.vc().$implicit.integer=t})),o.ic()}if(2&e){const e=o.vc(),t=e.$implicit;o.Bc("name","ans_"+e.index)("ngModel",t.integer)}}function _t(e,t){if(1&e&&o.ec(0,"mat-option",18),2&e){const e=t.$implicit;o.Bc("innerText",e.tag)("value",e.tag)}}function Ft(e,t){if(1&e&&o.ec(0,"mat-option",18),2&e){const e=t.$implicit;o.Bc("innerText",e.difficulty)("value",e.difficulty)}}function Nt(e,t){if(1&e){const e=o.kc();o.jc(0,"div",28),o.ec(1,"div",29),o.jc(2,"div",21),o.jc(3,"mat-form-field"),o.jc(4,"mat-label"),o.Wc(5,"Subject"),o.ic(),o.jc(6,"mat-select",30),o.rc("ngModelChange",(function(c){return o.Mc(e),t.$implicit.subject=c})),o.Vc(7,Ot,1,2,"mat-option",9),o.ic(),o.ic(),o.ic(),o.jc(8,"div",22),o.jc(9,"mat-radio-group",31),o.rc("ngModelChange",(function(c){return o.Mc(e),t.$implicit.questionType=c})),o.Vc(10,Tt,2,2,"mat-radio-button",24),o.ic(),o.ic(),o.jc(11,"div",22),o.Vc(12,Wt,5,6,"mat-radio-group",32),o.Vc(13,Rt,5,8,"ng-container",33),o.Vc(14,St,1,2,"input",34),o.ic(),o.jc(15,"div",25),o.jc(16,"mat-form-field"),o.jc(17,"mat-label"),o.Wc(18,"Correct Marks"),o.ic(),o.jc(19,"input",35),o.rc("ngModelChange",(function(c){return o.Mc(e),t.$implicit.correctMarks=c})),o.ic(),o.ic(),o.ic(),o.jc(20,"div",25),o.jc(21,"mat-form-field"),o.jc(22,"mat-label"),o.Wc(23,"Wrong Marks"),o.ic(),o.jc(24,"input",35),o.rc("ngModelChange",(function(c){return o.Mc(e),t.$implicit.wrongMarks=c})),o.ic(),o.ic(),o.ic(),o.jc(25,"div",36),o.jc(26,"mat-form-field"),o.jc(27,"mat-label"),o.Wc(28,"Tag"),o.ic(),o.jc(29,"mat-select",30),o.rc("ngModelChange",(function(c){return o.Mc(e),t.$implicit.tag=c})),o.Vc(30,_t,1,2,"mat-option",9),o.ic(),o.ic(),o.ic(),o.jc(31,"div",37),o.jc(32,"mat-form-field"),o.jc(33,"mat-label"),o.Wc(34,"Difficulty"),o.ic(),o.jc(35,"mat-select",30),o.rc("ngModelChange",(function(c){return o.Mc(e),t.$implicit.difficulty=c})),o.Vc(36,Ft,1,2,"mat-option",9),o.ic(),o.ic(),o.ic(),o.ic()}if(2&e){const e=t.$implicit,c=t.index,n=o.vc();o.Pb(1),o.Bc("innerText",c+1),o.Pb(5),o.Bc("name","subject"+c)("ngModel",e.subject),o.Pb(1),o.Bc("ngForOf",n.subjects),o.Pb(2),o.Bc("ngModel",e.questionType)("name","questionType"+c),o.Pb(1),o.Bc("ngForOf",n.questionTypes),o.Pb(2),o.Bc("ngIf","S"==e.questionType),o.Pb(1),o.Bc("ngIf","M"==e.questionType),o.Pb(1),o.Bc("ngIf","I"==e.questionType),o.Pb(5),o.Bc("name","correctMarks"+c)("ngModel",e.correctMarks),o.Pb(5),o.Bc("name","wrongMarks"+c)("ngModel",e.wrongMarks),o.Pb(5),o.Bc("name","tag"+c)("ngModel",e.tag),o.Pb(1),o.Bc("ngForOf",n.tagTypes),o.Pb(5),o.Bc("name","difficulty"+c)("ngModel",e.difficulty),o.Pb(1),o.Bc("ngForOf",n.difficultyTypes)}}function At(e,t){if(1&e){const e=o.kc();o.jc(0,"button",39),o.rc("click",(function(){o.Mc(e);const t=o.vc(),c=o.Ic(7);return t.submit(c)})),o.Wc(1,"Submit"),o.ic()}}function qt(e,t){if(1&e&&o.ec(0,"mat-option",22),2&e){const e=t.$implicit;o.Bc("innerText",e.subject)("value",e.subject)}}function Et(e,t){if(1&e&&(o.jc(0,"mat-radio-button",23),o.Wc(1),o.ic()),2&e){const e=t.$implicit;o.Bc("value",e.type),o.Pb(1),o.Xc(e.type)}}function $t(e,t){if(1&e){const e=o.kc();o.jc(0,"mat-radio-group",24),o.rc("ngModelChange",(function(t){return o.Mc(e),o.vc().$implicit.single=t})),o.ec(1,"mat-radio-button",23),o.ec(2,"mat-radio-button",23),o.ec(3,"mat-radio-button",23),o.ec(4,"mat-radio-button",23),o.ic()}if(2&e){const e=o.vc(),t=e.$implicit;o.Bc("name","ans_"+e.index)("ngModel",t.single),o.Pb(1),o.Bc("value","A"),o.Pb(1),o.Bc("value","B"),o.Pb(1),o.Bc("value","C"),o.Pb(1),o.Bc("value","D")}}function Vt(e,t){if(1&e){const e=o.kc();o.hc(0),o.jc(1,"mat-checkbox",10),o.rc("ngModelChange",(function(t){return o.Mc(e),o.vc().$implicit.multiple.option_a=t})),o.ic(),o.jc(2,"mat-checkbox",10),o.rc("ngModelChange",(function(t){return o.Mc(e),o.vc().$implicit.multiple.option_b=t})),o.ic(),o.jc(3,"mat-checkbox",10),o.rc("ngModelChange",(function(t){return o.Mc(e),o.vc().$implicit.multiple.option_c=t})),o.ic(),o.jc(4,"mat-checkbox",10),o.rc("ngModelChange",(function(t){return o.Mc(e),o.vc().$implicit.multiple.option_d=t})),o.ic(),o.gc()}if(2&e){const e=o.vc(),t=e.index,c=e.$implicit;o.Pb(1),o.Bc("name","mul-a"+t)("ngModel",c.multiple.option_a),o.Pb(1),o.Bc("name","mul-b"+t)("ngModel",c.multiple.option_b),o.Pb(1),o.Bc("name","mul-c"+t)("ngModel",c.multiple.option_c),o.Pb(1),o.Bc("name","mul-d"+t)("ngModel",c.multiple.option_d)}}function Dt(e,t){if(1&e){const e=o.kc();o.jc(0,"input",10),o.rc("ngModelChange",(function(t){return o.Mc(e),o.vc().$implicit.integer=t})),o.ic()}if(2&e){const e=o.vc(),t=e.$implicit;o.Bc("name","ans_"+e.index)("ngModel",t.integer)}}function Kt(e,t){if(1&e&&o.ec(0,"mat-option",22),2&e){const e=t.$implicit;o.Bc("innerText",e.difficulty)("value",e.difficulty)}}function Lt(e,t){if(1&e&&o.ec(0,"mat-option",22),2&e){const e=t.$implicit;o.Bc("innerText",e.tag)("value",e.tag)}}function Xt(e,t){if(1&e){const e=o.kc();o.jc(0,"div",7),o.ec(1,"div",8),o.jc(2,"div",9),o.jc(3,"mat-form-field"),o.jc(4,"mat-label"),o.Wc(5,"Subject"),o.ic(),o.jc(6,"mat-select",10),o.rc("ngModelChange",(function(c){return o.Mc(e),t.$implicit.subject=c})),o.Vc(7,qt,1,2,"mat-option",11),o.ic(),o.ic(),o.ic(),o.jc(8,"div",12),o.jc(9,"mat-radio-group",13),o.rc("ngModelChange",(function(c){return o.Mc(e),t.$implicit.questionType=c})),o.Vc(10,Et,2,2,"mat-radio-button",14),o.ic(),o.ic(),o.jc(11,"div",12),o.Vc(12,$t,5,6,"mat-radio-group",15),o.Vc(13,Vt,5,8,"ng-container",16),o.Vc(14,Dt,1,2,"input",17),o.ic(),o.jc(15,"div",18),o.jc(16,"mat-form-field"),o.jc(17,"mat-label"),o.Wc(18,"Correct Marks"),o.ic(),o.jc(19,"input",19),o.rc("ngModelChange",(function(c){return o.Mc(e),t.$implicit.correctMarks=c})),o.ic(),o.ic(),o.ic(),o.jc(20,"div",18),o.jc(21,"mat-form-field"),o.jc(22,"mat-label"),o.Wc(23,"Wrong Marks"),o.ic(),o.jc(24,"input",19),o.rc("ngModelChange",(function(c){return o.Mc(e),t.$implicit.wrongMarks=c})),o.ic(),o.ic(),o.ic(),o.jc(25,"div",20),o.jc(26,"mat-form-field"),o.jc(27,"mat-label"),o.Wc(28,"Difficulty"),o.ic(),o.jc(29,"mat-select",10),o.rc("ngModelChange",(function(c){return o.Mc(e),t.$implicit.difficulty=c})),o.Vc(30,Kt,1,2,"mat-option",11),o.ic(),o.ic(),o.ic(),o.jc(31,"div",21),o.jc(32,"mat-form-field"),o.jc(33,"mat-label"),o.Wc(34,"Tag"),o.ic(),o.jc(35,"mat-select",10),o.rc("ngModelChange",(function(c){return o.Mc(e),t.$implicit.tag=c})),o.Vc(36,Lt,1,2,"mat-option",11),o.ic(),o.ic(),o.ic(),o.ic()}if(2&e){const e=t.$implicit,c=t.index,n=o.vc();o.Pb(1),o.Bc("innerText",c+1),o.Pb(5),o.Bc("name","subject"+c)("ngModel",e.subject),o.Pb(1),o.Bc("ngForOf",n.subjects),o.Pb(2),o.Bc("ngModel",e.questionType)("name","questionType"+c),o.Pb(1),o.Bc("ngForOf",n.questionTypes),o.Pb(2),o.Bc("ngIf","S"==e.questionType),o.Pb(1),o.Bc("ngIf","M"==e.questionType),o.Pb(1),o.Bc("ngIf","I"==e.questionType),o.Pb(5),o.Bc("name","correctMarks"+c)("ngModel",e.correctMarks),o.Pb(5),o.Bc("name","wrongMarks"+c)("ngModel",e.wrongMarks),o.Pb(5),o.Bc("name","difficulty"+c)("ngModel",e.difficulty),o.Pb(1),o.Bc("ngForOf",n.difficultyTypes),o.Pb(5),o.Bc("name","tag"+c)("ngModel",e.tag),o.Pb(1),o.Bc("ngForOf",n.tagTypes)}}function Ut(e,t){if(1&e){const e=o.kc();o.jc(0,"button",25),o.rc("click",(function(){o.Mc(e);const t=o.vc(),c=o.Ic(7);return t.submit(c)})),o.Wc(1,"Submit"),o.ic()}}const Yt=[{path:"",component:r},{path:"send-sms-by-number",component:b},{path:"send-sms-by-batch",component:I},{path:"finished-lectures",component:S},{path:"add-omr",component:ue},{path:"edit-omr/:omrId",component:ze},{path:"omrs",component:pe},{path:"zoom-integration",component:et},{path:"special-exams",component:(()=>{class e{constructor(e,t){this.coreService=e,this.dialog=t,this.loading=!0,this.modal={addModal:!1,editModal:!1,showAnswerKey:!1},this.addClassForm={examId:null,className:null},this.addSetForm={examId:null,classId:null,setName:null,classes:[]},this.addStreamForm={examId:null,classId:null,setId:null,stream:null,classes:[],sets:[]},this.assignOMRForm={examId:null,classId:null,setId:null,omrId:null,classes:[],sets:[]},this.callBack=()=>{this.getAllExams()},this.exams=[],this.examClassSetAnswerkey=[],this.classes_sets=[],this.classNames=[{name:"5th"},{name:"6th"},{name:"7th"},{name:"8th"},{name:"9th"},{name:"10th"},{name:"11th"},{name:"12th"}],this.setNames=[{name:"A"},{name:"B"},{name:"C"},{name:"D"},{name:"E"},{name:"F"},{name:"G"},{name:"H"}],this.streamNames=[{name:"Non-Medical"},{name:"Medical"}],this.omrs=[],this.answerKey=[]}ngOnInit(){this.getAllExams(),this.getAllExamClassSetAnswerkey(),this.getClassesSetsAndStreams(),this.getOMRs()}getOMRs(){this.coreService.getRequest(l.a.API_URL+"omr/").subscribe(e=>{this.loading=!1,this.omrs=e})}getClassesSetsAndStreams(){this.coreService.getRequest(l.a.API_URL+"special-exams/classes-set-stream").subscribe(e=>{this.classes_sets=e,this.loading=!1})}getAllExams(){this.coreService.getRequest(l.a.API_URL+"special-exams").subscribe(e=>{this.loading=!1,this.exams=e})}editExam(e){this.activeExam=e,this.modal.editModal=!0}deleteExam(e,t){this.dialog.showDialog({content:`Are you sure to delete exam "${e.examName}"?`,callBack:()=>{this.loading=!0,this.coreService.deleteRequest(l.a.API_URL+"special-exams/"+e.examId).subscribe(e=>{this.loading=!1,e.success&&this.exams.splice(t,1)})}})}addClassInExam(){this.loading=!0,this.coreService.postRequest(l.a.API_URL+"special-exams/classes",this.addClassForm).subscribe(e=>{this.loading=!1,this.dialog.showDialog({content:e.message})})}addSetInExamClass(){this.loading=!0,this.coreService.postRequest(l.a.API_URL+"special-exams/classes/set",this.addSetForm).subscribe(e=>{this.loading=!1,this.dialog.showDialog({content:e.message})})}addStreamInExamClass(){this.loading=!0,this.coreService.postRequest(l.a.API_URL+"special-exams/classes/set/stream",this.addStreamForm).subscribe(e=>{this.loading=!1,this.dialog.showDialog({content:e.message})})}getAllExamClassSetAnswerkey(){this.loading=!0,this.coreService.getRequest(l.a.API_URL+"special-exams/exam-class-set-answerkey").subscribe(e=>{this.loading=!1,this.examClassSetAnswerkey=e})}assignOMR(){this.loading=!0,this.coreService.postRequest(l.a.API_URL+"special-exams/assign-omr",{setId:this.assignOMRForm.setId,omrId:this.assignOMRForm.omrId}).subscribe(e=>{this.loading=!1,this.dialog.showDialog({content:e.message})})}openAnswerKey(e){this.loading=!0,this.answerKeyInfo=`${e.examName} ${e.className} ${e.setName} `,this.coreService.getRequest(l.a.API_URL+"special-exams/answer-key/"+e.answerKeyId).subscribe(e=>{this.loading=!1,this.answerKey=JSON.parse(e.answerKey),this.modal.showAnswerKey=!0})}setClasses(e,t){t.classes=this.classes_sets.filter(t=>t.examId==e)}setSets(e){let t=this.classes_sets.find(t=>t.classId==e.classId);t&&(e.sets=t.sets)}}return e.\u0275fac=function(t){return new(t||e)(o.dc(d.a),o.dc(m.a))},e.\u0275cmp=o.Xb({type:e,selectors:[["app-special-exams-home"]],decls:171,vars:46,consts:[["id","page-content"],[1,"content-title","row","align-items-center","justify-content-between"],["mat-raised-button","","color","primary",3,"click"],[1,"pinnacle-table"],[4,"ngFor","ngForOf"],[2,"height","15px"],[1,"content-title"],[1,"content-box"],[2,"width","250px"],[3,"ngModel","ngModelChange"],[3,"value","innerText",4,"ngFor","ngForOf"],[3,"innerText","value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"ngModel","ngModelChange","selectionChange"],["modal","",1,"modal",3,"show","options"],[1,"dialog"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],[3,"modals","callBack",4,"ngIf"],[3,"modals","exam",4,"ngIf"],[3,"show"],[3,"innerText"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","warn",3,"click"],["mat-mini-fab","","color","primary",3,"disabled","routerLink","click"],["mat-mini-fab","","color","primary",3,"disabled","click"],[3,"value","innerText"],[3,"innerText","value"],[3,"modals","callBack"],[3,"modals","exam"]],template:function(e,t){1&e&&(o.ec(0,"admin-header"),o.ec(1,"admin-sidebar"),o.jc(2,"div",0),o.jc(3,"div",1),o.Wc(4,"Active Special Exams "),o.jc(5,"button",2),o.rc("click",(function(){return t.modal.addModal=!0})),o.Wc(6,"Add"),o.ic(),o.ic(),o.jc(7,"table",3),o.jc(8,"tr"),o.jc(9,"th"),o.Wc(10,"Exam Name"),o.ic(),o.jc(11,"th"),o.Wc(12,"Action"),o.ic(),o.ic(),o.Vc(13,nt,10,1,"tr",4),o.ic(),o.ec(14,"div",5),o.jc(15,"div",6),o.Wc(16,"Exam, Class, Set, Stream, AnswerKey and OMR"),o.ic(),o.jc(17,"table",3),o.jc(18,"tr"),o.jc(19,"th"),o.Wc(20,"Exam Name"),o.ic(),o.jc(21,"th"),o.Wc(22,"Class"),o.ic(),o.jc(23,"th"),o.Wc(24,"Set"),o.ic(),o.jc(25,"th"),o.Wc(26,"Stream"),o.ic(),o.jc(27,"th"),o.Wc(28,"AnswerKey"),o.ic(),o.jc(29,"th"),o.Wc(30,"OMR"),o.ic(),o.ic(),o.Vc(31,it,15,8,"tr",4),o.ic(),o.ec(32,"div",5),o.jc(33,"div",6),o.Wc(34,"Add Class in Exam"),o.ic(),o.jc(35,"div",7),o.jc(36,"mat-form-field",8),o.jc(37,"mat-label"),o.Wc(38,"Choose Exam"),o.ic(),o.jc(39,"mat-select",9),o.rc("ngModelChange",(function(e){return t.addClassForm.examId=e})),o.Vc(40,ot,1,2,"mat-option",10),o.ic(),o.ic(),o.ec(41,"br"),o.jc(42,"mat-form-field",8),o.jc(43,"mat-label"),o.Wc(44,"Class Name"),o.ic(),o.jc(45,"mat-select",9),o.rc("ngModelChange",(function(e){return t.addClassForm.className=e})),o.Vc(46,st,1,2,"mat-option",11),o.ic(),o.ic(),o.ec(47,"br"),o.jc(48,"button",12),o.rc("click",(function(){return t.addClassInExam()})),o.Wc(49,"Add Class"),o.ic(),o.ic(),o.ec(50,"div",5),o.jc(51,"div",6),o.Wc(52,"Add Set in Exam Class"),o.ic(),o.jc(53,"div",7),o.jc(54,"mat-form-field",8),o.jc(55,"mat-label"),o.Wc(56,"Choose Exam"),o.ic(),o.jc(57,"mat-select",13),o.rc("ngModelChange",(function(e){return t.addSetForm.examId=e}))("selectionChange",(function(){return t.setClasses(t.addSetForm.examId,t.addSetForm)})),o.Vc(58,at,1,2,"mat-option",10),o.ic(),o.ic(),o.ec(59,"br"),o.jc(60,"mat-form-field",8),o.jc(61,"mat-label"),o.Wc(62,"Class Name"),o.ic(),o.jc(63,"mat-select",9),o.rc("ngModelChange",(function(e){return t.addSetForm.classId=e})),o.Vc(64,rt,1,2,"mat-option",11),o.ic(),o.ic(),o.ec(65,"br"),o.jc(66,"mat-form-field",8),o.jc(67,"mat-label"),o.Wc(68,"Set"),o.ic(),o.jc(69,"mat-select",9),o.rc("ngModelChange",(function(e){return t.addSetForm.setName=e})),o.Vc(70,lt,1,2,"mat-option",11),o.ic(),o.ic(),o.ec(71,"br"),o.jc(72,"button",12),o.rc("click",(function(){return t.addSetInExamClass()})),o.Wc(73,"Add Set"),o.ic(),o.ic(),o.ec(74,"div",5),o.jc(75,"div",6),o.Wc(76,"Add Stream in Exam Class And Set"),o.ic(),o.jc(77,"div",7),o.jc(78,"mat-form-field",8),o.jc(79,"mat-label"),o.Wc(80,"Choose Exam"),o.ic(),o.jc(81,"mat-select",13),o.rc("ngModelChange",(function(e){return t.addStreamForm.examId=e}))("selectionChange",(function(){return t.setClasses(t.addStreamForm.examId,t.addStreamForm)})),o.Vc(82,dt,1,2,"mat-option",10),o.ic(),o.ic(),o.ec(83,"br"),o.jc(84,"mat-form-field",8),o.jc(85,"mat-label"),o.Wc(86,"Class Name"),o.ic(),o.jc(87,"mat-select",13),o.rc("ngModelChange",(function(e){return t.addStreamForm.classId=e}))("selectionChange",(function(){return t.setSets(t.addStreamForm)})),o.Vc(88,mt,1,2,"mat-option",11),o.ic(),o.ic(),o.ec(89,"br"),o.jc(90,"mat-form-field",8),o.jc(91,"mat-label"),o.Wc(92,"Set"),o.ic(),o.jc(93,"mat-select",9),o.rc("ngModelChange",(function(e){return t.addStreamForm.setId=e})),o.Vc(94,ut,1,2,"mat-option",11),o.ic(),o.ic(),o.ec(95,"br"),o.jc(96,"mat-form-field",8),o.jc(97,"mat-label"),o.Wc(98,"Stream"),o.ic(),o.jc(99,"mat-select",9),o.rc("ngModelChange",(function(e){return t.addStreamForm.stream=e})),o.Vc(100,gt,1,2,"mat-option",11),o.ic(),o.ic(),o.ec(101,"br"),o.jc(102,"button",12),o.rc("click",(function(){return t.addStreamInExamClass()})),o.Wc(103,"Add Stream"),o.ic(),o.ic(),o.ec(104,"div",5),o.jc(105,"div",6),o.Wc(106,"Assign OMR in Exam Class And Set"),o.ic(),o.jc(107,"div",7),o.jc(108,"mat-form-field",8),o.jc(109,"mat-label"),o.Wc(110,"Choose Exam"),o.ic(),o.jc(111,"mat-select",13),o.rc("ngModelChange",(function(e){return t.assignOMRForm.examId=e}))("selectionChange",(function(){return t.setClasses(t.assignOMRForm.examId,t.assignOMRForm)})),o.Vc(112,ht,1,2,"mat-option",10),o.ic(),o.ic(),o.ec(113,"br"),o.jc(114,"mat-form-field",8),o.jc(115,"mat-label"),o.Wc(116,"Class Name"),o.ic(),o.jc(117,"mat-select",13),o.rc("ngModelChange",(function(e){return t.assignOMRForm.classId=e}))("selectionChange",(function(){return t.setSets(t.assignOMRForm)})),o.Vc(118,pt,1,2,"mat-option",11),o.ic(),o.ic(),o.ec(119,"br"),o.jc(120,"mat-form-field",8),o.jc(121,"mat-label"),o.Wc(122,"Set"),o.ic(),o.jc(123,"mat-select",9),o.rc("ngModelChange",(function(e){return t.assignOMRForm.setId=e})),o.Vc(124,ft,1,2,"mat-option",11),o.ic(),o.ic(),o.ec(125,"br"),o.jc(126,"mat-form-field",8),o.jc(127,"mat-label"),o.Wc(128,"OMR"),o.ic(),o.jc(129,"mat-select",9),o.rc("ngModelChange",(function(e){return t.assignOMRForm.omrId=e})),o.Vc(130,bt,1,2,"mat-option",11),o.ic(),o.ic(),o.ec(131,"br"),o.jc(132,"button",12),o.rc("click",(function(){return t.assignOMR()})),o.Wc(133,"Assign OMR"),o.ic(),o.ic(),o.ic(),o.jc(134,"div",14),o.jc(135,"div",15),o.jc(136,"div",16),o.Wc(137,"Add Exam Modal"),o.ic(),o.jc(138,"div",17),o.rc("click",(function(){return t.modal.addModal=!1})),o.Wc(139,"\xd7"),o.ic(),o.jc(140,"div",18),o.Vc(141,Mt,1,2,"add-special-exams",19),o.ic(),o.ic(),o.ic(),o.jc(142,"div",14),o.jc(143,"div",15),o.jc(144,"div",16),o.Wc(145,"Edit Exam Modal"),o.ic(),o.jc(146,"div",17),o.rc("click",(function(){return t.modal.editModal=!1})),o.Wc(147,"\xd7"),o.ic(),o.jc(148,"div",18),o.Vc(149,jt,1,2,"edit-special-exams",20),o.ic(),o.ic(),o.ic(),o.jc(150,"div",14),o.jc(151,"div",15),o.jc(152,"div",16),o.Wc(153),o.ic(),o.jc(154,"div",17),o.rc("click",(function(){return t.modal.showAnswerKey=!1})),o.Wc(155,"\xd7"),o.ic(),o.jc(156,"div",18),o.jc(157,"table",3),o.jc(158,"tr"),o.jc(159,"th"),o.Wc(160,"Subject"),o.ic(),o.jc(161,"th"),o.Wc(162,"Question Type"),o.ic(),o.jc(163,"th"),o.Wc(164,"Answer"),o.ic(),o.jc(165,"th"),o.Wc(166,"Correct Marks"),o.ic(),o.jc(167,"th"),o.Wc(168,"Wrong Marks"),o.ic(),o.ic(),o.Vc(169,vt,6,5,"tr",4),o.ic(),o.ic(),o.ic(),o.ic(),o.ec(170,"loading",21)),2&e&&(o.Pb(13),o.Bc("ngForOf",t.exams),o.Pb(18),o.Bc("ngForOf",t.examClassSetAnswerkey),o.Pb(8),o.Bc("ngModel",t.addClassForm.examId),o.Pb(1),o.Bc("ngForOf",t.exams),o.Pb(5),o.Bc("ngModel",t.addClassForm.className),o.Pb(1),o.Bc("ngForOf",t.classNames),o.Pb(2),o.Bc("disabled",!t.addClassForm.className),o.Pb(9),o.Bc("ngModel",t.addSetForm.examId),o.Pb(1),o.Bc("ngForOf",t.exams),o.Pb(5),o.Bc("ngModel",t.addSetForm.classId),o.Pb(1),o.Bc("ngForOf",t.addSetForm.classes),o.Pb(5),o.Bc("ngModel",t.addSetForm.setName),o.Pb(1),o.Bc("ngForOf",t.setNames),o.Pb(2),o.Bc("disabled",!t.addSetForm.setName),o.Pb(9),o.Bc("ngModel",t.addStreamForm.examId),o.Pb(1),o.Bc("ngForOf",t.exams),o.Pb(5),o.Bc("ngModel",t.addStreamForm.classId),o.Pb(1),o.Bc("ngForOf",t.addStreamForm.classes),o.Pb(5),o.Bc("ngModel",t.addStreamForm.setId),o.Pb(1),o.Bc("ngForOf",t.addStreamForm.sets),o.Pb(5),o.Bc("ngModel",t.addStreamForm.stream),o.Pb(1),o.Bc("ngForOf",t.streamNames),o.Pb(2),o.Bc("disabled",!t.addStreamForm.stream),o.Pb(9),o.Bc("ngModel",t.assignOMRForm.examId),o.Pb(1),o.Bc("ngForOf",t.exams),o.Pb(5),o.Bc("ngModel",t.assignOMRForm.classId),o.Pb(1),o.Bc("ngForOf",t.assignOMRForm.classes),o.Pb(5),o.Bc("ngModel",t.assignOMRForm.setId),o.Pb(1),o.Bc("ngForOf",t.assignOMRForm.sets),o.Pb(5),o.Bc("ngModel",t.assignOMRForm.omrId),o.Pb(1),o.Bc("ngForOf",t.omrs),o.Pb(2),o.Bc("disabled",!t.assignOMRForm.omrId),o.Pb(2),o.Bc("show",t.modal.addModal)("options",o.Cc(43,Ct)),o.Pb(7),o.Bc("ngIf",t.modal.addModal),o.Pb(1),o.Bc("show",t.modal.editModal)("options",o.Cc(44,Ct)),o.Pb(7),o.Bc("ngIf",t.modal.editModal),o.Pb(1),o.Bc("show",t.modal.showAnswerKey)("options",o.Cc(45,Pt)),o.Pb(3),o.Yc("Answer Key of ",t.answerKeyInfo,""),o.Pb(16),o.Bc("ngForOf",t.answerKey),o.Pb(1),o.Bc("show",t.loading))},directives:[s.a,a.a,p.b,j.j,u.b,u.e,M.a,h.k,h.n,fe.a,j.k,f.a,ge.a,p.a,n.e,C.h,tt,ct],styles:[""]}),e})()},{path:"add-answer-key",component:(()=>{class e{constructor(e,t){this.coreService=e,this.dialog=t,this.loading=!0,this.answerKeyForm={examId:null,classId:null,setId:null,streamId:null,totalQuestions:null},this.exams=[],this.classes_sets=[],this.classes=[],this.sets=[],this.streams=[],this.questionsData=[],this.subjects=[{subject:"SST"},{subject:"MAT"},{subject:"Maths"},{subject:"Physics"},{subject:"Chemistry"},{subject:"Biology"}],this.questionTypes=[{type:"S"},{type:"M"},{type:"I"}],this.difficultyTypes=[{difficulty:"Easy"},{difficulty:"Medium"},{difficulty:"Difficult"}],this.tagTypes=[{tag:"Conceptual"},{tag:"Memory"},{tag:"Application"}]}ngOnInit(){this.getAllExams(),this.getClassesSetsAndStreams()}getAllExams(){this.coreService.getRequest(l.a.API_URL+"special-exams").subscribe(e=>{this.loading=!1,this.exams=e})}getClassesSetsAndStreams(){this.loading=!0,this.coreService.getRequest(l.a.API_URL+"special-exams/classes-set-stream").subscribe(e=>{this.classes_sets=e})}setClasses(e){this.classes=this.classes_sets.filter(t=>t.examId==e)}setSets(){let e=this.classes_sets.find(e=>e.classId==this.answerKeyForm.classId);e&&(this.sets=e.sets)}setStreams(){let e=this.sets.find(e=>e.setId==this.answerKeyForm.setId);e&&(this.streams=e.streams)}setQuestions(){this.questionsData=[];for(let e=1;e<=this.answerKeyForm.totalQuestions;e++)this.questionsData.push({subject:null,questionType:null,integer:null,single:null,multiple:{option_a:null,option_b:null,option_c:null,option_d:null},correctMarks:null,wrongMarks:null,difficulty:null,tag:null})}setAllQuestionTypes(){this.questionsData.forEach(e=>e.questionType=this.questionType)}setAllCorrectMarks(){this.questionsData.forEach(e=>e.correctMarks=this.correctMarks)}setAllWrongMarks(){this.questionsData.forEach(e=>e.wrongMarks=this.wrongMarks)}submit(e){let t=[];this.questionsData.forEach((e,c)=>{t.push({subject:e.subject,answer:[],correctMarks:+e.correctMarks,wrongMarks:+e.wrongMarks,difficulty:e.difficulty,tag:e.tag,questionType:e.questionType}),"S"==e.questionType?t[c].answer.push(e.single):"M"==e.questionType?(e.multiple.option_a&&t[c].answer.push("A"),e.multiple.option_b&&t[c].answer.push("B"),e.multiple.option_c&&t[c].answer.push("C"),e.multiple.option_d&&t[c].answer.push("D")):t[c].answer.push(+e.integer)});let c={setId:this.answerKeyForm.setId,streamId:this.answerKeyForm.streamId,answerKey:t};this.loading=!0,this.coreService.postRequest(l.a.API_URL+"special-exams/answer-key",c).subscribe(t=>{this.loading=!1,this.dialog.showDialog({content:t.message}),t.success&&e.resetForm()})}}return e.\u0275fac=function(t){return new(t||e)(o.dc(d.a),o.dc(m.a))},e.\u0275cmp=o.Xb({type:e,selectors:[["app-add-answer-key"]],decls:42,vars:13,consts:[["id","page-content"],[1,"content-title"],[1,"content-box"],["form","ngForm"],[1,"row"],[1,"col-sm-3"],["name","examId",3,"ngModel","ngModelChange","selectionChange"],[3,"value","innerText",4,"ngFor","ngForOf"],["name","classId",3,"ngModel","ngModelChange","selectionChange"],[3,"innerText","value",4,"ngFor","ngForOf"],["name","setId",3,"ngModel","ngModelChange","selectionChange"],["name","streamId",3,"ngModel","ngModelChange"],["type","number","name","totalQuestions","matInput","",3,"ngModel","ngModelChange","change"],["class","row align-items-center filter",4,"ngIf"],["class","row align-items-center",4,"ngFor","ngForOf"],["type","button","mat-raised-button","","color","primary",3,"click",4,"ngIf"],[3,"show"],[3,"value","innerText"],[3,"innerText","value"],[1,"row","align-items-center","filter"],[1,"col-first"],[1,"col-sm-2","subject"],[1,"col-sm-2"],["name","questionType",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-1"],["matInput","",3,"name","ngModel","ngModelChange","change"],[3,"value"],[1,"row","align-items-center"],[1,"col-first",3,"innerText"],[3,"name","ngModel","ngModelChange"],[3,"ngModel","name","ngModelChange"],["required","",3,"name","ngModel","ngModelChange",4,"ngIf"],[4,"ngIf"],[3,"name","ngModel","ngModelChange",4,"ngIf"],["type","number","matInput","",3,"name","ngModel","ngModelChange"],[1,"col-sm-1","tag"],[1,"col-sm-1","difficulty"],["required","",3,"name","ngModel","ngModelChange"],["type","button","mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(o.ec(0,"admin-header"),o.ec(1,"admin-sidebar"),o.jc(2,"div",0),o.jc(3,"div",1),o.Wc(4,"Add AnswerKey"),o.ic(),o.jc(5,"div",2),o.jc(6,"form",null,3),o.jc(8,"div",4),o.jc(9,"div",5),o.jc(10,"mat-form-field"),o.jc(11,"mat-label"),o.Wc(12,"Choose Exam"),o.ic(),o.jc(13,"mat-select",6),o.rc("ngModelChange",(function(e){return t.answerKeyForm.examId=e}))("selectionChange",(function(){return t.setClasses(t.answerKeyForm.examId)})),o.Vc(14,xt,1,2,"mat-option",7),o.ic(),o.ic(),o.ic(),o.jc(15,"div",5),o.jc(16,"mat-form-field"),o.jc(17,"mat-label"),o.Wc(18,"Class Name"),o.ic(),o.jc(19,"mat-select",8),o.rc("ngModelChange",(function(e){return t.answerKeyForm.classId=e}))("selectionChange",(function(){return t.setSets()})),o.Vc(20,It,1,2,"mat-option",9),o.ic(),o.ic(),o.ic(),o.jc(21,"div",5),o.jc(22,"mat-form-field"),o.jc(23,"mat-label"),o.Wc(24,"Set"),o.ic(),o.jc(25,"mat-select",10),o.rc("ngModelChange",(function(e){return t.answerKeyForm.setId=e}))("selectionChange",(function(){return t.setStreams()})),o.Vc(26,yt,1,2,"mat-option",9),o.ic(),o.ic(),o.ic(),o.jc(27,"div",5),o.jc(28,"mat-form-field"),o.jc(29,"mat-label"),o.Wc(30,"Stream"),o.ic(),o.jc(31,"mat-select",11),o.rc("ngModelChange",(function(e){return t.answerKeyForm.streamId=e})),o.Vc(32,kt,1,2,"mat-option",9),o.ic(),o.ic(),o.ic(),o.jc(33,"div",5),o.jc(34,"mat-form-field"),o.jc(35,"mat-label"),o.Wc(36,"Total Questions"),o.ic(),o.jc(37,"input",12),o.rc("ngModelChange",(function(e){return t.answerKeyForm.totalQuestions=e}))("change",(function(){return t.setQuestions()})),o.ic(),o.ic(),o.ic(),o.ic(),o.Vc(38,wt,17,6,"div",13),o.Vc(39,Nt,37,20,"div",14),o.Vc(40,At,2,0,"button",15),o.ic(),o.ic(),o.ic(),o.ec(41,"loading",16)),2&e&&(o.Pb(13),o.Bc("ngModel",t.answerKeyForm.examId),o.Pb(1),o.Bc("ngForOf",t.exams),o.Pb(5),o.Bc("ngModel",t.answerKeyForm.classId),o.Pb(1),o.Bc("ngForOf",t.classes),o.Pb(5),o.Bc("ngModel",t.answerKeyForm.setId),o.Pb(1),o.Bc("ngForOf",t.sets),o.Pb(5),o.Bc("ngModel",t.answerKeyForm.streamId),o.Pb(1),o.Bc("ngForOf",t.streams),o.Pb(5),o.Bc("ngModel",t.answerKeyForm.totalQuestions),o.Pb(1),o.Bc("ngIf",t.questionsData.length>0),o.Pb(1),o.Bc("ngForOf",t.questionsData),o.Pb(1),o.Bc("ngIf",t.questionsData.length>0),o.Pb(1),o.Bc("show",t.loading))},directives:[s.a,a.a,h.v,h.l,h.m,u.b,u.e,M.a,h.k,h.n,j.j,h.p,g.a,h.b,j.k,f.a,C.h,v.b,v.a,h.r,_.a,p.b],styles:["[class*=col-][_ngcontent-%COMP%]{padding:0 5px}.col-first[_ngcontent-%COMP%]{width:30px;text-align:center}.subject[_ngcontent-%COMP%]{width:250px}.difficulty[_ngcontent-%COMP%], .tag[_ngcontent-%COMP%]{width:150px}mat-radio-button[_ngcontent-%COMP%]{margin-right:10px}mat-checkbox[_ngcontent-%COMP%]{margin-right:15px}.filter[_ngcontent-%COMP%]{border:1px solid #c5c5c5}"]}),e})()},{path:"edit-answer-key/:answerKeyId",component:(()=>{class e{constructor(e,t){this.coreService=e,this.routes=t,this.loading=!0,this.questionsData=[],this.subjects=[{subject:"SST"},{subject:"MAT"},{subject:"Maths"},{subject:"Physics"},{subject:"Chemistry"},{subject:"Biology"}],this.questionTypes=[{type:"S"},{type:"M"},{type:"I"}],this.difficultyTypes=[{difficulty:"Easy"},{difficulty:"Medium"},{difficulty:"Difficult"}],this.tagTypes=[{tag:"Conceptual"},{tag:"Memory"},{tag:"Application"}],this.routes.params.subscribe(e=>{this.answerKeyId=e.answerKeyId,this.getAnswerKeyById(e.answerKeyId)})}ngOnInit(){}getAnswerKeyById(e){this.coreService.getRequest(l.a.API_URL+"special-exams/answer-key/"+e).subscribe(e=>{this.loading=!1,this.parseAnswerKey(JSON.parse(e.answerKey))})}parseAnswerKey(e){let t=[];e.forEach((e,c)=>{let n={option_a:null,option_b:null,option_c:null,option_d:null};n.option_a=e.answer.includes("A"),n.option_b=e.answer.includes("B"),n.option_c=e.answer.includes("C"),n.option_d=e.answer.includes("D"),t.push({subject:e.subject,single:e.answer[0],bonus:e.bonus,questionType:e.questionType,correctMarks:e.correctMarks,wrongMarks:e.wrongMarks,difficulty:e.difficulty,tag:e.tag,multiple:n,integer:e.answer[0]})}),this.questionsData=t}getFinalAnswerKey(){let e=[];return this.questionsData.forEach((t,c)=>{e.push({subject:t.subject,answer:[],correctMarks:+t.correctMarks,wrongMarks:+t.wrongMarks,difficulty:t.difficulty,tag:t.tag,questionType:t.questionType}),"S"==t.questionType?e[c].answer.push(t.single):"M"==t.questionType?(t.multiple.option_a&&e[c].answer.push("A"),t.multiple.option_b&&e[c].answer.push("B"),t.multiple.option_c&&e[c].answer.push("C"),t.multiple.option_d&&e[c].answer.push("D")):e[c].answer.push(+t.integer)}),e}submit(e){const t={answerKeyId:this.answerKeyId,answerKey:this.getFinalAnswerKey()};this.loading=!0,this.coreService.putRequest(l.a.API_URL+"special-exams/answer-key",t).subscribe(e=>{this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(o.dc(d.a),o.dc(n.a))},e.\u0275cmp=o.Xb({type:e,selectors:[["app-edit-answer-key"]],decls:11,vars:3,consts:[["id","page-content"],[1,"content-title"],[1,"content-box"],["form","ngForm"],["class","row align-items-center",4,"ngFor","ngForOf"],["type","button","mat-raised-button","","color","primary",3,"click",4,"ngIf"],[3,"show"],[1,"row","align-items-center"],[1,"col-first",3,"innerText"],[1,"col-sm-2","subject"],[3,"name","ngModel","ngModelChange"],[3,"innerText","value",4,"ngFor","ngForOf"],[1,"col-sm-2"],[3,"ngModel","name","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["required","",3,"name","ngModel","ngModelChange",4,"ngIf"],[4,"ngIf"],[3,"name","ngModel","ngModelChange",4,"ngIf"],[1,"col-sm-1"],["type","number","matInput","",3,"name","ngModel","ngModelChange"],[1,"col-sm-1","difficulty"],[1,"col-sm-1","tag"],[3,"innerText","value"],[3,"value"],["required","",3,"name","ngModel","ngModelChange"],["type","button","mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(o.ec(0,"admin-header"),o.ec(1,"admin-sidebar"),o.jc(2,"div",0),o.jc(3,"div",1),o.Wc(4,"Edit Answer Key"),o.ic(),o.jc(5,"div",2),o.jc(6,"form",null,3),o.Vc(8,Xt,37,20,"div",4),o.Vc(9,Ut,2,0,"button",5),o.ic(),o.ic(),o.ic(),o.ec(10,"loading",6)),2&e&&(o.Pb(8),o.Bc("ngForOf",t.questionsData),o.Pb(1),o.Bc("ngIf",t.questionsData.length>0),o.Pb(1),o.Bc("show",t.loading))},directives:[s.a,a.a,h.v,h.l,h.m,j.j,j.k,f.a,u.b,u.e,M.a,h.k,h.n,v.b,h.p,g.a,h.b,C.h,v.a,h.r,_.a,p.b],styles:[".col-first[_ngcontent-%COMP%]{width:30px;text-align:center}.subject[_ngcontent-%COMP%]{width:250px}.difficulty[_ngcontent-%COMP%], .tag[_ngcontent-%COMP%]{width:150px}mat-radio-button[_ngcontent-%COMP%]{margin-right:10px}mat-checkbox[_ngcontent-%COMP%]{margin-right:15px}"]}),e})()}];let Qt=(()=>{class e{}return e.\u0275mod=o.bc({type:e}),e.\u0275inj=o.ac({factory:function(t){return new(t||e)},imports:[[i.a,n.f.forChild(Yt)]]}),e})()}}]);