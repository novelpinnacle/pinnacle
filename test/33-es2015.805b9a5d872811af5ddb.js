(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{J4gz:function(e,c,t){"use strict";t.r(c),t.d(c,"OnlineLecturesModule",(function(){return ze}));var i=t("ofXK"),n=t("tyNb"),o=t("n+G7"),s=t("mrSG"),l=t("0EQZ"),r=t("SP9e"),a=t("byUP"),u=t("fXoL"),d=t("4KEQ"),b=t("QeEr"),h=t("FnMX"),m=t("aCk2"),g=t("G0I0"),f=t("3Pt+"),p=t("bTqV"),j=t("ZMsq"),I=t("V/o5"),v=t("NFeN"),M=t("bSwM"),P=t("kmnG"),w=t("d3UM"),C=t("FKr1"),B=t("qFsG"),T=t("z17N");function S(e,c){if(1&e&&(u.jc(0,"mat-option",24),u.Wc(1),u.ic()),2&e){const e=c.$implicit;u.Bc("value",e.courseId),u.Pb(1),u.Xc(e.course)}}function x(e,c){if(1&e&&(u.jc(0,"mat-option",24),u.Wc(1),u.ic()),2&e){const e=c.$implicit;u.Bc("value",e.batchId),u.Pb(1),u.Xc(e.batch)}}function O(e,c){if(1&e&&(u.jc(0,"mat-option",24),u.Wc(1),u.ic()),2&e){const e=c.$implicit;u.Bc("value",e.subjectId),u.Pb(1),u.Xc(e.subject)}}function D(e,c){if(1&e){const e=u.kc();u.jc(0,"button",25),u.rc("click",(function(c){u.Mc(e);const t=u.vc().index,i=u.vc();return c.preventDefault(),i.remove(t)})),u.jc(1,"mat-icon"),u.Wc(2,"delete"),u.ic(),u.ic()}}function _(e,c){if(1&e){const e=u.kc();u.jc(0,"div",9),u.jc(1,"div",10),u.jc(2,"mat-form-field"),u.jc(3,"mat-label"),u.Wc(4,"Select Course"),u.ic(),u.jc(5,"mat-select",11),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.courseId=t}))("selectionChange",(function(){u.Mc(e);const t=c.$implicit,i=c.index;return u.vc().setBatches(t.courseId,i)})),u.Vc(6,S,2,2,"mat-option",12),u.ic(),u.ic(),u.ic(),u.jc(7,"div",13),u.jc(8,"mat-form-field"),u.jc(9,"mat-label"),u.Wc(10,"Select Batch"),u.ic(),u.jc(11,"mat-select",11),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.batchId=t}))("selectionChange",(function(){u.Mc(e);const t=c.$implicit,i=c.index;return u.vc().setSubjects(t.batchId,i)})),u.Vc(12,x,2,2,"mat-option",12),u.ic(),u.ic(),u.ic(),u.jc(13,"div",13),u.jc(14,"mat-form-field"),u.jc(15,"mat-label"),u.Wc(16,"Select Subject"),u.ic(),u.jc(17,"mat-select",14),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.subjectId=t})),u.Vc(18,O,2,2,"mat-option",12),u.ic(),u.ic(),u.ic(),u.jc(19,"div",13),u.jc(20,"mat-form-field"),u.jc(21,"input",15,16),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.fromTime=t})),u.ic(),u.ec(23,"owl-date-time",null,17),u.ic(),u.ic(),u.jc(25,"div",13),u.jc(26,"mat-form-field"),u.jc(27,"input",18,19),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.toTime=t})),u.ic(),u.ec(29,"owl-date-time",null,20),u.ic(),u.ic(),u.jc(31,"div",21),u.jc(32,"button",22),u.rc("click",(function(c){u.Mc(e);const t=u.vc();return c.preventDefault(),t.addMore()})),u.jc(33,"mat-icon"),u.Wc(34,"add"),u.ic(),u.ic(),u.Wc(35,"\xa0 "),u.Vc(36,D,3,0,"button",23),u.ic(),u.ic()}if(2&e){const e=c.$implicit,t=c.index,i=u.Ic(24),n=u.Ic(30);u.Pb(5),u.Bc("ngModel",e.courseId)("name","course"+t),u.Pb(1),u.Bc("ngForOf",e.courses),u.Pb(5),u.Bc("ngModel",e.batchId)("name","batch"+t),u.Pb(1),u.Bc("ngForOf",e.batches),u.Pb(5),u.Bc("ngModel",e.subjectId)("name","subject"+t),u.Pb(1),u.Bc("ngForOf",e.subjects),u.Pb(3),u.Bc("ngModel",e.fromTime)("name","startdate"+t)("owlDateTime",i)("owlDateTimeTrigger",i),u.Pb(6),u.Bc("ngModel",e.toTime)("name","enddate"+t)("owlDateTime",n)("owlDateTimeTrigger",n),u.Pb(9),u.Bc("ngIf",t>0)}}let k=(()=>{class e{constructor(e,c){this.coreService=e,this.dialog=c,this.courses=[],this.batches_subjects=[],this.lectures=[{courses:[],courseId:null,batches:[],batchId:null,subjects:[],subjectId:null,fromTime:null,toTime:null}]}ngOnInit(){this.getCourses(),this.getBatchesSubjects()}getBatchesSubjects(){this.loading=!0,this.coreService.getRequest(r.a.API_URL+"courses/batches/subjects").subscribe(e=>{this.loading=!1,this.batches_subjects=e})}setBatches(e,c){let t=this.courses.find(c=>c.courseId==e);this.lectures[c].batches=t.batches,this.lectures[c].batchId=null,this.lectures[c].subjects=[],this.lectures[c].subjectId=null}setSubjects(e,c){let t=this.batches_subjects.find(c=>c.batchId==e);this.lectures[c].subjects=t.subjects}getCourses(){this.loading=!0,this.coreService.getRequest(r.a.API_URL+"courses").subscribe(e=>{this.loading=!1,this.courses=e,this.lectures[0].courses=e})}addMore(){this.lectures.push({courseId:null,courses:this.courses,batchId:null,batches:[],subjectId:null,subjects:[],fromTime:null,toTime:null})}remove(e){this.lectures.splice(e,1)}save(){let e={title:this.title,videoSRC:this.videoSRC,batchesSubjects:[]};this.lectures.forEach(c=>{e.batchesSubjects.push({courseId:c.courseId,batchId:c.batchId,subjectId:c.subjectId,fromTime:new Date(c.fromTime+" UTC").toISOString().slice(0,19).replace("T"," "),toTime:new Date(c.toTime+" UTC").toISOString().slice(0,19).replace("T"," ")})}),this.loading=!0,this.coreService.postRequest(r.a.API_URL+"online-lectures/video",e).subscribe(e=>{this.loading=!1,this.modal.showAddModal=!1,this.dialog.showDialog({content:e.message})})}}return e.\u0275fac=function(c){return new(c||e)(u.dc(d.a),u.dc(b.a))},e.\u0275cmp=u.Xb({type:e,selectors:[["add-video-lecture"]],inputs:{modal:"modal"},decls:17,vars:5,consts:[["form","ngForm"],[1,"row"],[1,"col-sm-6","pr"],["matInput","","name","videotitle","required","",3,"ngModel","ngModelChange"],[1,"col-sm-6","pl"],["matInput","","name","videoid","required","",3,"ngModel","ngModelChange"],["class","row video-subjects-row",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"show"],[1,"row","video-subjects-row"],[1,"col-sm-2","pr"],["required","",3,"ngModel","name","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-2","pl","pr"],["required","",3,"ngModel","name","ngModelChange"],["matInput","","placeholder","From","required","",3,"ngModel","name","owlDateTime","owlDateTimeTrigger","ngModelChange"],["startDate",""],["dt1",""],["matInput","","placeholder","To","required","",3,"ngModel","name","owlDateTime","owlDateTimeTrigger","ngModelChange"],["endDate",""],["dt2",""],[1,"col-sm-2","pl"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","warn",3,"click",4,"ngIf"],[3,"value"],["mat-mini-fab","","color","warn",3,"click"]],template:function(e,c){if(1&e&&(u.jc(0,"form",null,0),u.jc(2,"div",1),u.jc(3,"div",2),u.jc(4,"mat-form-field"),u.jc(5,"mat-label"),u.Wc(6,"Video Title"),u.ic(),u.jc(7,"input",3),u.rc("ngModelChange",(function(e){return c.title=e})),u.ic(),u.ic(),u.ic(),u.jc(8,"div",4),u.jc(9,"mat-form-field"),u.jc(10,"mat-label"),u.Wc(11,"Video ID"),u.ic(),u.jc(12,"input",5),u.rc("ngModelChange",(function(e){return c.videoSRC=e})),u.ic(),u.ic(),u.ic(),u.ic(),u.Vc(13,_,37,18,"div",6),u.jc(14,"button",7),u.rc("click",(function(){return c.save()})),u.Wc(15,"Save"),u.ic(),u.ic(),u.ec(16,"loading",8)),2&e){const e=u.Ic(1);u.Pb(7),u.Bc("ngModel",c.title),u.Pb(5),u.Bc("ngModel",c.videoSRC),u.Pb(1),u.Bc("ngForOf",c.lectures),u.Pb(1),u.Bc("disabled",e.invalid),u.Pb(2),u.Bc("show",c.loading)}},directives:[f.v,f.l,f.m,P.b,P.e,B.a,f.b,f.r,f.k,f.n,i.j,p.b,I.a,w.a,T.b,T.d,T.a,v.a,i.k,C.h],styles:[".video-subjects-row[_ngcontent-%COMP%]{align-items:center}"]}),e})();var W=t("QibW");function y(e,c){if(1&e&&(u.jc(0,"mat-option",7),u.Wc(1),u.ic()),2&e){const e=c.$implicit;u.Bc("value",e.courseId),u.Pb(1),u.Xc(e.course)}}function F(e,c){if(1&e&&(u.jc(0,"mat-option",7),u.Wc(1),u.ic()),2&e){const e=c.$implicit;u.Bc("value",e.batchId),u.Pb(1),u.Xc(e.batch)}}function $(e,c){if(1&e&&(u.jc(0,"mat-option",7),u.Wc(1),u.ic()),2&e){const e=c.$implicit;u.Bc("value",e.subjectId),u.Pb(1),u.Xc(e.subject)}}function R(e,c){if(1&e){const e=u.kc();u.jc(0,"button",29),u.rc("click",(function(c){u.Mc(e);const t=u.vc().index,i=u.vc();return c.preventDefault(),i.remove(t)})),u.jc(1,"mat-icon"),u.Wc(2,"delete"),u.ic(),u.ic()}}function L(e,c){if(1&e){const e=u.kc();u.jc(0,"div",14),u.jc(1,"div",15),u.jc(2,"mat-form-field"),u.jc(3,"mat-label"),u.Wc(4,"Select Course"),u.ic(),u.jc(5,"mat-select",16),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.courseId=t}))("selectionChange",(function(){u.Mc(e);const t=c.$implicit,i=c.index;return u.vc().setBatches(t.courseId,i)})),u.Vc(6,y,2,2,"mat-option",17),u.ic(),u.ic(),u.ic(),u.jc(7,"div",18),u.jc(8,"mat-form-field"),u.jc(9,"mat-label"),u.Wc(10,"Select Batch"),u.ic(),u.jc(11,"mat-select",16),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.batchId=t}))("selectionChange",(function(){u.Mc(e);const t=c.$implicit,i=c.index;return u.vc().setSubjects(t.batchId,i)})),u.Vc(12,F,2,2,"mat-option",17),u.ic(),u.ic(),u.ic(),u.jc(13,"div",18),u.jc(14,"mat-form-field"),u.jc(15,"mat-label"),u.Wc(16,"Select Subject"),u.ic(),u.jc(17,"mat-select",19),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.subjectId=t})),u.Vc(18,$,2,2,"mat-option",17),u.ic(),u.ic(),u.ic(),u.jc(19,"div",18),u.jc(20,"mat-form-field"),u.jc(21,"input",20,21),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.fromTime=t})),u.ic(),u.ec(23,"owl-date-time",null,22),u.ic(),u.ic(),u.jc(25,"div",18),u.jc(26,"mat-form-field"),u.jc(27,"input",23,24),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.toTime=t})),u.ic(),u.ec(29,"owl-date-time",null,25),u.ic(),u.ic(),u.jc(31,"div",26),u.jc(32,"button",27),u.rc("click",(function(c){u.Mc(e);const t=u.vc();return c.preventDefault(),t.addMore()})),u.jc(33,"mat-icon"),u.Wc(34,"add"),u.ic(),u.ic(),u.Wc(35,"\xa0 "),u.Vc(36,R,3,0,"button",28),u.ic(),u.ic()}if(2&e){const e=c.$implicit,t=c.index,i=u.Ic(24),n=u.Ic(30);u.Pb(5),u.Bc("ngModel",e.courseId)("name","course"+t),u.Pb(1),u.Bc("ngForOf",e.courses),u.Pb(5),u.Bc("ngModel",e.batchId)("name","batch"+t),u.Pb(1),u.Bc("ngForOf",e.batches),u.Pb(5),u.Bc("ngModel",e.subjectId)("name","subject"+t),u.Pb(1),u.Bc("ngForOf",e.subjects),u.Pb(3),u.Bc("ngModel",e.fromTime)("name","startdate"+t)("owlDateTime",i)("owlDateTimeTrigger",i),u.Pb(6),u.Bc("ngModel",e.toTime)("name","enddate"+t)("owlDateTime",n)("owlDateTimeTrigger",n),u.Pb(9),u.Bc("ngIf",t>0)}}let V=(()=>{class e{constructor(e,c){this.coreService=e,this.dialog=c,this.courses=[],this.batches_subjects=[],this.lectures=[{courses:[],courseId:null,batches:[],batchId:null,subjects:[],subjectId:null,fromTime:null,toTime:null}]}ngOnInit(){this.getCourses(),this.getBatchesSubjects()}getBatchesSubjects(){this.loading=!0,this.coreService.getRequest(r.a.API_URL+"courses/batches/subjects").subscribe(e=>{this.loading=!1,this.batches_subjects=e})}setBatches(e,c){let t=this.courses.find(c=>c.courseId==e);this.lectures[c].batches=t.batches,this.lectures[c].batchId=null,this.lectures[c].subjects=[],this.lectures[c].subjectId=null}setSubjects(e,c){let t=this.batches_subjects.find(c=>c.batchId==e);this.lectures[c].subjects=t.subjects}getCourses(){this.loading=!0,this.coreService.getRequest(r.a.API_URL+"courses").subscribe(e=>{this.loading=!1,this.courses=e,this.lectures[0].courses=e})}addMore(){this.lectures.push({courseId:null,courses:this.courses,batchId:null,batches:[],subjectId:null,subjects:[],fromTime:null,toTime:null})}remove(e){this.lectures.splice(e,1)}setSelectedFile(e){this.selectedFile=e.target.files[0]}save(){let e={batchesSubjects:[]};this.lectures.forEach(c=>{e.batchesSubjects.push({courseId:c.courseId,batchId:c.batchId,subjectId:c.subjectId,fromTime:new Date(c.fromTime+" UTC").toISOString().slice(0,19).replace("T"," "),toTime:new Date(c.toTime+" UTC").toISOString().slice(0,19).replace("T"," ")})});let c=new FormData;c.append("title",this.title),c.append("downloadable",this.downloadable+""),c.append("batchesSubjects",JSON.stringify(e.batchesSubjects)),c.append("file",this.selectedFile),this.loading=!0,this.coreService.uploadRequest(r.a.API_URL+"online-lectures/notes",c).subscribe(e=>{this.loading=!1,this.modal.showAddModal=!1,this.dialog.showDialog({content:e.message})})}}return e.\u0275fac=function(c){return new(c||e)(u.dc(d.a),u.dc(b.a))},e.\u0275cmp=u.Xb({type:e,selectors:[["add-notes"]],inputs:{modal:"modal"},decls:26,vars:7,consts:[["form","ngForm"],[1,"row"],[1,"col-sm-6","pr"],["matInput","","name","videotitle","required","",3,"ngModel","ngModelChange"],[1,"col-sm-6","pl"],[2,"margin-bottom","5px","color","#777"],["name","downl",3,"ngModel","ngModelChange"],[3,"value"],["class","row video-subjects-row",4,"ngFor","ngForOf"],["type","file","name","file","required","",2,"position","absolute","left","2000px",3,"change"],["file",""],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"show"],[1,"row","video-subjects-row"],[1,"col-sm-2","pr"],["required","",3,"ngModel","name","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-2","pl","pr"],["required","",3,"ngModel","name","ngModelChange"],["matInput","","placeholder","From","required","",3,"ngModel","name","owlDateTime","owlDateTimeTrigger","ngModelChange"],["startDate",""],["dt1",""],["matInput","","placeholder","To","required","",3,"ngModel","name","owlDateTime","owlDateTimeTrigger","ngModelChange"],["endDate",""],["dt2",""],[1,"col-sm-2","pl"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","warn",3,"click",4,"ngIf"],["mat-mini-fab","","color","warn",3,"click"]],template:function(e,c){if(1&e){const e=u.kc();u.jc(0,"form",null,0),u.jc(2,"div",1),u.jc(3,"div",2),u.jc(4,"mat-form-field"),u.jc(5,"mat-label"),u.Wc(6,"Title"),u.ic(),u.jc(7,"input",3),u.rc("ngModelChange",(function(e){return c.title=e})),u.ic(),u.ic(),u.ic(),u.jc(8,"div",4),u.jc(9,"div",5),u.Wc(10,"Downloadable? "),u.ic(),u.jc(11,"mat-radio-group",6),u.rc("ngModelChange",(function(e){return c.downloadable=e})),u.jc(12,"mat-radio-button",7),u.Wc(13,"Yes"),u.ic(),u.Wc(14,"\xa0\xa0 "),u.jc(15,"mat-radio-button",7),u.Wc(16,"No"),u.ic(),u.ic(),u.ic(),u.ic(),u.Vc(17,L,37,18,"div",8),u.jc(18,"input",9,10),u.rc("change",(function(e){return c.setSelectedFile(e)})),u.ic(),u.jc(20,"button",11),u.rc("click",(function(c){u.Mc(e);const t=u.Ic(19);return c.preventDefault(),t.click()})),u.Wc(21,"Choose File"),u.ic(),u.Wc(22,"\xa0 "),u.jc(23,"button",12),u.rc("click",(function(){return c.save()})),u.Wc(24,"Save"),u.ic(),u.ic(),u.ec(25,"loading",13)}if(2&e){const e=u.Ic(1);u.Pb(7),u.Bc("ngModel",c.title),u.Pb(4),u.Bc("ngModel",c.downloadable),u.Pb(1),u.Bc("value",1),u.Pb(3),u.Bc("value",2),u.Pb(2),u.Bc("ngForOf",c.lectures),u.Pb(6),u.Bc("disabled",e.invalid||!c.selectedFile),u.Pb(2),u.Bc("show",c.loading)}},directives:[f.v,f.l,f.m,P.b,P.e,B.a,f.b,f.r,f.k,f.n,W.b,W.a,i.j,p.b,I.a,w.a,T.b,T.d,T.a,v.a,i.k,C.h],styles:[".video-subjects-row[_ngcontent-%COMP%]{align-items:center}"]}),e})();function q(e,c){if(1&e&&(u.jc(0,"mat-option",24),u.Wc(1),u.ic()),2&e){const e=c.$implicit;u.Bc("value",e.courseId),u.Pb(1),u.Xc(e.course)}}function A(e,c){if(1&e&&(u.jc(0,"mat-option",24),u.Wc(1),u.ic()),2&e){const e=c.$implicit;u.Bc("value",e.batchId),u.Pb(1),u.Xc(e.batch)}}function U(e,c){if(1&e&&(u.jc(0,"mat-option",24),u.Wc(1),u.ic()),2&e){const e=c.$implicit;u.Bc("value",e.subjectId),u.Pb(1),u.Xc(e.subject)}}function X(e,c){if(1&e){const e=u.kc();u.jc(0,"button",25),u.rc("click",(function(c){u.Mc(e);const t=u.vc().index,i=u.vc();return c.preventDefault(),i.remove(t)})),u.jc(1,"mat-icon"),u.Wc(2,"delete"),u.ic(),u.ic()}}function E(e,c){if(1&e){const e=u.kc();u.jc(0,"div",9),u.jc(1,"div",10),u.jc(2,"mat-form-field"),u.jc(3,"mat-label"),u.Wc(4,"Select Course"),u.ic(),u.jc(5,"mat-select",11),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.courseId=t}))("selectionChange",(function(){u.Mc(e);const t=c.$implicit,i=c.index;return u.vc().setBatches(t.courseId,i)})),u.Vc(6,q,2,2,"mat-option",12),u.ic(),u.ic(),u.ic(),u.jc(7,"div",13),u.jc(8,"mat-form-field"),u.jc(9,"mat-label"),u.Wc(10,"Select Batch"),u.ic(),u.jc(11,"mat-select",11),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.batchId=t}))("selectionChange",(function(){u.Mc(e);const t=c.$implicit,i=c.index;return u.vc().setSubjects(t.batchId,i)})),u.Vc(12,A,2,2,"mat-option",12),u.ic(),u.ic(),u.ic(),u.jc(13,"div",13),u.jc(14,"mat-form-field"),u.jc(15,"mat-label"),u.Wc(16,"Select Subject"),u.ic(),u.jc(17,"mat-select",14),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.subjectId=t})),u.Vc(18,U,2,2,"mat-option",12),u.ic(),u.ic(),u.ic(),u.jc(19,"div",13),u.jc(20,"mat-form-field"),u.jc(21,"input",15,16),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.fromTime=t})),u.ic(),u.ec(23,"owl-date-time",null,17),u.ic(),u.ic(),u.jc(25,"div",13),u.jc(26,"mat-form-field"),u.jc(27,"input",18,19),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.toTime=t})),u.ic(),u.ec(29,"owl-date-time",null,20),u.ic(),u.ic(),u.jc(31,"div",21),u.jc(32,"button",22),u.rc("click",(function(c){u.Mc(e);const t=u.vc();return c.preventDefault(),t.addMore()})),u.jc(33,"mat-icon"),u.Wc(34,"add"),u.ic(),u.ic(),u.Wc(35,"\xa0 "),u.Vc(36,X,3,0,"button",23),u.ic(),u.ic()}if(2&e){const e=c.$implicit,t=c.index,i=u.Ic(24),n=u.Ic(30);u.Pb(5),u.Bc("ngModel",e.courseId)("name","course"+t),u.Pb(1),u.Bc("ngForOf",e.courses),u.Pb(5),u.Bc("ngModel",e.batchId)("name","batch"+t),u.Pb(1),u.Bc("ngForOf",e.batches),u.Pb(5),u.Bc("ngModel",e.subjectId)("name","subject"+t),u.Pb(1),u.Bc("ngForOf",e.subjects),u.Pb(3),u.Bc("ngModel",e.fromTime)("name","startdate"+t)("owlDateTime",i)("owlDateTimeTrigger",i),u.Pb(6),u.Bc("ngModel",e.toTime)("name","enddate"+t)("owlDateTime",n)("owlDateTimeTrigger",n),u.Pb(9),u.Bc("ngIf",t>0)}}let z=(()=>{class e{constructor(e,c){this.coreService=e,this.dialog=c,this.lectures=[{courses:[],courseId:null,batches:[],batchId:null,subjects:[],subjectId:null,fromTime:null,toTime:null}],this.courses=[],this.batches_subjects=[]}ngOnInit(){this.getCourses(),this.getBatchesSubjects()}getBatchesSubjects(){this.loading=!0,this.coreService.getRequest(r.a.API_URL+"courses/batches/subjects").subscribe(e=>{this.loading=!1,this.batches_subjects=e})}setBatches(e,c){let t=this.courses.find(c=>c.courseId==e);this.lectures[c].batches=t.batches,this.lectures[c].batchId=null,this.lectures[c].subjects=[],this.lectures[c].subjectId=null}setSubjects(e,c){let t=this.batches_subjects.find(c=>c.batchId==e);this.lectures[c].subjects=t.subjects}getCourses(){this.loading=!0,this.coreService.getRequest(r.a.API_URL+"courses").subscribe(e=>{this.loading=!1,this.courses=e,this.lectures[0].courses=e})}addMore(){this.lectures.push({courseId:null,courses:this.courses,batchId:null,batches:[],subjectId:null,subjects:[],fromTime:null,toTime:null})}remove(e){this.lectures.splice(e,1)}save(){let e={title:this.title,testAccessCode:this.testAccessCode,batchesSubjects:[]};this.lectures.forEach(c=>{e.batchesSubjects.push({courseId:c.courseId,batchId:c.batchId,subjectId:c.subjectId,fromTime:new Date(c.fromTime+" UTC").toISOString().slice(0,19).replace("T"," "),toTime:new Date(c.toTime+" UTC").toISOString().slice(0,19).replace("T"," ")})}),this.loading=!0,this.coreService.postRequest(r.a.API_URL+"online-lectures/test",e).subscribe(e=>{this.loading=!1,this.modal.showAddModal=!1,this.dialog.showDialog({content:e.message})})}}return e.\u0275fac=function(c){return new(c||e)(u.dc(d.a),u.dc(b.a))},e.\u0275cmp=u.Xb({type:e,selectors:[["add-test"]],inputs:{modal:"modal"},decls:17,vars:5,consts:[["form","ngForm"],[1,"row"],[1,"col-sm-6","pr"],["matInput","","name","testTitle","required","",3,"ngModel","ngModelChange"],[1,"col-sm-6","pl"],["matInput","","name","testcode","required","",3,"ngModel","ngModelChange"],["class","row video-subjects-row",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"show"],[1,"row","video-subjects-row"],[1,"col-sm-2","pr"],["required","",3,"ngModel","name","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-2","pl","pr"],["required","",3,"ngModel","name","ngModelChange"],["matInput","","placeholder","From","required","",3,"ngModel","name","owlDateTime","owlDateTimeTrigger","ngModelChange"],["startDate",""],["dt1",""],["matInput","","placeholder","To","required","",3,"ngModel","name","owlDateTime","owlDateTimeTrigger","ngModelChange"],["endDate",""],["dt2",""],[1,"col-sm-2","pl"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","warn",3,"click",4,"ngIf"],[3,"value"],["mat-mini-fab","","color","warn",3,"click"]],template:function(e,c){if(1&e&&(u.jc(0,"form",null,0),u.jc(2,"div",1),u.jc(3,"div",2),u.jc(4,"mat-form-field"),u.jc(5,"mat-label"),u.Wc(6,"Test Title"),u.ic(),u.jc(7,"input",3),u.rc("ngModelChange",(function(e){return c.title=e})),u.ic(),u.ic(),u.ic(),u.jc(8,"div",4),u.jc(9,"mat-form-field"),u.jc(10,"mat-label"),u.Wc(11,"Test Access Code"),u.ic(),u.jc(12,"input",5),u.rc("ngModelChange",(function(e){return c.testAccessCode=e})),u.ic(),u.ic(),u.ic(),u.ic(),u.Vc(13,E,37,18,"div",6),u.jc(14,"button",7),u.rc("click",(function(){return c.save()})),u.Wc(15,"Save"),u.ic(),u.ic(),u.ec(16,"loading",8)),2&e){const e=u.Ic(1);u.Pb(7),u.Bc("ngModel",c.title),u.Pb(5),u.Bc("ngModel",c.testAccessCode),u.Pb(1),u.Bc("ngForOf",c.lectures),u.Pb(1),u.Bc("disabled",e.invalid),u.Pb(2),u.Bc("show",c.loading)}},directives:[f.v,f.l,f.m,P.b,P.e,B.a,f.b,f.r,f.k,f.n,i.j,p.b,I.a,w.a,T.b,T.d,T.a,v.a,i.k,C.h],styles:[""]}),e})();function N(e,c){if(1&e&&u.ec(0,"add-video-lecture",9),2&e){const e=u.vc();u.Bc("modal",e.modal)}}function Y(e,c){if(1&e&&u.ec(0,"add-notes",9),2&e){const e=u.vc();u.Bc("modal",e.modal)}}function G(e,c){if(1&e&&u.ec(0,"add-test",9),2&e){const e=u.vc();u.Bc("modal",e.modal)}}let J=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(c){return new(c||e)},e.\u0275cmp=u.Xb({type:e,selectors:[["add-lectures"]],inputs:{modal:"modal"},decls:22,vars:7,consts:[[1,"row","justify-content-between"],[1,"lecture-options-box"],[1,"content-title"],[1,"lecture-options-body"],[3,"ngModel","ngModelChange"],[3,"value"],[1,"lecture-content-box"],[1,"lecture-content-body"],[3,"modal",4,"ngIf"],[3,"modal"]],template:function(e,c){1&e&&(u.jc(0,"div",0),u.jc(1,"div",1),u.jc(2,"div",2),u.Wc(3,"Lecture Options"),u.ic(),u.jc(4,"div",3),u.jc(5,"mat-form-field"),u.jc(6,"mat-label"),u.Wc(7,"Select Lecture Type"),u.ic(),u.jc(8,"mat-select",4),u.rc("ngModelChange",(function(e){return c.lectureType=e})),u.jc(9,"mat-option",5),u.Wc(10,"Video"),u.ic(),u.jc(11,"mat-option",5),u.Wc(12,"Notes"),u.ic(),u.jc(13,"mat-option",5),u.Wc(14,"Test"),u.ic(),u.ic(),u.ic(),u.ic(),u.ic(),u.jc(15,"div",6),u.jc(16,"div",2),u.Wc(17,"Lecture Details"),u.ic(),u.jc(18,"div",7),u.Vc(19,N,1,1,"add-video-lecture",8),u.Vc(20,Y,1,1,"add-notes",8),u.Vc(21,G,1,1,"add-test",8),u.ic(),u.ic(),u.ic()),2&e&&(u.Pb(8),u.Bc("ngModel",c.lectureType),u.Pb(1),u.Bc("value",1),u.Pb(2),u.Bc("value",2),u.Pb(2),u.Bc("value",3),u.Pb(6),u.Bc("ngIf",1==c.lectureType),u.Pb(1),u.Bc("ngIf",2==c.lectureType),u.Pb(1),u.Bc("ngIf",3==c.lectureType))},directives:[P.b,P.e,w.a,f.k,f.n,C.h,i.k,k,j.a,V,z],styles:[".content-title[_ngcontent-%COMP%]{padding:10px;font-weight:500;background:#fff;border-bottom:1px solid #ddd}.lecture-content-box[_ngcontent-%COMP%], .lecture-options-box[_ngcontent-%COMP%]{width:100%;margin-bottom:20px;box-shadow:0 0 5px -1px rgba(0,0,0,.25)}.lecture-content-body[_ngcontent-%COMP%], .lecture-options-body[_ngcontent-%COMP%]{padding:.8rem}@media screen and (min-width:1000px){.lecture-options-box[_ngcontent-%COMP%]{width:300px}.lecture-content-box[_ngcontent-%COMP%]{width:calc(100% - 310px)}}"]}),e})();function Q(e,c){if(1&e&&(u.jc(0,"mat-option",23),u.Wc(1),u.ic()),2&e){const e=c.$implicit;u.Bc("value",e.courseId),u.Pb(1),u.Xc(e.course)}}function K(e,c){if(1&e&&(u.jc(0,"mat-option",23),u.Wc(1),u.ic()),2&e){const e=c.$implicit;u.Bc("value",e.batchId),u.Pb(1),u.Xc(e.batch)}}function Z(e,c){if(1&e&&(u.jc(0,"mat-option",23),u.Wc(1),u.ic()),2&e){const e=c.$implicit;u.Bc("value",e.subjectId),u.Pb(1),u.Xc(e.subject)}}function H(e,c){if(1&e){const e=u.kc();u.jc(0,"button",24),u.rc("click",(function(c){u.Mc(e);const t=u.vc().index,i=u.vc();return c.preventDefault(),i.remove(t)})),u.jc(1,"mat-icon"),u.Wc(2,"delete"),u.ic(),u.ic()}}function ee(e,c){if(1&e){const e=u.kc();u.jc(0,"div",8),u.jc(1,"div",9),u.jc(2,"mat-form-field"),u.jc(3,"mat-label"),u.Wc(4,"Select Course"),u.ic(),u.jc(5,"mat-select",10),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.courseId=t}))("selectionChange",(function(){u.Mc(e);const t=c.$implicit,i=c.index;return u.vc().setBatches(t.courseId,i)})),u.Vc(6,Q,2,2,"mat-option",11),u.ic(),u.ic(),u.ic(),u.jc(7,"div",12),u.jc(8,"mat-form-field"),u.jc(9,"mat-label"),u.Wc(10,"Select Batch"),u.ic(),u.jc(11,"mat-select",10),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.batchId=t}))("selectionChange",(function(){u.Mc(e);const t=c.$implicit,i=c.index;return u.vc().setSubjects(t.batchId,i)})),u.Vc(12,K,2,2,"mat-option",11),u.ic(),u.ic(),u.ic(),u.jc(13,"div",12),u.jc(14,"mat-form-field"),u.jc(15,"mat-label"),u.Wc(16,"Select Subject"),u.ic(),u.jc(17,"mat-select",13),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.subjectId=t})),u.Vc(18,Z,2,2,"mat-option",11),u.ic(),u.ic(),u.ic(),u.jc(19,"div",12),u.jc(20,"mat-form-field"),u.jc(21,"input",14,15),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.fromTime=t})),u.ic(),u.ec(23,"owl-date-time",null,16),u.ic(),u.ic(),u.jc(25,"div",12),u.jc(26,"mat-form-field"),u.jc(27,"input",17,18),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.toTime=t})),u.ic(),u.ec(29,"owl-date-time",null,19),u.ic(),u.ic(),u.jc(31,"div",20),u.jc(32,"button",21),u.rc("click",(function(c){u.Mc(e);const t=u.vc();return c.preventDefault(),t.addMore()})),u.jc(33,"mat-icon"),u.Wc(34,"add"),u.ic(),u.ic(),u.Wc(35,"\xa0 "),u.Vc(36,H,3,0,"button",22),u.ic(),u.ic()}if(2&e){const e=c.$implicit,t=c.index,i=u.Ic(24),n=u.Ic(30);u.Pb(5),u.Bc("ngModel",e.courseId)("name","course"+t),u.Pb(1),u.Bc("ngForOf",e.courses),u.Pb(5),u.Bc("ngModel",e.batchId)("name","batch"+t),u.Pb(1),u.Bc("ngForOf",e.batches),u.Pb(5),u.Bc("ngModel",e.subjectId)("name","subject"+t),u.Pb(1),u.Bc("ngForOf",e.subjects),u.Pb(3),u.Bc("ngModel",e.fromTime)("name","startdate"+t)("owlDateTime",i)("owlDateTimeTrigger",i),u.Pb(6),u.Bc("ngModel",e.toTime)("name","enddate"+t)("owlDateTime",n)("owlDateTimeTrigger",n),u.Pb(9),u.Bc("ngIf",t>0)}}let ce=(()=>{class e{constructor(e,c){this.coreService=e,this.dialog=c,this.loading=!0,this.courses=[],this.batches_subjects=[],this.lectures=[{courses:[],courseId:null,batches:[],batchId:null,subjects:[],subjectId:null,fromTime:null,toTime:null}],this.isBatchInitially=!0}ngOnInit(){this.getCourses(),this.getBatchesSubjects(),this.getLectureDetails()}getLectureDetails(){this.coreService.getRequest(r.a.API_URL+"online-lectures/"+this.lectureDetails.lectureId).subscribe(e=>{this.loading=!1,this.title=e.title,this.videoSRC=e.lectureSRC,e.batches_subjects.forEach((e,c)=>{this.lectures.push({courseId:e.courseId,courses:this.courses,batchId:e.batchId,batches:[],subjectId:e.subjectId,subjects:[],fromTime:e.fromTime,toTime:e.toTime}),this.setBatches(e.courseId,c+1),this.setSubjects(e.batchId,c+1)}),this.isBatchInitially=!1})}getBatchesSubjects(){this.coreService.getRequest(r.a.API_URL+"courses/batches/subjects").subscribe(e=>{this.batches_subjects=e})}setBatches(e,c){let t=this.courses.find(c=>c.courseId==e);this.lectures[c].batches=t.batches,this.isBatchInitially||(this.lectures[c].batchId=null),this.lectures[c].subjects=[],this.isBatchInitially||(this.lectures[c].subjectId=null)}setSubjects(e,c){let t=this.batches_subjects.find(c=>c.batchId==e);this.lectures[c].subjects=t.subjects}getCourses(){this.coreService.getRequest(r.a.API_URL+"courses").subscribe(e=>{this.courses=e,this.lectures[0].courses=e})}addMore(){this.lectures.push({courseId:null,courses:this.courses,batchId:null,batches:[],subjectId:null,subjects:[],fromTime:null,toTime:null})}remove(e){this.lectures.splice(e,1)}save(){let e={title:this.title,videoSRC:this.videoSRC,onlineLectureId:this.lectureDetails.lectureId,batchesSubjects:[]};this.lectures.forEach(c=>{c.courseId&&c.batchId&&c.subjectId&&e.batchesSubjects.push({batchId:c.batchId,courseId:c.courseId,subjectId:c.subjectId,fromTime:new Date(new Date(c.fromTime)+" UTC").toISOString().slice(0,19).replace("T"," "),toTime:new Date(new Date(c.toTime)+" UTC").toISOString().slice(0,19).replace("T"," ")})}),0!=e.batchesSubjects.length?(this.loading=!0,this.coreService.putRequest(r.a.API_URL+"online-lectures/video",e).subscribe(e=>{this.loading=!1,this.dialog.showDialog({content:e.message}),this.modal.showEditModal=!1})):this.dialog.showDialog({content:"Please Choose at least 1 Course,Batch,Subject and From and To Time"})}}return e.\u0275fac=function(c){return new(c||e)(u.dc(d.a),u.dc(b.a))},e.\u0275cmp=u.Xb({type:e,selectors:[["edit-video-lecture"]],inputs:{modal:"modal",lectureDetails:"lectureDetails"},decls:15,vars:4,consts:[[1,"row"],[1,"col-sm-6","pr"],["matInput","","name","videotitle","required","",3,"ngModel","ngModelChange"],[1,"col-sm-6","pl"],["matInput","","name","videoid","required","",3,"ngModel","ngModelChange"],["class","row video-subjects-row",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],[3,"show"],[1,"row","video-subjects-row"],[1,"col-sm-2","pr"],["required","",3,"ngModel","name","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-2","pl","pr"],["required","",3,"ngModel","name","ngModelChange"],["matInput","","placeholder","From","required","",3,"ngModel","name","owlDateTime","owlDateTimeTrigger","ngModelChange"],["startDate",""],["dt1",""],["matInput","","placeholder","To","required","",3,"ngModel","name","owlDateTime","owlDateTimeTrigger","ngModelChange"],["endDate",""],["dt2",""],[1,"col-sm-2","pl"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","warn",3,"click",4,"ngIf"],[3,"value"],["mat-mini-fab","","color","warn",3,"click"]],template:function(e,c){1&e&&(u.jc(0,"div",0),u.jc(1,"div",1),u.jc(2,"mat-form-field"),u.jc(3,"mat-label"),u.Wc(4,"Video Title"),u.ic(),u.jc(5,"input",2),u.rc("ngModelChange",(function(e){return c.title=e})),u.ic(),u.ic(),u.ic(),u.jc(6,"div",3),u.jc(7,"mat-form-field"),u.jc(8,"mat-label"),u.Wc(9,"Video ID"),u.ic(),u.jc(10,"input",4),u.rc("ngModelChange",(function(e){return c.videoSRC=e})),u.ic(),u.ic(),u.ic(),u.ic(),u.Vc(11,ee,37,18,"div",5),u.jc(12,"button",6),u.rc("click",(function(){return c.save()})),u.Wc(13,"Save"),u.ic(),u.ec(14,"loading",7)),2&e&&(u.Pb(5),u.Bc("ngModel",c.title),u.Pb(5),u.Bc("ngModel",c.videoSRC),u.Pb(1),u.Bc("ngForOf",c.lectures),u.Pb(3),u.Bc("show",c.loading))},directives:[P.b,P.e,B.a,f.b,f.r,f.k,f.n,i.j,p.b,I.a,w.a,T.b,T.d,T.a,v.a,i.k,C.h],styles:[".video-subjects-row[_ngcontent-%COMP%]{align-items:center}"]}),e})();function te(e,c){if(1&e&&(u.jc(0,"mat-option",6),u.Wc(1),u.ic()),2&e){const e=c.$implicit;u.Bc("value",e.courseId),u.Pb(1),u.Xc(e.course)}}function ie(e,c){if(1&e&&(u.jc(0,"mat-option",6),u.Wc(1),u.ic()),2&e){const e=c.$implicit;u.Bc("value",e.batchId),u.Pb(1),u.Xc(e.batch)}}function ne(e,c){if(1&e&&(u.jc(0,"mat-option",6),u.Wc(1),u.ic()),2&e){const e=c.$implicit;u.Bc("value",e.subjectId),u.Pb(1),u.Xc(e.subject)}}function oe(e,c){if(1&e){const e=u.kc();u.jc(0,"button",27),u.rc("click",(function(c){u.Mc(e);const t=u.vc().index,i=u.vc();return c.preventDefault(),i.remove(t)})),u.jc(1,"mat-icon"),u.Wc(2,"delete"),u.ic(),u.ic()}}function se(e,c){if(1&e){const e=u.kc();u.jc(0,"div",12),u.jc(1,"div",13),u.jc(2,"mat-form-field"),u.jc(3,"mat-label"),u.Wc(4,"Select Course"),u.ic(),u.jc(5,"mat-select",14),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.courseId=t}))("selectionChange",(function(){u.Mc(e);const t=c.$implicit,i=c.index;return u.vc().setBatches(t.courseId,i)})),u.Vc(6,te,2,2,"mat-option",15),u.ic(),u.ic(),u.ic(),u.jc(7,"div",16),u.jc(8,"mat-form-field"),u.jc(9,"mat-label"),u.Wc(10,"Select Batch"),u.ic(),u.jc(11,"mat-select",14),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.batchId=t}))("selectionChange",(function(){u.Mc(e);const t=c.$implicit,i=c.index;return u.vc().setSubjects(t.batchId,i)})),u.Vc(12,ie,2,2,"mat-option",15),u.ic(),u.ic(),u.ic(),u.jc(13,"div",16),u.jc(14,"mat-form-field"),u.jc(15,"mat-label"),u.Wc(16,"Select Subject"),u.ic(),u.jc(17,"mat-select",17),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.subjectId=t})),u.Vc(18,ne,2,2,"mat-option",15),u.ic(),u.ic(),u.ic(),u.jc(19,"div",16),u.jc(20,"mat-form-field"),u.jc(21,"input",18,19),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.fromTime=t})),u.ic(),u.ec(23,"owl-date-time",null,20),u.ic(),u.ic(),u.jc(25,"div",16),u.jc(26,"mat-form-field"),u.jc(27,"input",21,22),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.toTime=t})),u.ic(),u.ec(29,"owl-date-time",null,23),u.ic(),u.ic(),u.jc(31,"div",24),u.jc(32,"button",25),u.rc("click",(function(c){u.Mc(e);const t=u.vc();return c.preventDefault(),t.addMore()})),u.jc(33,"mat-icon"),u.Wc(34,"add"),u.ic(),u.ic(),u.Wc(35,"\xa0 "),u.Vc(36,oe,3,0,"button",26),u.ic(),u.ic()}if(2&e){const e=c.$implicit,t=c.index,i=u.Ic(24),n=u.Ic(30);u.Pb(5),u.Bc("ngModel",e.courseId)("name","course"+t),u.Pb(1),u.Bc("ngForOf",e.courses),u.Pb(5),u.Bc("ngModel",e.batchId)("name","batch"+t),u.Pb(1),u.Bc("ngForOf",e.batches),u.Pb(5),u.Bc("ngModel",e.subjectId)("name","subject"+t),u.Pb(1),u.Bc("ngForOf",e.subjects),u.Pb(3),u.Bc("ngModel",e.fromTime)("name","startdate"+t)("owlDateTime",i)("owlDateTimeTrigger",i),u.Pb(6),u.Bc("ngModel",e.toTime)("name","enddate"+t)("owlDateTime",n)("owlDateTimeTrigger",n),u.Pb(9),u.Bc("ngIf",t>0)}}let le=(()=>{class e{constructor(e,c){this.coreService=e,this.dialog=c,this.loading=!0,this.courses=[],this.batches_subjects=[],this.lectures=[{courses:[],courseId:null,batches:[],batchId:null,subjects:[],subjectId:null,fromTime:null,toTime:null}],this.isBatchInitially=!0}ngOnInit(){this.getCourses(),this.getBatchesSubjects(),this.getLectureDetails()}getLectureDetails(){this.coreService.getRequest(r.a.API_URL+"online-lectures/"+this.lectureDetails.lectureId).subscribe(e=>{this.loading=!1,this.title=e.title,this.downloadable=e.downloadable,e.batches_subjects.forEach((e,c)=>{this.lectures.push({courseId:e.courseId,courses:this.courses,batchId:e.batchId,batches:[],subjectId:e.subjectId,subjects:[],fromTime:e.fromTime,toTime:e.toTime}),this.setBatches(e.courseId,c+1),this.setSubjects(e.batchId,c+1)}),this.isBatchInitially=!1})}getBatchesSubjects(){this.coreService.getRequest(r.a.API_URL+"courses/batches/subjects").subscribe(e=>{this.batches_subjects=e})}setBatches(e,c){let t=this.courses.find(c=>c.courseId==e);this.lectures[c].batches=t.batches,this.isBatchInitially||(this.lectures[c].batchId=null),this.lectures[c].subjects=[],this.isBatchInitially||(this.lectures[c].subjectId=null)}setSubjects(e,c){let t=this.batches_subjects.find(c=>c.batchId==e);this.lectures[c].subjects=t.subjects}getCourses(){this.coreService.getRequest(r.a.API_URL+"courses").subscribe(e=>{this.courses=e,this.lectures[0].courses=e})}addMore(){this.lectures.push({courseId:null,courses:this.courses,batchId:null,batches:[],subjectId:null,subjects:[],fromTime:null,toTime:null})}remove(e){this.lectures.splice(e,1)}setSelectedFile(e){this.selectedFile=e.target.files[0]}save(){let e={batchesSubjects:[]};this.lectures.forEach(c=>{c.courseId&&c.batchId&&c.subjectId&&e.batchesSubjects.push({courseId:c.courseId,batchId:c.batchId,subjectId:c.subjectId,fromTime:new Date(new Date(c.fromTime)+" UTC").toISOString().slice(0,19).replace("T"," "),toTime:new Date(new Date(c.toTime)+" UTC").toISOString().slice(0,19).replace("T"," ")})});let c=new FormData;c.append("onlineLectureId",this.lectureDetails.lectureId),c.append("title",this.title),c.append("downloadable",this.downloadable+""),c.append("batchesSubjects",JSON.stringify(e.batchesSubjects)),c.append("file",this.selectedFile),0!=e.batchesSubjects.length?this.coreService.uploadRequest(r.a.API_URL+"online-lectures/notes/update",c).subscribe(e=>{this.dialog.showDialog({content:e.message}),this.modal.showEditModal=!1}):this.dialog.showDialog({content:"Please Choose at least 1 Course,Batch,Subject and From and To Time"})}}return e.\u0275fac=function(c){return new(c||e)(u.dc(d.a),u.dc(b.a))},e.\u0275cmp=u.Xb({type:e,selectors:[["edit-notes"]],inputs:{modal:"modal",lectureDetails:"lectureDetails"},decls:24,vars:6,consts:[[1,"row"],[1,"col-sm-6","pr"],["matInput","","name","videotitle","required","",3,"ngModel","ngModelChange"],[1,"col-sm-6","pl"],[2,"margin-bottom","5px","color","#777"],["name","downl",3,"ngModel","ngModelChange"],[3,"value"],["class","row video-subjects-row",4,"ngFor","ngForOf"],["type","file","name","file","required","",2,"position","absolute","left","2000px",3,"change"],["file",""],["mat-raised-button","","color","primary",3,"click"],[3,"show"],[1,"row","video-subjects-row"],[1,"col-sm-2","pr"],["required","",3,"ngModel","name","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-2","pl","pr"],["required","",3,"ngModel","name","ngModelChange"],["matInput","","placeholder","From","required","",3,"ngModel","name","owlDateTime","owlDateTimeTrigger","ngModelChange"],["startDate",""],["dt1",""],["matInput","","placeholder","To","required","",3,"ngModel","name","owlDateTime","owlDateTimeTrigger","ngModelChange"],["endDate",""],["dt2",""],[1,"col-sm-2","pl"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","warn",3,"click",4,"ngIf"],["mat-mini-fab","","color","warn",3,"click"]],template:function(e,c){if(1&e){const e=u.kc();u.jc(0,"div",0),u.jc(1,"div",1),u.jc(2,"mat-form-field"),u.jc(3,"mat-label"),u.Wc(4,"Title"),u.ic(),u.jc(5,"input",2),u.rc("ngModelChange",(function(e){return c.title=e})),u.ic(),u.ic(),u.ic(),u.jc(6,"div",3),u.jc(7,"div",4),u.Wc(8,"Downloadable? "),u.ic(),u.jc(9,"mat-radio-group",5),u.rc("ngModelChange",(function(e){return c.downloadable=e})),u.jc(10,"mat-radio-button",6),u.Wc(11,"Yes"),u.ic(),u.Wc(12,"\xa0\xa0 "),u.jc(13,"mat-radio-button",6),u.Wc(14,"No"),u.ic(),u.ic(),u.ic(),u.ic(),u.Vc(15,se,37,18,"div",7),u.jc(16,"input",8,9),u.rc("change",(function(e){return c.setSelectedFile(e)})),u.ic(),u.jc(18,"button",10),u.rc("click",(function(c){u.Mc(e);const t=u.Ic(17);return c.preventDefault(),t.click()})),u.Wc(19,"Choose File"),u.ic(),u.Wc(20,"\xa0\n"),u.jc(21,"button",10),u.rc("click",(function(){return c.save()})),u.Wc(22,"Save"),u.ic(),u.ec(23,"loading",11)}2&e&&(u.Pb(5),u.Bc("ngModel",c.title),u.Pb(4),u.Bc("ngModel",c.downloadable),u.Pb(1),u.Bc("value",1),u.Pb(3),u.Bc("value",2),u.Pb(2),u.Bc("ngForOf",c.lectures),u.Pb(8),u.Bc("show",c.loading))},directives:[P.b,P.e,B.a,f.b,f.r,f.k,f.n,W.b,W.a,i.j,p.b,I.a,w.a,T.b,T.d,T.a,v.a,i.k,C.h],styles:[".video-subjects-row[_ngcontent-%COMP%]{align-items:center}"]}),e})();function re(e,c){if(1&e&&(u.jc(0,"mat-option",23),u.Wc(1),u.ic()),2&e){const e=c.$implicit;u.Bc("value",e.courseId),u.Pb(1),u.Xc(e.course)}}function ae(e,c){if(1&e&&(u.jc(0,"mat-option",23),u.Wc(1),u.ic()),2&e){const e=c.$implicit;u.Bc("value",e.batchId),u.Pb(1),u.Xc(e.batch)}}function ue(e,c){if(1&e&&(u.jc(0,"mat-option",23),u.Wc(1),u.ic()),2&e){const e=c.$implicit;u.Bc("value",e.subjectId),u.Pb(1),u.Xc(e.subject)}}function de(e,c){if(1&e){const e=u.kc();u.jc(0,"button",24),u.rc("click",(function(c){u.Mc(e);const t=u.vc().index,i=u.vc();return c.preventDefault(),i.remove(t)})),u.jc(1,"mat-icon"),u.Wc(2,"delete"),u.ic(),u.ic()}}function be(e,c){if(1&e){const e=u.kc();u.jc(0,"div",8),u.jc(1,"div",9),u.jc(2,"mat-form-field"),u.jc(3,"mat-label"),u.Wc(4,"Select Course"),u.ic(),u.jc(5,"mat-select",10),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.courseId=t}))("selectionChange",(function(){u.Mc(e);const t=c.$implicit,i=c.index;return u.vc().setBatches(t.courseId,i)})),u.Vc(6,re,2,2,"mat-option",11),u.ic(),u.ic(),u.ic(),u.jc(7,"div",12),u.jc(8,"mat-form-field"),u.jc(9,"mat-label"),u.Wc(10,"Select Batch"),u.ic(),u.jc(11,"mat-select",10),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.batchId=t}))("selectionChange",(function(){u.Mc(e);const t=c.$implicit,i=c.index;return u.vc().setSubjects(t.batchId,i)})),u.Vc(12,ae,2,2,"mat-option",11),u.ic(),u.ic(),u.ic(),u.jc(13,"div",12),u.jc(14,"mat-form-field"),u.jc(15,"mat-label"),u.Wc(16,"Select Subject"),u.ic(),u.jc(17,"mat-select",13),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.subjectId=t})),u.Vc(18,ue,2,2,"mat-option",11),u.ic(),u.ic(),u.ic(),u.jc(19,"div",12),u.jc(20,"mat-form-field"),u.jc(21,"input",14,15),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.fromTime=t})),u.ic(),u.ec(23,"owl-date-time",null,16),u.ic(),u.ic(),u.jc(25,"div",12),u.jc(26,"mat-form-field"),u.jc(27,"input",17,18),u.rc("ngModelChange",(function(t){return u.Mc(e),c.$implicit.toTime=t})),u.ic(),u.ec(29,"owl-date-time",null,19),u.ic(),u.ic(),u.jc(31,"div",20),u.jc(32,"button",21),u.rc("click",(function(c){u.Mc(e);const t=u.vc();return c.preventDefault(),t.addMore()})),u.jc(33,"mat-icon"),u.Wc(34,"add"),u.ic(),u.ic(),u.Wc(35,"\xa0 "),u.Vc(36,de,3,0,"button",22),u.ic(),u.ic()}if(2&e){const e=c.$implicit,t=c.index,i=u.Ic(24),n=u.Ic(30);u.Pb(5),u.Bc("ngModel",e.courseId)("name","course"+t),u.Pb(1),u.Bc("ngForOf",e.courses),u.Pb(5),u.Bc("ngModel",e.batchId)("name","batch"+t),u.Pb(1),u.Bc("ngForOf",e.batches),u.Pb(5),u.Bc("ngModel",e.subjectId)("name","subject"+t),u.Pb(1),u.Bc("ngForOf",e.subjects),u.Pb(3),u.Bc("ngModel",e.fromTime)("name","startdate"+t)("owlDateTime",i)("owlDateTimeTrigger",i),u.Pb(6),u.Bc("ngModel",e.toTime)("name","enddate"+t)("owlDateTime",n)("owlDateTimeTrigger",n),u.Pb(9),u.Bc("ngIf",t>0)}}let he=(()=>{class e{constructor(e,c){this.coreService=e,this.dialog=c,this.loading=!0,this.courses=[],this.batches_subjects=[],this.lectures=[{courses:[],courseId:null,batches:[],batchId:null,subjects:[],subjectId:null,fromTime:null,toTime:null}],this.isBatchInitially=!0}ngOnInit(){this.getCourses(),this.getBatchesSubjects(),this.getLectureDetails()}getLectureDetails(){this.coreService.getRequest(r.a.API_URL+"online-lectures/"+this.lectureDetails.lectureId).subscribe(e=>{this.loading=!1,this.title=e.title,this.testAccessCode=e.lectureSRC,e.batches_subjects.forEach((e,c)=>{this.lectures.push({courseId:e.courseId,courses:this.courses,batchId:e.batchId,batches:[],subjectId:e.subjectId,subjects:[],fromTime:e.fromTime,toTime:e.toTime}),this.setBatches(e.courseId,c+1),this.setSubjects(e.batchId,c+1)}),this.isBatchInitially=!1})}getBatchesSubjects(){this.coreService.getRequest(r.a.API_URL+"courses/batches/subjects").subscribe(e=>{this.batches_subjects=e})}setBatches(e,c){let t=this.courses.find(c=>c.courseId==e);this.lectures[c].batches=t.batches,this.isBatchInitially||(this.lectures[c].batchId=null),this.lectures[c].subjects=[],this.isBatchInitially||(this.lectures[c].subjectId=null)}setSubjects(e,c){let t=this.batches_subjects.find(c=>c.batchId==e);this.lectures[c].subjects=t.subjects}getCourses(){this.coreService.getRequest(r.a.API_URL+"courses").subscribe(e=>{this.courses=e,this.lectures[0].courses=e})}addMore(){this.lectures.push({courseId:null,courses:this.courses,batchId:null,batches:[],subjectId:null,subjects:[],fromTime:null,toTime:null})}remove(e){this.lectures.splice(e,1)}save(){let e={title:this.title,testAccessCode:this.testAccessCode,onlineLectureId:this.lectureDetails.lectureId,batchesSubjects:[]};this.lectures.forEach(c=>{c.courseId&&c.batchId&&c.subjectId&&e.batchesSubjects.push({batchId:c.batchId,courseId:c.courseId,subjectId:c.subjectId,fromTime:new Date(new Date(c.fromTime)+" UTC").toISOString().slice(0,19).replace("T"," "),toTime:new Date(new Date(c.toTime)+" UTC").toISOString().slice(0,19).replace("T"," ")})}),0!=e.batchesSubjects.length?(this.loading=!0,this.coreService.putRequest(r.a.API_URL+"online-lectures/test",e).subscribe(e=>{this.loading=!1,this.dialog.showDialog({content:e.message}),this.modal.showEditModal=!1})):this.dialog.showDialog({content:"Please Choose at least 1 Course,Batch,Subject and From and To Time"})}}return e.\u0275fac=function(c){return new(c||e)(u.dc(d.a),u.dc(b.a))},e.\u0275cmp=u.Xb({type:e,selectors:[["edit-test"]],inputs:{modal:"modal",lectureDetails:"lectureDetails"},decls:15,vars:4,consts:[[1,"row"],[1,"col-sm-6","pr"],["matInput","","name","testTitle","required","",3,"ngModel","ngModelChange"],[1,"col-sm-6","pl"],["matInput","","name","testCode","required","",3,"ngModel","ngModelChange"],["class","row video-subjects-row",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],[3,"show"],[1,"row","video-subjects-row"],[1,"col-sm-2","pr"],["required","",3,"ngModel","name","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-2","pl","pr"],["required","",3,"ngModel","name","ngModelChange"],["matInput","","placeholder","From","required","",3,"ngModel","name","owlDateTime","owlDateTimeTrigger","ngModelChange"],["startDate",""],["dt1",""],["matInput","","placeholder","To","required","",3,"ngModel","name","owlDateTime","owlDateTimeTrigger","ngModelChange"],["endDate",""],["dt2",""],[1,"col-sm-2","pl"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","warn",3,"click",4,"ngIf"],[3,"value"],["mat-mini-fab","","color","warn",3,"click"]],template:function(e,c){1&e&&(u.jc(0,"div",0),u.jc(1,"div",1),u.jc(2,"mat-form-field"),u.jc(3,"mat-label"),u.Wc(4,"Test Title"),u.ic(),u.jc(5,"input",2),u.rc("ngModelChange",(function(e){return c.title=e})),u.ic(),u.ic(),u.ic(),u.jc(6,"div",3),u.jc(7,"mat-form-field"),u.jc(8,"mat-label"),u.Wc(9,"Test Access Code"),u.ic(),u.jc(10,"input",4),u.rc("ngModelChange",(function(e){return c.testAccessCode=e})),u.ic(),u.ic(),u.ic(),u.ic(),u.Vc(11,be,37,18,"div",5),u.jc(12,"button",6),u.rc("click",(function(){return c.save()})),u.Wc(13,"Save"),u.ic(),u.ec(14,"loading",7)),2&e&&(u.Pb(5),u.Bc("ngModel",c.title),u.Pb(5),u.Bc("ngModel",c.testAccessCode),u.Pb(1),u.Bc("ngForOf",c.lectures),u.Pb(3),u.Bc("show",c.loading))},directives:[P.b,P.e,B.a,f.b,f.r,f.k,f.n,i.j,p.b,I.a,w.a,T.b,T.d,T.a,v.a,i.k,C.h],styles:[""]}),e})();function me(e,c){if(1&e&&u.ec(0,"edit-video-lecture",9),2&e){const e=u.vc();u.Bc("modal",e.modal)("lectureDetails",e.lectureDetails)}}function ge(e,c){if(1&e&&u.ec(0,"edit-notes",9),2&e){const e=u.vc();u.Bc("modal",e.modal)("lectureDetails",e.lectureDetails)}}function fe(e,c){if(1&e&&u.ec(0,"edit-test",9),2&e){const e=u.vc();u.Bc("modal",e.modal)("lectureDetails",e.lectureDetails)}}let pe=(()=>{class e{constructor(){}ngOnInit(){this.lectureType=this.lectureDetails.lectureType}}return e.\u0275fac=function(c){return new(c||e)},e.\u0275cmp=u.Xb({type:e,selectors:[["edit-lectures"]],inputs:{lectureDetails:"lectureDetails",modal:"modal"},decls:22,vars:7,consts:[[1,"row","justify-content-between"],[1,"lecture-options-box"],[1,"content-title"],[1,"lecture-options-body"],[3,"ngModel","ngModelChange"],[3,"value"],[1,"lecture-content-box"],[1,"lecture-content-body"],[3,"modal","lectureDetails",4,"ngIf"],[3,"modal","lectureDetails"]],template:function(e,c){1&e&&(u.jc(0,"div",0),u.jc(1,"div",1),u.jc(2,"div",2),u.Wc(3,"Lecture Options"),u.ic(),u.jc(4,"div",3),u.jc(5,"mat-form-field"),u.jc(6,"mat-label"),u.Wc(7,"Select Lecture Type"),u.ic(),u.jc(8,"mat-select",4),u.rc("ngModelChange",(function(e){return c.lectureType=e})),u.jc(9,"mat-option",5),u.Wc(10,"Video"),u.ic(),u.jc(11,"mat-option",5),u.Wc(12,"Notes"),u.ic(),u.jc(13,"mat-option",5),u.Wc(14,"Test"),u.ic(),u.ic(),u.ic(),u.ic(),u.ic(),u.jc(15,"div",6),u.jc(16,"div",2),u.Wc(17,"Lecture Details"),u.ic(),u.jc(18,"div",7),u.Vc(19,me,1,2,"edit-video-lecture",8),u.Vc(20,ge,1,2,"edit-notes",8),u.Vc(21,fe,1,2,"edit-test",8),u.ic(),u.ic(),u.ic()),2&e&&(u.Pb(8),u.Bc("ngModel",c.lectureType),u.Pb(1),u.Bc("value",1),u.Pb(2),u.Bc("value",2),u.Pb(2),u.Bc("value",3),u.Pb(6),u.Bc("ngIf",1==c.lectureType),u.Pb(1),u.Bc("ngIf",2==c.lectureType),u.Pb(1),u.Bc("ngIf",3==c.lectureType))},directives:[P.b,P.e,w.a,f.k,f.n,C.h,i.k,ce,j.a,le,he],styles:[".content-title[_ngcontent-%COMP%]{padding:10px;font-weight:500;background:#fff;border-bottom:1px solid #ddd}.lecture-content-box[_ngcontent-%COMP%], .lecture-options-box[_ngcontent-%COMP%]{width:100%;margin-bottom:20px;box-shadow:0 0 5px -1px rgba(0,0,0,.25)}.lecture-content-body[_ngcontent-%COMP%], .lecture-options-body[_ngcontent-%COMP%]{padding:.8rem}@media screen and (min-width:1000px){.lecture-options-box[_ngcontent-%COMP%]{width:300px}.lecture-content-box[_ngcontent-%COMP%]{width:calc(100% - 310px)}}",""]}),e})();function je(e,c){if(1&e&&(u.jc(0,"option",22),u.Wc(1),u.ic()),2&e){const e=c.$implicit;u.Bc("value",e.courseId),u.Pb(1),u.Yc(" ",e.course," ")}}function Ie(e,c){if(1&e&&(u.jc(0,"option",22),u.Wc(1),u.ic()),2&e){const e=c.$implicit;u.Bc("value",e.batchId),u.Pb(1),u.Yc(" ",e.batch," ")}}function ve(e,c){if(1&e&&(u.jc(0,"option",22),u.Wc(1),u.ic()),2&e){const e=c.$implicit;u.Bc("value",e.subjectId),u.Pb(1),u.Xc(e.subject)}}function Me(e,c){if(1&e){const e=u.kc();u.jc(0,"button",23),u.rc("click",(function(){return u.Mc(e),u.vc().modals.showAddModal=!0})),u.jc(1,"mat-icon"),u.Wc(2,"add"),u.ic(),u.Wc(3," Add "),u.ic()}}function Pe(e,c){if(1&e){const e=u.kc();u.jc(0,"button",24),u.rc("click",(function(){return u.Mc(e),u.vc().showMultipleDelete()})),u.jc(1,"mat-icon"),u.Wc(2,"delete"),u.ic(),u.Wc(3," Delete "),u.ic()}if(2&e){const e=u.vc();u.Bc("disabled",0==e.selection.selected.length)}}function we(e,c){if(1&e){const e=u.kc();u.jc(0,"th"),u.jc(1,"mat-checkbox",29),u.rc("change",(function(c){u.Mc(e);const t=u.vc(2);return c?t.masterToggle():null})),u.ic(),u.ic()}if(2&e){const e=u.vc(2);u.Pb(1),u.Bc("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function Ce(e,c){if(1&e){const e=u.kc();u.jc(0,"td"),u.jc(1,"mat-checkbox",35),u.rc("click",(function(c){return u.Mc(e),c.stopPropagation()}))("change",(function(c){u.Mc(e);const t=u.vc().$implicit,i=u.vc(2);return c?i.selection.toggle(t):null})),u.ic(),u.ic()}if(2&e){const e=u.vc().$implicit,c=u.vc(2);u.Pb(1),u.Bc("checked",c.selection.isSelected(e))}}function Be(e,c){if(1&e&&(u.jc(0,"tr"),u.jc(1,"td"),u.Wc(2),u.ic(),u.jc(3,"td"),u.Wc(4),u.ic(),u.jc(5,"td"),u.Wc(6),u.ic(),u.jc(7,"td"),u.Wc(8),u.ic(),u.ic()),2&e){const e=c.$implicit;u.Pb(2),u.Xc(e.batch),u.Pb(2),u.Xc(e.subject),u.Pb(2),u.Xc(e.fromTime),u.Pb(2),u.Xc(e.toTime)}}function Te(e,c){if(1&e){const e=u.kc();u.jc(0,"button",36),u.rc("click",(function(){u.Mc(e);const c=u.vc().$implicit;return u.vc(2).editLecture(c)})),u.jc(1,"mat-icon"),u.Wc(2,"create"),u.ic(),u.ic()}}function Se(e,c){if(1&e){const e=u.kc();u.jc(0,"button",37),u.rc("click",(function(){u.Mc(e);const c=u.vc(),t=c.$implicit,i=c.index;return u.vc(2).showSingleDelete(t,i)})),u.jc(1,"mat-icon"),u.Wc(2,"delete"),u.ic(),u.ic()}}function xe(e,c){if(1&e){const e=u.kc();u.jc(0,"tr"),u.Vc(1,Ce,2,1,"td",27),u.jc(2,"td"),u.Wc(3),u.ic(),u.jc(4,"td"),u.jc(5,"table",30),u.jc(6,"tr"),u.jc(7,"th"),u.Wc(8,"Batch"),u.ic(),u.jc(9,"th"),u.Wc(10,"Subject"),u.ic(),u.jc(11,"th"),u.Wc(12,"From"),u.ic(),u.jc(13,"th"),u.Wc(14,"To"),u.ic(),u.ic(),u.Vc(15,Be,9,4,"tr",28),u.ic(),u.ic(),u.jc(16,"td"),u.Wc(17),u.ic(),u.jc(18,"td",31),u.jc(19,"button",32),u.rc("click",(function(){u.Mc(e);const t=c.$implicit;return u.vc(2).showLecture(t.lectureSRC,t.title,t.lectureType)})),u.jc(20,"mat-icon"),u.Wc(21,"visibility"),u.ic(),u.ic(),u.Vc(22,Te,3,0,"button",33),u.Vc(23,Se,3,0,"button",34),u.ic(),u.ic()}if(2&e){const e=c.$implicit,t=u.vc(2);u.Pb(1),u.Bc("ngIf",t.permissions.delete_online_lecture),u.Pb(2),u.Xc(e.title),u.Pb(12),u.Bc("ngForOf",e.batches_subjects),u.Pb(2),u.Xc(e.lectureType),u.Pb(5),u.Bc("ngIf",t.permissions.edit_online_lecture),u.Pb(1),u.Bc("ngIf",t.permissions.delete_online_lecture)}}function Oe(e,c){if(1&e&&(u.jc(0,"div",25),u.jc(1,"table",26),u.jc(2,"tr"),u.Vc(3,we,2,2,"th",27),u.jc(4,"th"),u.Wc(5,"Title"),u.ic(),u.jc(6,"th"),u.Wc(7,"Batches - Subjects"),u.ic(),u.jc(8,"th"),u.Wc(9,"Type"),u.ic(),u.jc(10,"th"),u.Wc(11,"Action"),u.ic(),u.ic(),u.Vc(12,xe,24,6,"tr",28),u.ic(),u.ic()),2&e){const e=u.vc();u.Pb(3),u.Bc("ngIf",e.permissions.delete_online_lecture),u.Pb(9),u.Bc("ngForOf",e.lectures)}}function De(e,c){1&e&&(u.jc(0,"div",38),u.Wc(1,"Search lectures by batchs and subjects"),u.ic())}function _e(e,c){if(1&e&&u.ec(0,"add-lectures",39),2&e){const e=u.vc();u.Bc("modal",e.modals)}}function ke(e,c){if(1&e){const e=u.kc();u.jc(0,"div",40),u.jc(1,"button",41),u.rc("click",(function(){return u.Mc(e),u.vc().modals.showAddModal=!1})),u.Wc(2,"Close"),u.ic(),u.ic()}}function We(e,c){if(1&e&&u.ec(0,"edit-lectures",42),2&e){const e=u.vc();u.Bc("modal",e.modals)("lectureDetails",e.editLectureDetails)}}function ye(e,c){if(1&e){const e=u.kc();u.jc(0,"div",40),u.jc(1,"button",41),u.rc("click",(function(){return u.Mc(e),u.vc().modals.showEditModal=!1})),u.Wc(2,"Close"),u.ic(),u.ic()}}const Fe=function(){return{width:"100%"}};let $e=(()=>{class e{constructor(e,c,t){this.coreService=e,this.dialog=c,this.usersSerivice=t,this.loading=!1,this.modals={showAddModal:!1,showEditModal:!1},this.courseId="",this.batchId="",this.subjectId="",this.lectures=[],this.permissions=a.a,this.selection=new l.c(!0,[]),this.editLectureDetails={lectureId:null,lectureType:null}}ngOnInit(){return Object(s.a)(this,void 0,void 0,(function*(){this.getCourses(),this.getBatchesSubjects(),this.permissions=yield this.usersSerivice.getUserPermissions()}))}isAllSelected(){return this.selection.selected.length==this.lectures.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.lectures.forEach(e=>{this.selection.select(e)})}getOnlineLectures(){this.loading=!0,this.coreService.getRequest(r.a.API_URL+"online-lectures/"+this.courseId+"/"+this.batchId+"/"+this.subjectId).subscribe(e=>{this.loading=!1,this.lectures=e})}getBatchesSubjects(){this.coreService.getRequest(r.a.API_URL+"courses/batches/subjects").subscribe(e=>{this.batches_subjects=e})}setBatches(){let e=this.courses.find(e=>e.courseId==+this.courseId);e?(this.batches=e.batches,this.subjects=[]):(this.batches=[],this.subjects=[]),this.batchId="",this.subjectId=""}setSubjects(){let e=this.batches_subjects.find(e=>e.batchId==+this.batchId);this.subjects=e?e.subjects:[],this.subjectId=""}getCourses(){this.coreService.getRequest(r.a.API_URL+"courses").subscribe(e=>{this.courses=e})}showLecture(e,c,t){this.dialog.showDialog("Video"==t?{title:c,width:"800px",content:`\n      <div style="width:100%;padding-top:56.25%;position:relative;">\n      <iframe id="lectureIframe" style="width:100%;height:100%;position:absolute;top:0;left:0" \n      frameborder="0" src="https://www.youtube.com/embed/${e}"></iframe>\n      </div>`}:{title:c,width:"800px",content:`<div style="width:100%;padding-top:56.25%;position:relative;">\n      <iframe id="lectureIframe" style="width:100%;height:100%;position:absolute;top:0;left:0" \n      frameborder="0" src="${r.a.WEBSITE_URL+"pdf/web/viewer.html?file="+r.a.WEBSITE_URL+e+"&download=false"}"></iframe>\n      </div>`})}editLecture(e){this.editLectureDetails.lectureId=e.onlineLectureId,this.editLectureDetails.lectureType=e.typeId,this.modals.showEditModal=!0}showSingleDelete(e,c){this.dialog.showDialog({content:"Are you sure to delete this lecture?",title:"Confirm Deletion",callBack:()=>{this.deleteSingleLecture(e.onlineLectureId,c)}})}deleteSingleLecture(e,c){this.loading=!0,this.coreService.deleteRequest(r.a.API_URL+"online-lectures/"+e).subscribe(e=>{this.loading=!1,e.success&&this.lectures.splice(c,1)})}showMultipleDelete(){this.dialog.showDialog({content:"Are you sure to delete these lectures?",title:"Confirm Deletion",callBack:()=>{this.deleteMultipleLectures()}})}deleteMultipleLectures(){let e=[];this.selection.selected.forEach(c=>e.push(c.onlineLectureId)),this.coreService.deleteRequest(r.a.API_URL+"online-lectures/multiple/"+e).subscribe(c=>{let t=[...this.lectures.filter(c=>!e.includes(c.onlineLectureId))];this.lectures=t,this.selection.clear()})}}return e.\u0275fac=function(c){return new(c||e)(u.dc(d.a),u.dc(b.a),u.dc(h.a))},e.\u0275cmp=u.Xb({type:e,selectors:[["app-online-lectures-home"]],decls:43,vars:22,consts:[["id","page-content"],[1,"row","online-lectures-filter"],["id","lecture-filters"],[1,"select",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"select",3,"ngModel","ngModelChange"],["color","primary","mat-raised-button","",3,"disabled","click"],["id","action-buttons"],["mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"disabled","click",4,"ngIf"],["class","pinnacle-table-wrapper",4,"ngIf"],["class","no-data perfect-centered",4,"ngIf"],["modal","",1,"modal",3,"show","options"],[1,"dialog"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],[3,"modal",4,"ngIf"],["class","modal-footer",4,"ngIf"],[3,"modal","lectureDetails",4,"ngIf"],[3,"show"],[3,"value"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","warn",3,"disabled","click"],[1,"pinnacle-table-wrapper"],[1,"pinnacle-table","online-lectures"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"checked","indeterminate","change"],[1,"batches-table"],[1,"online-action-column"],["mat-mini-fab","",3,"click"],["color","primary","mat-mini-fab","",3,"click",4,"ngIf"],["color","warn","mat-mini-fab","",3,"click",4,"ngIf"],[3,"checked","click","change"],["color","primary","mat-mini-fab","",3,"click"],["color","warn","mat-mini-fab","",3,"click"],[1,"no-data","perfect-centered"],[3,"modal"],[1,"modal-footer"],["mat-raised-button","","color","primary",3,"click"],[3,"modal","lectureDetails"]],template:function(e,c){1&e&&(u.ec(0,"admin-header"),u.ec(1,"admin-sidebar"),u.jc(2,"div",0),u.jc(3,"div",1),u.jc(4,"div",2),u.jc(5,"select",3),u.rc("ngModelChange",(function(e){return c.courseId=e}))("change",(function(){return c.setBatches()})),u.jc(6,"option",4),u.Wc(7,"Select Course"),u.ic(),u.Vc(8,je,2,2,"option",5),u.ic(),u.jc(9,"select",3),u.rc("ngModelChange",(function(e){return c.batchId=e}))("change",(function(){return c.setSubjects()})),u.jc(10,"option",4),u.Wc(11,"Select Batch"),u.ic(),u.Vc(12,Ie,2,2,"option",5),u.ic(),u.jc(13,"select",6),u.rc("ngModelChange",(function(e){return c.subjectId=e})),u.jc(14,"option",4),u.Wc(15,"Select Subject"),u.ic(),u.Vc(16,ve,2,2,"option",5),u.ic(),u.jc(17,"button",7),u.rc("click",(function(){return c.getOnlineLectures()})),u.Wc(18,"Search"),u.ic(),u.ic(),u.jc(19,"div",8),u.Vc(20,Me,4,0,"button",9),u.Vc(21,Pe,4,1,"button",10),u.ic(),u.ic(),u.Vc(22,Oe,13,2,"div",11),u.Vc(23,De,2,0,"div",12),u.ic(),u.jc(24,"div",13),u.jc(25,"div",14),u.jc(26,"div",15),u.Wc(27,"Add Lectures"),u.ic(),u.jc(28,"div",16),u.rc("click",(function(){return c.modals.showAddModal=!1})),u.Wc(29,"\xd7"),u.ic(),u.jc(30,"div",17),u.Vc(31,_e,1,1,"add-lectures",18),u.ic(),u.Vc(32,ke,3,0,"div",19),u.ic(),u.ic(),u.jc(33,"div",13),u.jc(34,"div",14),u.jc(35,"div",15),u.Wc(36,"Edit Lectures"),u.ic(),u.jc(37,"div",16),u.rc("click",(function(){return c.modals.showEditModal=!1})),u.Wc(38,"\xd7"),u.ic(),u.jc(39,"div",17),u.Vc(40,We,1,2,"edit-lectures",20),u.ic(),u.Vc(41,ye,3,0,"div",19),u.ic(),u.ic(),u.ec(42,"loading",21)),2&e&&(u.Pb(5),u.Bc("ngModel",c.courseId),u.Pb(3),u.Bc("ngForOf",c.courses),u.Pb(1),u.Bc("ngModel",c.batchId),u.Pb(3),u.Bc("ngForOf",c.batches),u.Pb(1),u.Bc("ngModel",c.subjectId),u.Pb(3),u.Bc("ngForOf",c.subjects),u.Pb(1),u.Bc("disabled",!c.subjectId),u.Pb(3),u.Bc("ngIf",c.permissions.add_online_lecture),u.Pb(1),u.Bc("ngIf",c.permissions.delete_online_lecture),u.Pb(1),u.Bc("ngIf",c.lectures&&c.lectures.length>0),u.Pb(1),u.Bc("ngIf",!c.lectures||0==c.lectures.length),u.Pb(1),u.Bc("show",c.modals.showAddModal)("options",u.Cc(20,Fe)),u.Pb(7),u.Bc("ngIf",c.modals.showAddModal),u.Pb(1),u.Bc("ngIf",!1),u.Pb(1),u.Bc("show",c.modals.showEditModal)("options",u.Cc(21,Fe)),u.Pb(7),u.Bc("ngIf",c.modals.showEditModal),u.Pb(1),u.Bc("ngIf",!1),u.Pb(1),u.Bc("show",c.loading))},directives:[m.a,g.a,f.s,f.k,f.n,f.o,f.u,i.j,p.b,i.k,j.a,I.a,v.a,M.a,J,pe],styles:["#instructions[_ngcontent-%COMP%]{background-color:#feffa0;padding-right:10px}#instructions[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;padding:20px 10px;border-bottom:1px solid #888;font-weight:400;color:#333;font-size:15px;margin-left:45px}#instructions[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div.material-icons[_ngcontent-%COMP%]{position:absolute;left:-30px}#instructions[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{border-bottom:none}",".online-lectures-filter[_ngcontent-%COMP%]{padding-bottom:15px;flex-wrap:wrap;justify-content:space-between}#lecture-filters[_ngcontent-%COMP%]{width:calc(100% - 196px);display:flex;flex-wrap:wrap;align-items:baseline;justify-content:flex-start}#lecture-filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:200px;margin-right:10px}#action-buttons[_ngcontent-%COMP%]{width:196px;display:flex;justify-content:space-between}.online-action-column[_ngcontent-%COMP%]{width:210px}.online-action-column[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}.batches-table[_ngcontent-%COMP%]{border-collapse:collapse}.batches-table[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding:3px 5px;font-size:12px;font-weight:500;color:#666;border:1px solid #f1f1f1}.batches-table[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{padding:2px 5px;font-size:10px;color:#888;border:1px solid #f1f1f1}.pinnacle-table.online-lectures[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding:15px}.pinnacle-table-wrapper[_ngcontent-%COMP%]{max-height:74vh;overflow-y:auto}@media screen and (max-width:1196px){#lecture-filters[_ngcontent-%COMP%]{width:100%}#action-buttons[_ngcontent-%COMP%]{margin-top:15px}}@media screen and (max-width:725px){#lecture-filters[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{margin-bottom:15px}#lecture-filters[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}}@media screen and (max-width:600px){#lecture-filters[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{width:calc(50% - 10px)}}"]}),e})();var Re=t("5+WD");function Le(e,c){if(1&e&&(u.jc(0,"option",4),u.Wc(1),u.ic()),2&e){const e=c.$implicit;u.Bc("value",e.courseId),u.Pb(1),u.Yc(" ",e.course," ")}}function Ve(e,c){if(1&e&&(u.jc(0,"option",4),u.Wc(1),u.ic()),2&e){const e=c.$implicit;u.Bc("value",e.batchId),u.Pb(1),u.Yc(" ",e.batch," ")}}function qe(e,c){if(1&e&&(u.jc(0,"option",4),u.Wc(1),u.ic()),2&e){const e=c.$implicit;u.Bc("value",e.subjectId),u.Pb(1),u.Xc(e.subject)}}function Ae(e,c){if(1&e&&(u.jc(0,"div",17),u.jc(1,"mat-icon"),u.Wc(2),u.ic(),u.Wc(3),u.ic()),2&e){const e=c.$implicit;u.Pb(2),u.Xc("Video"==e.lectureType?"movie":"notes"),u.Pb(1),u.Yc(" ",e.title," ")}}function Ue(e,c){if(1&e){const e=u.kc();u.jc(0,"div",11),u.jc(1,"div",12),u.Wc(2,"Sort Notes"),u.ic(),u.jc(3,"div",13),u.jc(4,"div",14),u.rc("cdkDropListDropped",(function(c){return u.Mc(e),u.vc().drop(c)})),u.Vc(5,Ae,4,2,"div",15),u.ic(),u.jc(6,"button",16),u.rc("click",(function(){return u.Mc(e),u.vc().submit()})),u.Wc(7,"Submit"),u.ic(),u.ic(),u.ic()}if(2&e){const e=u.vc();u.Pb(5),u.Bc("ngForOf",e.lectures)}}function Xe(e,c){if(1&e&&(u.jc(0,"div",18),u.Wc(1),u.ic()),2&e){const e=u.vc();u.Pb(1),u.Xc(e.noDataMessage)}}const Ee=[{path:"",component:$e},{path:"sort-lectures",component:(()=>{class e{constructor(e,c){this.coreService=e,this.dialog=c,this.courseId=null,this.batchId=null,this.subjectId=null,this.lectures=[],this.noDataMessage="Please choosed subject"}ngOnInit(){this.getCourses(),this.getBatchesSubjects()}getBatchesSubjects(){this.loading=!0,this.coreService.getRequest(r.a.API_URL+"courses/batches/subjects").subscribe(e=>{this.loading=!1,this.batches_subjects=e})}getOnlineLectures(){this.loading=!0,this.coreService.getRequest(r.a.API_URL+"online-lectures/"+this.courseId+"/"+this.batchId+"/"+this.subjectId+"/sort").subscribe(e=>{this.loading=!1,this.lectures=e,0==e.length&&(this.noDataMessage="No Records Found")})}drop(e){Object(Re.e)(this.lectures,e.previousIndex,e.currentIndex)}setBatches(){let e=this.courses.find(e=>e.courseId==this.courseId);e?(this.batches=e.batches,this.subjects=[]):(this.batches=[],this.subjects=[]),this.batchId=null,this.subjectId=null}setSubjects(){let e=this.batches_subjects.find(e=>e.batchId==this.batchId);this.subjects=e?e.subjects:[],this.subjectId=null}getCourses(){this.loading=!0,this.coreService.getRequest(r.a.API_URL+"courses").subscribe(e=>{this.loading=!1,this.courses=e})}submit(){this.loading=!0,this.coreService.putRequest(r.a.API_URL+"online-lectures/sort-lectures",{lectures:this.lectures}).subscribe(e=>{this.loading=!1,this.dialog.showDialog({content:e.message})})}}return e.\u0275fac=function(c){return new(c||e)(u.dc(d.a),u.dc(b.a))},e.\u0275cmp=u.Xb({type:e,selectors:[["app-sort-lectures"]],decls:22,vars:13,consts:[["id","page-content"],[1,"row","online-lectures-filter"],["id","lecture-filters"],[1,"select",3,"ngModel","ngModelChange","change"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"select",3,"ngModel","ngModelChange"],["color","primary","mat-raised-button","",3,"disabled","click"],["id","sort-area",4,"ngIf"],["class","perfect-centered no-data",4,"ngIf"],[3,"show"],["id","sort-area"],[1,"content-title"],[1,"content-box"],["cdkDropList","",1,"example-list",3,"cdkDropListDropped"],["class","example-box","cdkDrag","",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],["cdkDrag","",1,"example-box"],[1,"perfect-centered","no-data"]],template:function(e,c){1&e&&(u.ec(0,"admin-header"),u.ec(1,"admin-sidebar"),u.jc(2,"div",0),u.jc(3,"div",1),u.jc(4,"div",2),u.jc(5,"select",3),u.rc("ngModelChange",(function(e){return c.courseId=e}))("change",(function(){return c.setBatches()})),u.jc(6,"option",4),u.Wc(7,"Select Course"),u.ic(),u.Vc(8,Le,2,2,"option",5),u.ic(),u.jc(9,"select",3),u.rc("ngModelChange",(function(e){return c.batchId=e}))("change",(function(){return c.setSubjects()})),u.jc(10,"option",4),u.Wc(11,"Select Batch"),u.ic(),u.Vc(12,Ve,2,2,"option",5),u.ic(),u.jc(13,"select",6),u.rc("ngModelChange",(function(e){return c.subjectId=e})),u.jc(14,"option",4),u.Wc(15,"Select Subject"),u.ic(),u.Vc(16,qe,2,2,"option",5),u.ic(),u.jc(17,"button",7),u.rc("click",(function(){return c.getOnlineLectures()})),u.Wc(18,"Search"),u.ic(),u.ic(),u.ic(),u.Vc(19,Ue,8,1,"div",8),u.Vc(20,Xe,2,1,"div",9),u.ic(),u.ec(21,"loading",10)),2&e&&(u.Pb(5),u.Bc("ngModel",c.courseId),u.Pb(1),u.Bc("value",null),u.Pb(2),u.Bc("ngForOf",c.courses),u.Pb(1),u.Bc("ngModel",c.batchId),u.Pb(1),u.Bc("value",null),u.Pb(2),u.Bc("ngForOf",c.batches),u.Pb(1),u.Bc("ngModel",c.subjectId),u.Pb(1),u.Bc("value",null),u.Pb(2),u.Bc("ngForOf",c.subjects),u.Pb(1),u.Bc("disabled",!c.courseId||!c.batchId||!c.subjectId),u.Pb(2),u.Bc("ngIf",c.lectures.length>0),u.Pb(1),u.Bc("ngIf",0==c.lectures.length),u.Pb(1),u.Bc("show",c.loading))},directives:[m.a,g.a,f.s,f.k,f.n,f.o,f.u,i.j,p.b,i.k,I.a,Re.c,Re.a,v.a],styles:["#instructions[_ngcontent-%COMP%]{background-color:#feffa0;padding-right:10px}#instructions[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;padding:20px 10px;border-bottom:1px solid #888;font-weight:400;color:#333;font-size:15px;margin-left:45px}#instructions[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div.material-icons[_ngcontent-%COMP%]{position:absolute;left:-30px}#instructions[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{border-bottom:none}",".online-lectures-filter[_ngcontent-%COMP%]{padding-bottom:15px;flex-wrap:wrap;justify-content:space-between}#lecture-filters[_ngcontent-%COMP%]{width:calc(100% - 196px);display:flex;flex-wrap:wrap;align-items:baseline;justify-content:flex-start}#lecture-filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:200px;margin-right:10px}.batches-table[_ngcontent-%COMP%]{border-collapse:collapse}.batches-table[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding:3px 5px;font-size:12px;font-weight:500;color:#666;border:1px solid #f1f1f1}.batches-table[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{padding:2px 5px;font-size:10px;color:#888;border:1px solid #f1f1f1}.no-data[_ngcontent-%COMP%]{background:#fff;min-height:400px}.pinnacle-table.online-lectures[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding:15px}.example-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:1px solid #ccc;display:block;background:#fff;border-radius:4px;overflow:hidden;margin-bottom:15px}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;flex-direction:row;align-items:center;justify-content:flex-start;box-sizing:border-box;cursor:move;background:#fff;font-size:14px}.example-box[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{margin-right:10px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}@media screen and (max-width:1196px){#lecture-filters[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width:725px){#lecture-filters[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{margin-bottom:15px}#lecture-filters[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}}@media screen and (max-width:600px){#lecture-filters[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{width:calc(50% - 10px)}}"]}),e})()}];let ze=(()=>{class e{}return e.\u0275mod=u.bc({type:e}),e.\u0275inj=u.ac({factory:function(c){return new(c||e)},imports:[[i.c,o.a,n.f.forChild(Ee)]]}),e})()}}]);