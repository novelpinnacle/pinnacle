(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{vzbn:function(e,c,t){"use strict";t.r(c),t.d(c,"ResultsModule",(function(){return y}));var i=t("ofXK"),s=t("n+G7"),a=t("tyNb"),l=t("SP9e"),n=t("fXoL"),o=t("FM/7"),r=t("QeEr"),u=t("aCk2"),d=t("G0I0"),m=t("3Pt+"),g=t("kmnG"),p=t("qFsG"),j=t("d3UM"),f=t("FKr1"),h=t("bTqV"),b=t("ZMsq"),v=t("NFeN");let M=(()=>{class e{constructor(e,c){this.cms=e,this.dialog=c}ngOnInit(){}setSelectedImage(e){this.selectedImage=e.target.files[0]}updateResult(e){let c=new FormData;c.append("image",this.selectedImage),c.append("id",this.result.id+"");for(let t in e)c.append(t,e[t]);this.cms.updateResult(c).subscribe(e=>{e.success&&(this.modal.editResultModal=!1),this.dialog.showDialog({content:e.message})})}}return e.\u0275fac=function(c){return new(c||e)(n.dc(o.a),n.dc(r.a))},e.\u0275cmp=n.Xb({type:e,selectors:[["edit-result"]],inputs:{modal:"modal",result:"result"},decls:30,vars:4,consts:[[3,"ngSubmit"],["form","ngForm"],["matInput","","name","name",3,"ngModel","ngModelChange"],["matInput","","name","classdetails",3,"ngModel","ngModelChange"],["matInput","","name","marks",3,"ngModel","ngModelChange"],["name","category",3,"ngModel","ngModelChange"],["value","cbse"],["value","junior"],["value","senior"],[1,"row"],[1,"col-sm-6"],["type","file","accept","image/x-png,image/gif,image/jpeg",3,"change"],["mat-raised-button","","color","primary"]],template:function(e,c){if(1&e){const e=n.kc();n.jc(0,"form",0,1),n.rc("ngSubmit",(function(){n.Mc(e);const t=n.Ic(1);return c.updateResult(t.value)})),n.jc(2,"mat-form-field"),n.jc(3,"mat-label"),n.Wc(4,"Name"),n.ic(),n.jc(5,"input",2),n.rc("ngModelChange",(function(e){return c.result.name=e})),n.ic(),n.ic(),n.jc(6,"mat-form-field"),n.jc(7,"mat-label"),n.Wc(8,"Class Details"),n.ic(),n.jc(9,"textarea",3),n.rc("ngModelChange",(function(e){return c.result.classdetails=e})),n.ic(),n.ic(),n.jc(10,"mat-form-field"),n.jc(11,"mat-label"),n.Wc(12,"Marks"),n.ic(),n.jc(13,"input",4),n.rc("ngModelChange",(function(e){return c.result.marks=e})),n.ic(),n.ic(),n.jc(14,"mat-form-field"),n.jc(15,"mat-label"),n.Wc(16,"Select Category"),n.ic(),n.jc(17,"mat-select",5),n.rc("ngModelChange",(function(e){return c.result.category=e})),n.jc(18,"mat-option",6),n.Wc(19,"CBSE Result"),n.ic(),n.jc(20,"mat-option",7),n.Wc(21,"Junior Result"),n.ic(),n.jc(22,"mat-option",8),n.Wc(23,"Senior Result"),n.ic(),n.ic(),n.ic(),n.jc(24,"div",9),n.jc(25,"div",10),n.jc(26,"input",11),n.rc("change",(function(e){return c.setSelectedImage(e)})),n.ic(),n.ic(),n.jc(27,"div",10),n.jc(28,"button",12),n.Wc(29,"Submit"),n.ic(),n.ic(),n.ic(),n.ic()}2&e&&(n.Pb(5),n.Bc("ngModel",c.result.name),n.Pb(4),n.Bc("ngModel",c.result.classdetails),n.Pb(4),n.Bc("ngModel",c.result.marks),n.Pb(4),n.Bc("ngModel",c.result.category))},directives:[m.v,m.l,m.m,g.b,g.e,p.a,m.b,m.k,m.n,j.a,f.h,h.b],styles:[""]}),e})();function R(e,c){if(1&e){const e=n.kc();n.jc(0,"tr"),n.jc(1,"td"),n.ec(2,"img",25),n.ic(),n.jc(3,"td"),n.Wc(4),n.ic(),n.jc(5,"td"),n.Wc(6),n.ic(),n.jc(7,"td"),n.Wc(8),n.ic(),n.jc(9,"td"),n.Wc(10),n.ic(),n.jc(11,"td"),n.jc(12,"button",26),n.rc("click",(function(){n.Mc(e);const t=c.$implicit;return n.vc().setActiveResult(t)})),n.jc(13,"mat-icon"),n.Wc(14,"create"),n.ic(),n.ic(),n.Wc(15,"\xa0 "),n.jc(16,"button",27),n.rc("click",(function(){n.Mc(e);const t=c.$implicit;return n.vc().deleteResult(t.id)})),n.jc(17,"mat-icon"),n.Wc(18,"delete"),n.ic(),n.ic(),n.ic(),n.ic()}if(2&e){const e=c.$implicit,t=n.vc();n.Pb(2),n.Bc("src",t.WEBSITE_URL+"uploads/results/"+e.image,n.Pc),n.Pb(2),n.Xc(e.name),n.Pb(2),n.Xc(e.classdetails),n.Pb(2),n.Xc(e.category),n.Pb(2),n.Xc(e.marks)}}function W(e,c){if(1&e&&n.ec(0,"edit-result",28),2&e){const e=n.vc();n.Bc("result",e.activeResult)("modal",e.modal)}}const k=function(){return{width:"60%"}},I=[{path:"",component:(()=>{class e{constructor(e,c){this.cms=e,this.dialog=c,this.WEBSITE_URL=l.a.WEBSITE_URL,this.results=[],this.modal={editResultModal:!1}}ngOnInit(){this.getResults()}getResults(){this.cms.getActiveResults().subscribe(e=>{this.results=e})}setActiveResult(e){this.activeResult=e,this.modal.editResultModal=!0}setSelectedImage(e){this.selectedImage=e.target.files[0]}uploadResult(e){let c=new FormData;c.append("image",this.selectedImage);for(let t in e)c.append(t,e[t]);this.cms.uploadResult(c).subscribe(e=>{e.success&&this.results.unshift(e.result),this.dialog.showDialog({content:e.message})})}deleteResult(e){this.dialog.showDialog({title:"Confirm",content:"Are you sure to delete this Result?",callBack:()=>{this.cms.deleteResult(e).subscribe(c=>{c.success&&this.results.splice(this.results.indexOf(this.results.find(c=>c.id==e)),1)})}})}}return e.\u0275fac=function(c){return new(c||e)(n.dc(o.a),n.dc(r.a))},e.\u0275cmp=n.Xb({type:e,selectors:[["app-upload-results"]],decls:62,vars:5,consts:[["id","page-content"],[1,"content-title"],[1,"content-box"],[3,"ngSubmit"],["form","ngForm"],["matInput","","name","name","ngModel",""],["matInput","","name","classdetails","ngModel",""],["matInput","","name","marks","ngModel",""],["name","category","ngModel",""],["value","cbse"],["value","junior"],["value","senior"],[1,"row"],[1,"col-sm-6"],["type","file","accept","image/x-png,image/gif,image/jpeg",3,"change"],["mat-raised-button","","color","primary"],[2,"height","20px"],[1,"pinnacle-table"],[4,"ngFor","ngForOf"],["modal","",1,"modal",3,"show","options"],[1,"dialog"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],[3,"result","modal",4,"ngIf"],[3,"src"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","warn",3,"click"],[3,"result","modal"]],template:function(e,c){if(1&e){const e=n.kc();n.ec(0,"admin-header"),n.ec(1,"admin-sidebar"),n.jc(2,"div",0),n.jc(3,"div",1),n.Wc(4,"Upload Result"),n.ic(),n.jc(5,"div",2),n.jc(6,"form",3,4),n.rc("ngSubmit",(function(){n.Mc(e);const t=n.Ic(7);return c.uploadResult(t.value)})),n.jc(8,"mat-form-field"),n.jc(9,"mat-label"),n.Wc(10,"Name"),n.ic(),n.ec(11,"input",5),n.ic(),n.jc(12,"mat-form-field"),n.jc(13,"mat-label"),n.Wc(14,"Class Details"),n.ic(),n.ec(15,"textarea",6),n.ic(),n.jc(16,"mat-form-field"),n.jc(17,"mat-label"),n.Wc(18,"Marks"),n.ic(),n.ec(19,"input",7),n.ic(),n.jc(20,"mat-form-field"),n.jc(21,"mat-label"),n.Wc(22,"Select Category"),n.ic(),n.jc(23,"mat-select",8),n.jc(24,"mat-option",9),n.Wc(25,"CBSE Result"),n.ic(),n.jc(26,"mat-option",10),n.Wc(27,"Junior Result"),n.ic(),n.jc(28,"mat-option",11),n.Wc(29,"Senior Result"),n.ic(),n.ic(),n.ic(),n.jc(30,"div",12),n.jc(31,"div",13),n.jc(32,"input",14),n.rc("change",(function(e){return c.setSelectedImage(e)})),n.ic(),n.ic(),n.jc(33,"div",13),n.jc(34,"button",15),n.Wc(35,"Submit"),n.ic(),n.ic(),n.ic(),n.ic(),n.ic(),n.ec(36,"div",16),n.jc(37,"div",1),n.Wc(38,"Active Results"),n.ic(),n.jc(39,"table",17),n.jc(40,"tr"),n.jc(41,"th"),n.Wc(42,"Image"),n.ic(),n.jc(43,"th"),n.Wc(44,"Name"),n.ic(),n.jc(45,"th"),n.Wc(46,"Class Details"),n.ic(),n.jc(47,"th"),n.Wc(48,"Category"),n.ic(),n.jc(49,"th"),n.Wc(50,"Marks"),n.ic(),n.jc(51,"th"),n.Wc(52,"Action"),n.ic(),n.ic(),n.Vc(53,R,19,5,"tr",18),n.ic(),n.ic(),n.jc(54,"div",19),n.jc(55,"div",20),n.jc(56,"div",21),n.Wc(57,"Edit Result"),n.ic(),n.jc(58,"div",22),n.rc("click",(function(){return c.modal.editResultModal=!1})),n.Wc(59,"\xd7"),n.ic(),n.jc(60,"div",23),n.Vc(61,W,1,2,"edit-result",24),n.ic(),n.ic(),n.ic()}2&e&&(n.Pb(53),n.Bc("ngForOf",c.results),n.Pb(1),n.Bc("show",c.modal.editResultModal)("options",n.Cc(4,k)),n.Pb(7),n.Bc("ngIf",c.modal.editResultModal))},directives:[u.a,d.a,m.v,m.l,m.m,g.b,g.e,p.a,m.b,m.k,m.n,j.a,f.h,h.b,i.j,b.a,i.k,v.a,M],styles:["td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:80px}"]}),e})()}];let y=(()=>{class e{}return e.\u0275mod=n.bc({type:e}),e.\u0275inj=n.ac({factory:function(c){return new(c||e)},imports:[[i.c,s.a,a.f.forChild(I)]]}),e})()}}]);